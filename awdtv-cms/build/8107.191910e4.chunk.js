(self.webpackChunkawdtv_cms=self.webpackChunkawdtv_cms||[]).push([[8107],{96538:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Align center":"Align center","Align left":"Align left","Align right":"Align right",Justify:"Justify","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={exports:{}};return Qt[g](E,E.exports,te),E.exports}te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Alignment:()=>q,AlignmentEditing:()=>B,AlignmentUI:()=>V});var g=te(704),R=te(209);const E=["left","right","center","justify"];function w(Y){return E.includes(Y)}function C(Y,ee){return ee.contentLanguageDirection=="rtl"?Y==="right":Y==="left"}function l(Y){const ee=Y.map(ie=>{let u;return u=typeof ie=="string"?{name:ie}:ie,u}).filter(ie=>{const u=E.includes(ie.name);return u||(0,R.logWarning)("alignment-config-name-not-recognized",{option:ie}),u}),re=ee.filter(ie=>Boolean(ie.className)).length;if(re&&re<ee.length)throw new R.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:Y});return ee.forEach((ie,u,_)=>{const p=_.slice(u+1);if(p.some(v=>v.name==ie.name))throw new R.CKEditorError("alignment-config-name-already-defined",{option:ie,configuredOptions:Y});if(ie.className&&p.some(v=>v.className==ie.className))throw new R.CKEditorError("alignment-config-classname-already-defined",{option:ie,configuredOptions:Y})}),ee}const c="alignment";class L extends g.Command{refresh(){const ee=this.editor.locale,re=(0,R.first)(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(re)&&this._canBeAligned(re),this.isEnabled&&re.hasAttribute("alignment")?this.value=re.getAttribute("alignment"):this.value=ee.contentLanguageDirection==="rtl"?"right":"left"}execute(ee={}){const re=this.editor,ie=re.locale,u=re.model,_=u.document,p=ee.value;u.change(v=>{const A=Array.from(_.selection.getSelectedBlocks()).filter(S=>this._canBeAligned(S)),T=A[0].getAttribute("alignment");C(p,ie)||T===p||!p?function(S,ae){for(const $ of S)ae.removeAttribute(c,$)}(A,v):function(S,ae,$){for(const z of S)ae.setAttribute(c,$,z)}(A,v,p)})}_canBeAligned(ee){return this.editor.model.schema.checkAttribute(ee,c)}}class B extends g.Plugin{static get pluginName(){return"AlignmentEditing"}constructor(ee){super(ee),ee.config.define("alignment",{options:E.map(re=>({name:re}))})}init(){const ee=this.editor,re=ee.locale,ie=ee.model.schema,u=l(ee.config.get("alignment.options")).filter(A=>w(A.name)&&!C(A.name,re)),_=u.some(A=>!!A.className);ie.extend("$block",{allowAttributes:"alignment"}),ee.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),_?ee.conversion.attributeToAttribute(function(A){const T={};for(const ae of A)T[ae.name]={key:"class",value:ae.className};return{model:{key:"alignment",values:A.map(ae=>ae.name)},view:T}}(u)):ee.conversion.for("downcast").attributeToAttribute(function(A){const T={};for(const{name:ae}of A)T[ae]={key:"style",value:{"text-align":ae}};return{model:{key:"alignment",values:A.map(ae=>ae.name)},view:T}}(u));const p=function(A){const T=[];for(const{name:S}of A)T.push({view:{key:"style",value:{"text-align":S}},model:{key:"alignment",value:S}});return T}(u);for(const A of p)ee.conversion.for("upcast").attributeToAttribute(A);const v=function(A){const T=[];for(const{name:S}of A)T.push({view:{key:"align",value:S},model:{key:"alignment",value:S}});return T}(u);for(const A of v)ee.conversion.for("upcast").attributeToAttribute(A);ee.commands.add("alignment",new L(ee))}}var y=te(273);const h=new Map([["left",g.icons.alignLeft],["right",g.icons.alignRight],["center",g.icons.alignCenter],["justify",g.icons.alignJustify]]);class V extends g.Plugin{get localizedOptionTitles(){const ee=this.editor.t;return{left:ee("Align left"),right:ee("Align right"),center:ee("Align center"),justify:ee("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const ee=this.editor,re=ee.ui.componentFactory,ie=ee.t,u=l(ee.config.get("alignment.options"));u.map(_=>_.name).filter(w).forEach(_=>this._addButton(_)),re.add("alignment",_=>{const p=(0,y.createDropdown)(_);(0,y.addToolbarToDropdown)(p,()=>u.map(T=>re.create(`alignment:${T.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:ie("Text alignment toolbar")}),p.buttonView.set({label:ie("Text alignment"),tooltip:!0}),p.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const v=_.contentLanguageDirection==="rtl"?h.get("right"):h.get("left"),A=ee.commands.get("alignment");return p.buttonView.bind("icon").to(A,"value",T=>h.get(T)||v),p.bind("isEnabled").to(A,"isEnabled"),this.listenTo(p,"execute",()=>{ee.editing.view.focus()}),p})}_addButton(ee){const re=this.editor;re.ui.componentFactory.add(`alignment:${ee}`,ie=>{const u=re.commands.get("alignment"),_=new y.ButtonView(ie);return _.set({label:this.localizedOptionTitles[ee],icon:h.get(ee),tooltip:!0,isToggleable:!0}),_.bind("isEnabled").to(u),_.bind("isOn").to(u,"value",p=>p===ee),this.listenTo(_,"execute",()=>{re.execute("alignment",{value:ee}),re.editing.view.focus()}),_})}}class q extends g.Plugin{static get requires(){return[B,V]}static get pluginName(){return"Alignment"}}})(),(window.CKEditor5=window.CKEditor5||{}).alignment=zt})()},98709:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Qt={704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={exports:{}};return Qt[g](E,E.exports,te),E.exports}te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Autoformat:()=>L});var g=te(704),R=te(181),E=te(492),w=te(209);function C(y,h,V,q){let Y,ee=null;typeof q=="function"?Y=q:(ee=y.commands.get(q),Y=()=>{y.execute(q)}),y.model.document.on("change:data",(re,ie)=>{if(ee&&!ee.isEnabled||!h.isEnabled)return;const u=(0,w.first)(y.model.document.selection.getRanges());if(!u.isCollapsed||ie.isUndo||!ie.isLocal)return;const _=Array.from(y.model.document.differ.getChanges()),p=_[0];if(_.length!=1||p.type!=="insert"||p.name!="$text"||p.length!=1)return;const v=p.position.parent;if(v.is("element","codeBlock")||v.is("element","listItem")&&typeof q!="function"&&!["numberedList","bulletedList","todoList"].includes(q)||ee&&ee.value===!0)return;const A=v.getChild(0),T=y.model.createRangeOn(A);if(!T.containsRange(u)&&!u.end.isEqual(T.end))return;const S=V.exec(A.data.substr(0,u.end.offset));S&&y.model.enqueueChange(ae=>{const $=ae.createPositionAt(v,0),z=ae.createPositionAt(v,S[0].length),f=new E.LiveRange($,z);if(Y({match:S})!==!1){ae.remove(f);const j=y.model.document.selection.getFirstRange(),Z=ae.createRangeIn(v);!v.isEmpty||Z.isEqual(j)||Z.containsRange(j,!0)||ae.remove(v)}f.detach(),y.model.enqueueChange(()=>{y.plugins.get("Delete").requestUndoOnBackspace()})})})}function l(y,h,V,q){let Y,ee;V instanceof RegExp?Y=V:ee=V,ee=ee||(re=>{let ie;const u=[],_=[];for(;(ie=Y.exec(re))!==null&&!(ie&&ie.length<4);){let{index:p,1:v,2:A,3:T}=ie;const S=v+A+T;p+=ie[0].length-S.length;const ae=[p,p+v.length],$=[p+v.length+A.length,p+v.length+A.length+T.length];u.push(ae),u.push($),_.push([p+v.length,p+v.length+A.length])}return{remove:u,format:_}}),y.model.document.on("change:data",(re,ie)=>{if(ie.isUndo||!ie.isLocal||!h.isEnabled)return;const u=y.model,_=u.document.selection;if(!_.isCollapsed)return;const p=Array.from(u.document.differ.getChanges()),v=p[0];if(p.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)return;const A=_.focus,T=A.parent,{text:S,range:ae}=function(j,Z){let D=j.start;return{text:Array.from(j.getItems()).reduce((Se,je)=>!je.is("$text")&&!je.is("$textProxy")||je.getAttribute("code")?(D=Z.createPositionAfter(je),""):Se+je.data,""),range:Z.createRange(D,j.end)}}(u.createRange(u.createPositionAt(T,0),A),u),$=ee(S),z=c(ae.start,$.format,u),f=c(ae.start,$.remove,u);z.length&&f.length&&u.enqueueChange(j=>{if(q(j,z)!==!1){for(const Z of f.reverse())j.remove(Z);u.enqueueChange(()=>{y.plugins.get("Delete").requestUndoOnBackspace()})}})})}function c(y,h,V){return h.filter(q=>q[0]!==void 0&&q[1]!==void 0).map(q=>V.createRange(y.getShiftedBy(q[0]),y.getShiftedBy(q[1])))}class L extends g.Plugin{static get requires(){return[R.Delete]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const h=this.editor.commands;h.get("bulletedList")&&C(this.editor,this,/^[*-]\s$/,"bulletedList"),h.get("numberedList")&&C(this.editor,this,/^1[.|)]\s$/,"numberedList"),h.get("todoList")&&C(this.editor,this,/^\[\s?\]\s$/,"todoList"),h.get("checkTodoList")&&C(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const h=this.editor.commands;if(h.get("bold")){const V=B(this.editor,"bold");l(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,V),l(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,V)}if(h.get("italic")){const V=B(this.editor,"italic");l(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,V),l(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,V)}if(h.get("code")){const V=B(this.editor,"code");l(this.editor,this,/(`)([^`]+)(`)$/g,V)}if(h.get("strikethrough")){const V=B(this.editor,"strikethrough");l(this.editor,this,/(~~)([^~]+)(~~)$/g,V)}}_addHeadingAutoformats(){const h=this.editor.commands.get("heading");h&&h.modelElements.filter(V=>V.match(/^heading[1-6]$/)).forEach(V=>{const q=V[7],Y=new RegExp(`^(#{${q}})\\s$`);C(this.editor,this,Y,()=>{if(!h.isEnabled||h.value===V)return!1;this.editor.execute("heading",{value:V})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&C(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const h=this.editor,V=h.model.document.selection;h.commands.get("codeBlock")&&C(h,this,/^```$/,()=>{if(V.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&C(this.editor,this,/^---$/,"horizontalLine")}}function B(y,h){return(V,q)=>{if(!y.commands.get(h).isEnabled)return!1;const Y=y.model.schema.getValidRanges(q,h);for(const ee of Y)V.setAttribute(h,!0,ee);V.removeSelectionAttribute(h)}}})(),(window.CKEditor5=window.CKEditor5||{}).autoformat=zt})()},69711:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{Bold:"Bold",Code:"Code",Italic:"Italic",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript",Underline:"Underline"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={55:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Bold:()=>L,BoldEditing:()=>w,BoldUI:()=>c,Code:()=>u,CodeEditing:()=>h,CodeUI:()=>ie,Italic:()=>T,ItalicEditing:()=>p,ItalicUI:()=>A,Strikethrough:()=>f,StrikethroughEditing:()=>ae,StrikethroughUI:()=>z,Subscript:()=>Se,SubscriptEditing:()=>Z,SubscriptUI:()=>oe,Superscript:()=>lt,SuperscriptEditing:()=>Ie,SuperscriptUI:()=>mt,Underline:()=>Qe,UnderlineEditing:()=>dt,UnderlineUI:()=>bt});var g=te(704);class R extends g.Command{constructor(Ve,Te){super(Ve),this.attributeKey=Te}refresh(){const Ve=this.editor.model,Te=Ve.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=Ve.schema.checkAttributeInSelection(Te.selection,this.attributeKey)}execute(Ve={}){const Te=this.editor.model,Q=Te.document.selection,xe=Ve.forceValue===void 0?!this.value:Ve.forceValue;Te.change(Oe=>{if(Q.isCollapsed)xe?Oe.setSelectionAttribute(this.attributeKey,!0):Oe.removeSelectionAttribute(this.attributeKey);else{const Je=Te.schema.getValidRanges(Q.getRanges(),this.attributeKey);for(const $e of Je)xe?Oe.setAttribute(this.attributeKey,xe,$e):Oe.removeAttribute(this.attributeKey,$e)}})}_getValueFromFirstAllowedNode(){const Ve=this.editor.model,Te=Ve.schema,Q=Ve.document.selection;if(Q.isCollapsed)return Q.hasAttribute(this.attributeKey);for(const xe of Q.getRanges())for(const Oe of xe.getItems())if(Te.checkAttribute(Oe,this.attributeKey))return Oe.hasAttribute(this.attributeKey);return!1}}const E="bold";class w extends g.Plugin{static get pluginName(){return"BoldEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:E}),Ve.model.schema.setAttributeProperties(E,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:E,view:"strong",upcastAlso:["b",Te=>{const Q=Te.getStyle("font-weight");return Q&&(Q=="bold"||Number(Q)>=600)?{name:!0,styles:["font-weight"]}:null}]}),Ve.commands.add(E,new R(Ve,E)),Ve.keystrokes.set("CTRL+B",E)}}var C=te(273);const l="bold";class c extends g.Plugin{static get pluginName(){return"BoldUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(l,Q=>{const xe=Ve.commands.get(l),Oe=new C.ButtonView(Q);return Oe.set({label:Te("Bold"),icon:g.icons.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(l),Ve.editing.view.focus()}),Oe})}}class L extends g.Plugin{static get requires(){return[w,c]}static get pluginName(){return"Bold"}}var B=te(181);const y="code";class h extends g.Plugin{static get pluginName(){return"CodeEditing"}static get requires(){return[B.TwoStepCaretMovement]}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:y}),Ve.model.schema.setAttributeProperties(y,{isFormatting:!0,copyOnEnter:!1}),Ve.conversion.attributeToElement({model:y,view:"code",upcastAlso:{styles:{"word-wrap":"break-word"}}}),Ve.commands.add(y,new R(Ve,y)),Ve.plugins.get(B.TwoStepCaretMovement).registerAttribute(y),(0,B.inlineHighlight)(Ve,y,"code","ck-code_selected")}}var V=te(62),q=te.n(V),Y=te(55),ee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};q()(Y.Z,ee),Y.Z.locals;const re="code";class ie extends g.Plugin{static get pluginName(){return"CodeUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(re,Q=>{const xe=Ve.commands.get(re),Oe=new C.ButtonView(Q);return Oe.set({label:Te("Code"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(re),Ve.editing.view.focus()}),Oe})}}class u extends g.Plugin{static get requires(){return[h,ie]}static get pluginName(){return"Code"}}const _="italic";class p extends g.Plugin{static get pluginName(){return"ItalicEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:_}),Ve.model.schema.setAttributeProperties(_,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:_,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),Ve.commands.add(_,new R(Ve,_)),Ve.keystrokes.set("CTRL+I",_)}}const v="italic";class A extends g.Plugin{static get pluginName(){return"ItalicUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(v,Q=>{const xe=Ve.commands.get(v),Oe=new C.ButtonView(Q);return Oe.set({label:Te("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(v),Ve.editing.view.focus()}),Oe})}}class T extends g.Plugin{static get requires(){return[p,A]}static get pluginName(){return"Italic"}}const S="strikethrough";class ae extends g.Plugin{static get pluginName(){return"StrikethroughEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:S}),Ve.model.schema.setAttributeProperties(S,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:S,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),Ve.commands.add(S,new R(Ve,S)),Ve.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const $="strikethrough";class z extends g.Plugin{static get pluginName(){return"StrikethroughUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add($,Q=>{const xe=Ve.commands.get($),Oe=new C.ButtonView(Q);return Oe.set({label:Te("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute($),Ve.editing.view.focus()}),Oe})}}class f extends g.Plugin{static get requires(){return[ae,z]}static get pluginName(){return"Strikethrough"}}const j="subscript";class Z extends g.Plugin{static get pluginName(){return"SubscriptEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:j}),Ve.model.schema.setAttributeProperties(j,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:j,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),Ve.commands.add(j,new R(Ve,j))}}const D="subscript";class oe extends g.Plugin{static get pluginName(){return"SubscriptUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(D,Q=>{const xe=Ve.commands.get(D),Oe=new C.ButtonView(Q);return Oe.set({label:Te("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(D),Ve.editing.view.focus()}),Oe})}}class Se extends g.Plugin{static get requires(){return[Z,oe]}static get pluginName(){return"Subscript"}}const je="superscript";class Ie extends g.Plugin{static get pluginName(){return"SuperscriptEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:je}),Ve.model.schema.setAttributeProperties(je,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:je,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),Ve.commands.add(je,new R(Ve,je))}}const De="superscript";class mt extends g.Plugin{static get pluginName(){return"SuperscriptUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(De,Q=>{const xe=Ve.commands.get(De),Oe=new C.ButtonView(Q);return Oe.set({label:Te("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(De),Ve.editing.view.focus()}),Oe})}}class lt extends g.Plugin{static get requires(){return[Ie,mt]}static get pluginName(){return"Superscript"}}const ut="underline";class dt extends g.Plugin{static get pluginName(){return"UnderlineEditing"}init(){const Ve=this.editor;Ve.model.schema.extend("$text",{allowAttributes:ut}),Ve.model.schema.setAttributeProperties(ut,{isFormatting:!0,copyOnEnter:!0}),Ve.conversion.attributeToElement({model:ut,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),Ve.commands.add(ut,new R(Ve,ut)),Ve.keystrokes.set("CTRL+U","underline")}}const vt="underline";class bt extends g.Plugin{static get pluginName(){return"UnderlineUI"}init(){const Ve=this.editor,Te=Ve.t;Ve.ui.componentFactory.add(vt,Q=>{const xe=Ve.commands.get(vt),Oe=new C.ButtonView(Q);return Oe.set({label:Te("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),Oe.bind("isOn","isEnabled").to(xe,"value","isEnabled"),this.listenTo(Oe,"execute",()=>{Ve.execute(vt),Ve.editing.view.focus()}),Oe})}}class Qe extends g.Plugin{static get requires(){return[dt,bt]}static get pluginName(){return"Underline"}}})(),(window.CKEditor5=window.CKEditor5||{}).basicStyles=zt})()},49614:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Block quote":"Block quote"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={93:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},331:(g,R,E)=>{g.exports=E(79)("./src/enter.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{BlockQuote:()=>re,BlockQuoteEditing:()=>B,BlockQuoteUI:()=>ee});var g=te(704),R=te(331),E=te(181),w=te(209);class C extends g.Command{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(u={}){const _=this.editor.model,p=_.schema,v=_.document.selection,A=Array.from(v.getSelectedBlocks()),T=u.forceValue===void 0?!this.value:u.forceValue;_.change(S=>{if(T){const ae=A.filter($=>l($)||L(p,$));this._applyQuote(S,ae)}else this._removeQuote(S,A.filter(l))})}_getValue(){const u=this.editor.model.document.selection,_=(0,w.first)(u.getSelectedBlocks());return!(!_||!l(_))}_checkEnabled(){if(this.value)return!0;const u=this.editor.model.document.selection,_=this.editor.model.schema,p=(0,w.first)(u.getSelectedBlocks());return!!p&&L(_,p)}_removeQuote(u,_){c(u,_).reverse().forEach(p=>{if(p.start.isAtStart&&p.end.isAtEnd)return void u.unwrap(p.start.parent);if(p.start.isAtStart){const A=u.createPositionBefore(p.start.parent);return void u.move(p,A)}p.end.isAtEnd||u.split(p.end);const v=u.createPositionAfter(p.end.parent);u.move(p,v)})}_applyQuote(u,_){const p=[];c(u,_).reverse().forEach(v=>{let A=l(v.start);A||(A=u.createElement("blockQuote"),u.wrap(v,A)),p.push(A)}),p.reverse().reduce((v,A)=>v.nextSibling==A?(u.merge(u.createPositionAfter(v)),v):A)}}function l(ie){return ie.parent.name=="blockQuote"?ie.parent:null}function c(ie,u){let _,p=0;const v=[];for(;p<u.length;){const A=u[p],T=u[p+1];_||(_=ie.createPositionBefore(A)),T&&A.nextSibling==T||(v.push(ie.createRange(_,ie.createPositionAfter(A))),_=null),p++}return v}function L(ie,u){const _=ie.checkChild(u.parent,"blockQuote"),p=ie.checkChild(["$root","blockQuote"],u);return _&&p}class B extends g.Plugin{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[R.Enter,E.Delete]}init(){const u=this.editor,_=u.model.schema;u.commands.add("blockQuote",new C(u)),_.register("blockQuote",{inheritAllFrom:"$container"}),u.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),u.model.document.registerPostFixer(T=>{const S=u.model.document.differ.getChanges();for(const ae of S)if(ae.type=="insert"){const $=ae.position.nodeAfter;if(!$)continue;if($.is("element","blockQuote")&&$.isEmpty)return T.remove($),!0;if($.is("element","blockQuote")&&!_.checkChild(ae.position,$))return T.unwrap($),!0;if($.is("element")){const z=T.createRangeIn($);for(const f of z.getItems())if(f.is("element","blockQuote")&&!_.checkChild(T.createPositionBefore(f),f))return T.unwrap(f),!0}}else if(ae.type=="remove"){const $=ae.position.parent;if($.is("element","blockQuote")&&$.isEmpty)return T.remove($),!0}return!1});const p=this.editor.editing.view.document,v=u.model.document.selection,A=u.commands.get("blockQuote");this.listenTo(p,"enter",(T,S)=>{!v.isCollapsed||!A.value||v.getLastPosition().parent.isEmpty&&(u.execute("blockQuote"),u.editing.view.scrollToTheSelection(),S.preventDefault(),T.stop())},{context:"blockquote"}),this.listenTo(p,"delete",(T,S)=>{if(S.direction!="backward"||!v.isCollapsed||!A.value)return;const ae=v.getLastPosition().parent;ae.isEmpty&&!ae.previousSibling&&(u.execute("blockQuote"),u.editing.view.scrollToTheSelection(),S.preventDefault(),T.stop())},{context:"blockquote"})}}var y=te(273),h=te(62),V=te.n(h),q=te(93),Y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};V()(q.Z,Y),q.Z.locals;class ee extends g.Plugin{static get pluginName(){return"BlockQuoteUI"}init(){const u=this.editor,_=u.t;u.ui.componentFactory.add("blockQuote",p=>{const v=u.commands.get("blockQuote"),A=new y.ButtonView(p);return A.set({label:_("Block quote"),icon:g.icons.quote,tooltip:!0,isToggleable:!0}),A.bind("isOn","isEnabled").to(v,"value","isEnabled"),this.listenTo(A,"execute",()=>{u.execute("blockQuote"),u.editing.view.focus()}),A})}}class re extends g.Plugin{static get requires(){return[B,ee]}static get pluginName(){return"BlockQuote"}}})(),(window.CKEditor5=window.CKEditor5||{}).blockQuote=zt})()},83948:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Insert code block":"Insert code block","Plain text":"Plain text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={11:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},331:(g,R,E)=>{g.exports=E(79)("./src/enter.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{CodeBlock:()=>$,CodeBlockEditing:()=>ie,CodeBlockUI:()=>ae});var g=te(704),R=te(331),E=te(492),w=te(209);function C(z){const f=z.t,j=z.config.get("codeBlock.languages");for(const Z of j)Z.label==="Plain text"&&(Z.label=f("Plain text")),Z.class===void 0&&(Z.class=`language-${Z.language}`);return j}function l(z,f,j){const Z={};for(const D of z)f==="class"?Z[D[f].split(" ").shift()]=D[j]:Z[D[f]]=D[j];return Z}function c(z){return z.data.match(/^(\s*)/)[0]}function L(z){const f=z.document.selection,j=[];if(f.isCollapsed)return[f.anchor];const Z=f.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"});for(const{item:D}of Z){if(!D.is("$textProxy"))continue;const{parent:oe,startOffset:Se}=D.textNode;if(!oe.is("element","codeBlock"))continue;const je=c(D.textNode),Ie=z.createPositionAt(oe,Se+je.length);j.push(Ie)}return j}function B(z){const f=(0,w.first)(z.getSelectedBlocks());return!!f&&f.is("element","codeBlock")}function y(z,f){return!f.is("rootElement")&&!z.isLimit(f)&&z.checkChild(f.parent,"codeBlock")}class h extends g.Command{constructor(f){super(f),this._lastLanguage=null}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(f={}){const j=this.editor,Z=j.model,D=Z.document.selection,oe=C(j)[0],Se=Array.from(D.getSelectedBlocks()),je=f.forceValue==null?!this.value:f.forceValue,Ie=function(De,mt,lt){return De.language?De.language:De.usePreviousLanguageChoice&&mt?mt:lt}(f,this._lastLanguage,oe.language);Z.change(De=>{je?this._applyCodeBlock(De,Se,Ie):this._removeCodeBlock(De,Se)})}_getValue(){const f=this.editor.model.document.selection,j=(0,w.first)(f.getSelectedBlocks());return!(!j||!j.is("element","codeBlock"))&&j.getAttribute("language")}_checkEnabled(){if(this.value)return!0;const f=this.editor.model.document.selection,j=this.editor.model.schema,Z=(0,w.first)(f.getSelectedBlocks());return!!Z&&y(j,Z)}_applyCodeBlock(f,j,Z){this._lastLanguage=Z;const D=this.editor.model.schema,oe=j.filter(Se=>y(D,Se));for(const Se of oe)f.rename(Se,"codeBlock"),f.setAttribute("language",Z,Se),D.removeDisallowedAttributes([Se],f),Array.from(Se.getChildren()).filter(je=>!D.checkChild(Se,je)).forEach(je=>f.remove(je));oe.reverse().forEach((Se,je)=>{const Ie=oe[je+1];Se.previousSibling===Ie&&(f.appendElement("softBreak",Ie),f.merge(f.createPositionBefore(Se)))})}_removeCodeBlock(f,j){const Z=j.filter(D=>D.is("element","codeBlock"));for(const D of Z){const oe=f.createRangeOn(D);for(const Se of Array.from(oe.getItems()).reverse())if(Se.is("element","softBreak")&&Se.parent.is("element","codeBlock")){const{position:je}=f.split(f.createPositionBefore(Se)),Ie=je.nodeAfter;f.rename(Ie,"paragraph"),f.removeAttribute("language",Ie),f.remove(Se)}f.rename(D,"paragraph"),f.removeAttribute("language",D)}}}class V extends g.Command{constructor(f){super(f),this._indentSequence=f.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const f=this.editor.model;f.change(j=>{const Z=L(f);for(const D of Z){const oe=j.createText(this._indentSequence);f.insertContent(oe,D)}})}_checkEnabled(){return!!this._indentSequence&&B(this.editor.model.document.selection)}}class q extends g.Command{constructor(f){super(f),this._indentSequence=f.config.get("codeBlock.indentSequence")}refresh(){this.isEnabled=this._checkEnabled()}execute(){const f=this.editor.model;f.change(()=>{const j=L(f);for(const Z of j){const D=Y(f,Z,this._indentSequence);D&&f.deleteContent(f.createSelection(D))}})}_checkEnabled(){if(!this._indentSequence)return!1;const f=this.editor.model;return!!B(f.document.selection)&&L(f).some(j=>Y(f,j,this._indentSequence))}}function Y(z,f,j){const Z=function(Ie){let De=Ie.parent.getChild(Ie.index);return De&&!De.is("element","softBreak")||(De=Ie.nodeBefore),!De||De.is("element","softBreak")?null:De}(f);if(!Z)return null;const D=c(Z),oe=D.lastIndexOf(j);if(oe+j.length!==D.length||oe===-1)return null;const{parent:Se,startOffset:je}=Z;return z.createRange(z.createPositionAt(Se,je+oe),z.createPositionAt(Se,je+oe+j.length))}function ee(z,f,j=!1){const Z=l(f,"language","class"),D=l(f,"language","label");return(oe,Se,je)=>{const{writer:Ie,mapper:De,consumable:mt}=je;if(!mt.consume(Se.item,"insert"))return;const lt=Se.item.getAttribute("language"),ut=De.toViewPosition(z.createPositionBefore(Se.item)),dt={};j&&(dt["data-language"]=D[lt],dt.spellcheck="false");const vt=Z[lt]?{class:Z[lt]}:void 0,bt=Ie.createContainerElement("code",vt),Qe=Ie.createContainerElement("pre",dt,bt);Ie.insert(ut,Qe),De.bindElements(Se.item,bt)}}const re="paragraph";class ie extends g.Plugin{static get pluginName(){return"CodeBlockEditing"}static get requires(){return[R.ShiftEnter]}constructor(f){super(f),f.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"	"})}init(){const f=this.editor,j=f.model.schema,Z=f.model,D=f.editing.view,oe=f.plugins.has("DocumentListEditing")?f.plugins.get("DocumentListEditing"):null,Se=C(f);f.commands.add("codeBlock",new h(f)),f.commands.add("indentCodeBlock",new V(f)),f.commands.add("outdentCodeBlock",new q(f)),this.listenTo(D.document,"tab",(je,Ie)=>{const De=Ie.shiftKey?"outdentCodeBlock":"indentCodeBlock";f.commands.get(De).isEnabled&&(f.execute(De),Ie.stopPropagation(),Ie.preventDefault(),je.stop())},{context:"pre"}),j.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),j.addAttributeCheck((je,Ie)=>!!(je.endsWith("codeBlock")&&oe&&oe.getListAttributeNames().includes(Ie))||!je.endsWith("codeBlock $text")&&void 0),f.model.schema.addChildCheck((je,Ie)=>{if(je.endsWith("codeBlock")&&Ie.isObject)return!1}),f.editing.downcastDispatcher.on("insert:codeBlock",ee(Z,Se,!0)),f.data.downcastDispatcher.on("insert:codeBlock",ee(Z,Se)),f.data.downcastDispatcher.on("insert:softBreak",function(je){return(Ie,De,mt)=>{if(De.item.parent.name!=="codeBlock")return;const{writer:lt,mapper:ut,consumable:dt}=mt;if(!dt.consume(De.item,"insert"))return;const vt=ut.toViewPosition(je.createPositionBefore(De.item));lt.insert(vt,lt.createText(`
`))}}(Z),{priority:"high"}),f.data.upcastDispatcher.on("element:code",function(je,Ie){const De=l(Ie,"class","language"),mt=Ie[0].language;return(lt,ut,dt)=>{const vt=ut.viewItem,bt=vt.parent;if(!bt||!bt.is("element","pre")||ut.modelCursor.findAncestor("codeBlock"))return;const{consumable:Qe,writer:ft}=dt;if(!Qe.test(vt,{name:!0}))return;const Ve=ft.createElement("codeBlock"),Te=[...vt.getClassNames()];Te.length||Te.push("");for(const Q of Te){const xe=De[Q];if(xe){ft.setAttribute("language",xe,Ve);break}}Ve.hasAttribute("language")||ft.setAttribute("language",mt,Ve),dt.convertChildren(vt,Ve),dt.safeInsert(Ve,ut.modelCursor)&&(Qe.consume(vt,{name:!0}),dt.updateConversionResult(Ve,ut))}}(0,Se)),f.data.upcastDispatcher.on("text",(je,Ie,{consumable:De,writer:mt})=>{let lt=Ie.modelCursor;if(!De.test(Ie.viewItem)||!lt.findAncestor("codeBlock"))return;De.consume(Ie.viewItem);const ut=Ie.viewItem.data.split(`
`).map(vt=>mt.createText(vt)),dt=ut[ut.length-1];for(const vt of ut)if(mt.insert(vt,lt),lt=lt.getShiftedBy(vt.offsetSize),vt!==dt){const bt=mt.createElement("softBreak");mt.insert(bt,lt),lt=mt.createPositionAfter(bt)}Ie.modelRange=mt.createRange(Ie.modelCursor,lt),Ie.modelCursor=lt}),f.data.upcastDispatcher.on("element:pre",(je,Ie,{consumable:De})=>{const mt=Ie.viewItem;if(mt.findAncestor("pre"))return;const lt=Array.from(mt.getChildren()),ut=lt.find(dt=>dt.is("element","code"));if(ut)for(const dt of lt)dt!==ut&&dt.is("$text")&&De.consume(dt,{name:!0})},{priority:"high"}),this.listenTo(f.editing.view.document,"clipboardInput",(je,Ie)=>{let De=Z.createRange(Z.document.selection.anchor);if(Ie.targetRanges&&(De=f.editing.mapper.toModelRange(Ie.targetRanges[0])),!De.start.parent.is("element","codeBlock"))return;const mt=Ie.dataTransfer.getData("text/plain"),lt=new E.UpcastWriter(f.editing.view.document);Ie.content=function(ut,dt){const vt=ut.createDocumentFragment(),bt=dt.split(`
`),Qe=bt.reduce((ft,Ve,Te)=>(ft.push(Ve),Te<bt.length-1&&ft.push(ut.createElement("br")),ft),[]);return ut.appendChild(Qe,vt),vt}(lt,mt)}),this.listenTo(Z,"getSelectedContent",(je,[Ie])=>{const De=Ie.anchor;!Ie.isCollapsed&&De.parent.is("element","codeBlock")&&De.hasSameParentAs(Ie.focus)&&Z.change(mt=>{const lt=je.return;if(De.parent.is("element")&&(lt.childCount>1||Ie.containsEntireContent(De.parent))){const dt=mt.createElement("codeBlock",De.parent.getAttributes());mt.append(lt,dt);const vt=mt.createDocumentFragment();return mt.append(dt,vt),void(je.return=vt)}const ut=lt.getChild(0);j.checkAttribute(ut,"code")&&mt.setAttribute("code",!0,ut)})})}afterInit(){const f=this.editor,j=f.commands,Z=j.get("indent"),D=j.get("outdent");Z&&Z.registerChildCommand(j.get("indentCodeBlock"),{priority:"highest"}),D&&D.registerChildCommand(j.get("outdentCodeBlock")),this.listenTo(f.editing.view.document,"enter",(oe,Se)=>{f.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(je,Ie){const De=je.model,mt=De.document,lt=je.editing.view,ut=mt.selection.getLastPosition(),dt=ut.nodeAfter;return Ie||!mt.selection.isCollapsed||!ut.isAtStart||!_(dt)?!1:(je.model.change(vt=>{je.execute("enter");const bt=mt.selection.anchor.parent.previousSibling;vt.rename(bt,re),vt.setSelection(bt,"in"),je.model.schema.removeDisallowedAttributes([bt],vt),vt.remove(dt)}),lt.scrollToTheSelection(),!0)}(f,Se.isSoft)||function(je,Ie){const De=je.model,mt=De.document,lt=je.editing.view,ut=mt.selection.getLastPosition(),dt=ut.nodeBefore;let vt;if(Ie||!mt.selection.isCollapsed||!ut.isAtEnd||!dt||!dt.previousSibling)return!1;if(_(dt)&&_(dt.previousSibling))vt=De.createRange(De.createPositionBefore(dt.previousSibling),De.createPositionAfter(dt));else if(u(dt)&&_(dt.previousSibling)&&_(dt.previousSibling.previousSibling))vt=De.createRange(De.createPositionBefore(dt.previousSibling.previousSibling),De.createPositionAfter(dt));else{if(!(u(dt)&&_(dt.previousSibling)&&u(dt.previousSibling.previousSibling)&&dt.previousSibling.previousSibling&&_(dt.previousSibling.previousSibling.previousSibling)))return!1;vt=De.createRange(De.createPositionBefore(dt.previousSibling.previousSibling.previousSibling),De.createPositionAfter(dt))}return je.model.change(bt=>{bt.remove(vt),je.execute("enter");const Qe=mt.selection.anchor.parent;bt.rename(Qe,re),je.model.schema.removeDisallowedAttributes([Qe],bt)}),lt.scrollToTheSelection(),!0}(f,Se.isSoft)||function(je){const Ie=je.model,De=Ie.document,mt=De.selection.getLastPosition(),lt=mt.nodeBefore||mt.textNode;let ut;lt&&lt.is("$text")&&(ut=c(lt)),je.model.change(dt=>{je.execute("shiftEnter"),ut&&dt.insertText(ut,De.selection.anchor)})}(f),Se.preventDefault(),oe.stop())},{context:"pre"})}}function u(z){return z&&z.is("$text")&&!z.data.match(/\S/)}function _(z){return z&&z.is("element","softBreak")}var p=te(273),v=te(62),A=te.n(v),T=te(11),S={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(T.Z,S),T.Z.locals;class ae extends g.Plugin{static get pluginName(){return"CodeBlockUI"}init(){const f=this.editor,j=f.t,Z=f.ui.componentFactory,D=C(f);Z.add("codeBlock",oe=>{const Se=f.commands.get("codeBlock"),je=(0,p.createDropdown)(oe,p.SplitButtonView),Ie=je.buttonView,De=j("Insert code block");return Ie.set({label:De,tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),Ie.bind("isOn").to(Se,"value",mt=>!!mt),Ie.on("execute",()=>{f.execute("codeBlock",{usePreviousLanguageChoice:!0}),f.editing.view.focus()}),je.on("execute",mt=>{f.execute("codeBlock",{language:mt.source._codeBlockLanguage,forceValue:!0}),f.editing.view.focus()}),je.class="ck-code-block-dropdown",je.bind("isEnabled").to(Se),(0,p.addListToDropdown)(je,()=>this._getLanguageListItemDefinitions(D),{role:"menu",ariaLabel:De}),je})}_getLanguageListItemDefinitions(f){const j=this.editor.commands.get("codeBlock"),Z=new w.Collection;for(const D of f){const oe={type:"button",model:new p.Model({_codeBlockLanguage:D.language,label:D.label,role:"menuitemradio",withText:!0})};oe.model.bind("isOn").to(j,"value",Se=>Se===oe.model._codeBlockLanguage),Z.add(oe)}return Z}}class $ extends g.Plugin{static get requires(){return[ie,ae]}static get pluginName(){return"CodeBlock"}}})(),(window.CKEditor5=window.CKEditor5||{}).codeBlock=zt})()},66916:(Qt,It,te)=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var zt={73:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}",""]);const B=L},609:w=>{"use strict";w.exports=function(C){var l=[];return l.toString=function(){return this.map(function(c){var L=C(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,B){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(B)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var q=0;q<c.length;q++){var Y=[].concat(c[q]);B&&y[Y[0]]||(L&&(Y[2]?Y[2]="".concat(L," and ").concat(Y[2]):Y[2]=L),l.push(Y))}},l}},62:(w,C,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),y=[];function h(v){for(var A=-1,T=0;T<y.length;T++)if(y[T].identifier===v){A=T;break}return A}function V(v,A){for(var T={},S=[],ae=0;ae<v.length;ae++){var $=v[ae],z=A.base?$[0]+A.base:$[0],f=T[z]||0,j="".concat(z," ").concat(f);T[z]=f+1;var Z=h(j),D={css:$[1],media:$[2],sourceMap:$[3]};Z!==-1?(y[Z].references++,y[Z].updater(D)):y.push({identifier:j,updater:p(D,A),references:1}),S.push(j)}return S}function q(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var S=l.nc;S&&(T.nonce=S)}if(Object.keys(T).forEach(function($){A.setAttribute($,T[$])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,ee=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function re(v,A,T,S){var ae=T?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(v.styleSheet)v.styleSheet.cssText=ee(A,ae);else{var $=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore($,z[A]):v.appendChild($)}}function ie(v,A,T){var S=T.css,ae=T.media,$=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),$&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify($))))," */")),v.styleSheet)v.styleSheet.cssText=S;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(S))}}var u=null,_=0;function p(v,A){var T,S,ae;if(A.singleton){var $=_++;T=u||(u=q(A)),S=re.bind(null,T,$,!1),ae=re.bind(null,T,$,!0)}else T=q(A),S=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return S(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;S(v=z)}else ae()}}w.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=L());var T=V(v=v||[],A);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var $=h(T[ae]);y[$].references--}for(var z=V(S,A),f=0;f<T.length;f++){var j=h(T[f]);y[j].references===0&&(y[j].updater(),y.splice(j,1))}T=z}}}},704:(w,C,l)=>{w.exports=l(79)("./src/core.js")},492:(w,C,l)=>{w.exports=l(79)("./src/engine.js")},273:(w,C,l)=>{w.exports=l(79)("./src/ui.js")},209:(w,C,l)=>{w.exports=l(79)("./src/utils.js")},434:(w,C,l)=>{w.exports=l(79)("./src/watchdog.js")},79:w=>{"use strict";w.exports=CKEditor5.dll}},g={};function R(w){var C=g[w];if(C!==void 0)return C.exports;var l=g[w]={id:w,exports:{}};return zt[w](l,l.exports,R),l.exports}R.n=w=>{var C=w&&w.__esModule?()=>w.default:()=>w;return R.d(C,{a:C}),C},R.d=(w,C)=>{for(var l in C)R.o(C,l)&&!R.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:C[l]})},R.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),R.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},R.nc=void 0;var E={};(()=>{"use strict";R.r(E),R.d(E,{ClassicEditor:()=>De});var w=R(273),C=R(492),l=R(209);class c extends w.EditorUI{constructor(ut,dt){super(ut),this.view=dt,this._toolbarConfig=(0,w.normalizeToolbarConfig)(ut.config.get("toolbar")),this._elementReplacer=new l.ElementReplacer,this.listenTo(ut.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(ut){const dt=this.editor,vt=this.view,bt=dt.editing.view,Qe=vt.editable,ft=bt.document.getRoot();Qe.name=ft.rootName,vt.render();const Ve=Qe.element;this.setEditableElement(Qe.name,Ve),vt.editable.bind("isFocused").to(this.focusTracker),bt.attachDomRoot(Ve),ut&&this._elementReplacer.replace(ut,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const ut=this.view,dt=this.editor.editing.view;this._elementReplacer.restore(),dt.detachDomRoot(ut.editable.name),ut.destroy()}_initToolbar(){const ut=this.view;ut.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),ut.stickyPanel.limiterElement=ut.element,ut.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:dt})=>dt||0),ut.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(ut.toolbar)}_initPlaceholder(){const ut=this.editor,dt=ut.editing.view,vt=dt.document.getRoot(),bt=ut.sourceElement;let Qe;const ft=ut.config.get("placeholder");ft&&(Qe=typeof ft=="string"?ft:ft[this.view.editable.name]),!Qe&&bt&&bt.tagName.toLowerCase()==="textarea"&&(Qe=bt.getAttribute("placeholder")),Qe&&(vt.placeholder=Qe),(0,C.enablePlaceholder)({view:dt,element:vt,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(ut,dt,vt){const bt=this.view.stickyPanel;if(bt.isSticky){const Qe=new l.Rect(bt.element).height;dt.viewportOffset.top+=Qe}else{const Qe=()=>{this.editor.editing.view.scrollToTheSelection(vt)};this.listenTo(bt,"change:isSticky",Qe),setTimeout(()=>{this.stopListening(bt,"change:isSticky",Qe)},20)}}}var L=R(62),B=R.n(L),y=R(73),h={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};B()(y.Z,h),y.Z.locals;class V extends w.BoxedEditorUIView{constructor(ut,dt,vt={}){super(ut),this.stickyPanel=new w.StickyPanelView(ut),this.toolbar=new w.ToolbarView(ut,{shouldGroupWhenFull:vt.shouldToolbarGroupWhenFull}),this.editable=new w.InlineEditableUIView(ut,dt)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}var q=R(704),Y=R(434);const ee=function(lt){return lt!=null&&typeof lt=="object"},re=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g;var ie=typeof self=="object"&&self&&self.Object===Object&&self;const u=(re||ie||Function("return this")()).Symbol;var _=Object.prototype,p=_.hasOwnProperty,v=_.toString,A=u?u.toStringTag:void 0;const T=function(lt){var ut=p.call(lt,A),dt=lt[A];try{lt[A]=void 0;var vt=!0}catch{}var bt=v.call(lt);return vt&&(ut?lt[A]=dt:delete lt[A]),bt};var S=Object.prototype.toString;const ae=function(lt){return S.call(lt)};var $=u?u.toStringTag:void 0;const z=function(lt){return lt==null?lt===void 0?"[object Undefined]":"[object Null]":$&&$ in Object(lt)?T(lt):ae(lt)},f=function(lt,ut){return function(dt){return lt(ut(dt))}}(Object.getPrototypeOf,Object);var j=Function.prototype,Z=Object.prototype,D=j.toString,oe=Z.hasOwnProperty,Se=D.call(Object);const je=function(lt){if(!ee(lt)||z(lt)!="[object Object]")return!1;var ut=f(lt);if(ut===null)return!0;var dt=oe.call(ut,"constructor")&&ut.constructor;return typeof dt=="function"&&dt instanceof dt&&D.call(dt)==Se},Ie=function(lt){return ee(lt)&&lt.nodeType===1&&!je(lt)};class De extends(0,q.DataApiMixin)((0,q.ElementApiMixin)(q.Editor)){constructor(ut,dt={}){if(!mt(ut)&&dt.initialData!==void 0)throw new l.CKEditorError("editor-create-initial-data",null);super(dt),this.config.get("initialData")===void 0&&this.config.set("initialData",function(Qe){return mt(Qe)?(0,l.getDataFromElement)(Qe):Qe}(ut)),mt(ut)&&(this.sourceElement=ut),this.model.document.createRoot();const vt=!this.config.get("toolbar.shouldNotGroupWhenFull"),bt=new V(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:vt});this.ui=new c(this,bt),(0,q.attachToForm)(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(ut,dt={}){return new Promise(vt=>{const bt=new this(ut,dt);vt(bt.initPlugins().then(()=>bt.ui.init(mt(ut)?ut:null)).then(()=>bt.data.init(bt.config.get("initialData"))).then(()=>bt.fire("ready")).then(()=>bt))})}}function mt(lt){return Ie(lt)}De.Context=q.Context,De.EditorWatchdog=Y.EditorWatchdog,De.ContextWatchdog=Y.ContextWatchdog})(),(window.CKEditor5=window.CKEditor5||{}).editorClassic=E})()},16619:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Qt={945:(g,R,E)=>{g.exports=E(79)("./src/clipboard.js")},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},331:(g,R,E)=>{g.exports=E(79)("./src/enter.js")},468:(g,R,E)=>{g.exports=E(79)("./src/select-all.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},254:(g,R,E)=>{g.exports=E(79)("./src/undo.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={exports:{}};return Qt[g](E,E.exports,te),E.exports}te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Essentials:()=>c});var g=te(704),R=te(945),E=te(331),w=te(468),C=te(181),l=te(254);class c extends g.Plugin{static get requires(){return[R.Clipboard,E.Enter,w.SelectAll,E.ShiftEnter,C.Typing,l.Undo]}static get pluginName(){return"Essentials"}}})(),(window.CKEditor5=window.CKEditor5||{}).essentials=zt})()},32521:(Qt,It,te)=>{(function(zt){const g=zt.en=zt.en||{};g.dictionary=Object.assign(g.dictionary||{},{Find:"Find","Find and replace":"Find and replace","Find in text\u2026":"Find in text\u2026","Match case":"Match case","Next result":"Next result","Previous result":"Previous result",Replace:"Replace","Replace all":"Replace all","Replace with\u2026":"Replace with\u2026","Show options":"Show options","Text to find must not be empty.":"Text to find must not be empty.","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Whole words only":"Whole words only"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var zt={487:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const B=L},355:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}",""]);const B=L},957:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}",""]);const B=L},609:w=>{"use strict";w.exports=function(C){var l=[];return l.toString=function(){return this.map(function(c){var L=C(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,B){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(B)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var q=0;q<c.length;q++){var Y=[].concat(c[q]);B&&y[Y[0]]||(L&&(Y[2]?Y[2]="".concat(L," and ").concat(Y[2]):Y[2]=L),l.push(Y))}},l}},62:(w,C,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),y=[];function h(v){for(var A=-1,T=0;T<y.length;T++)if(y[T].identifier===v){A=T;break}return A}function V(v,A){for(var T={},S=[],ae=0;ae<v.length;ae++){var $=v[ae],z=A.base?$[0]+A.base:$[0],f=T[z]||0,j="".concat(z," ").concat(f);T[z]=f+1;var Z=h(j),D={css:$[1],media:$[2],sourceMap:$[3]};Z!==-1?(y[Z].references++,y[Z].updater(D)):y.push({identifier:j,updater:p(D,A),references:1}),S.push(j)}return S}function q(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var S=l.nc;S&&(T.nonce=S)}if(Object.keys(T).forEach(function($){A.setAttribute($,T[$])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,ee=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function re(v,A,T,S){var ae=T?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(v.styleSheet)v.styleSheet.cssText=ee(A,ae);else{var $=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore($,z[A]):v.appendChild($)}}function ie(v,A,T){var S=T.css,ae=T.media,$=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),$&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify($))))," */")),v.styleSheet)v.styleSheet.cssText=S;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(S))}}var u=null,_=0;function p(v,A){var T,S,ae;if(A.singleton){var $=_++;T=u||(u=q(A)),S=re.bind(null,T,$,!1),ae=re.bind(null,T,$,!0)}else T=q(A),S=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return S(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;S(v=z)}else ae()}}w.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=L());var T=V(v=v||[],A);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var $=h(T[ae]);y[$].references--}for(var z=V(S,A),f=0;f<T.length;f++){var j=h(T[f]);y[j].references===0&&(y[j].updater(),y.splice(j,1))}T=z}}}},704:(w,C,l)=>{w.exports=l(79)("./src/core.js")},273:(w,C,l)=>{w.exports=l(79)("./src/ui.js")},209:(w,C,l)=>{w.exports=l(79)("./src/utils.js")},79:w=>{"use strict";w.exports=CKEditor5.dll}},g={};function R(w){var C=g[w];if(C!==void 0)return C.exports;var l=g[w]={id:w,exports:{}};return zt[w](l,l.exports,R),l.exports}R.n=w=>{var C=w&&w.__esModule?()=>w.default:()=>w;return R.d(C,{a:C}),C},R.d=(w,C)=>{for(var l in C)R.o(C,l)&&!R.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:C[l]})},R.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),R.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},R.nc=void 0;var E={};(()=>{"use strict";R.r(E),R.d(E,{FindAndReplace:()=>Zi,FindAndReplaceEditing:()=>Pi,FindAndReplaceUI:()=>ee,FindAndReplaceUtils:()=>Q,FindCommand:()=>re,FindNextCommand:()=>p,FindPreviousCommand:()=>v,ReplaceAllCommand:()=>_,ReplaceCommand:()=>u});var w=R(704),C=R(273),l=R(209),c=R(62),L=R.n(c),B=R(487),y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(B.Z,y),B.Z.locals;var h=R(957),V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(h.Z,V),h.Z.locals;const q='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';class Y extends C.View{constructor(ue){super(ue);const ye=ue.t;this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",(Le,Ge)=>Le>0&&!Ge),this._findInputView=this._createInputField(ye("Find in text\u2026")),this._replaceInputView=this._createInputField(ye("Replace with\u2026")),this._findButtonView=this._createButton({label:ye("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._findPrevButtonView=this._createButton({label:ye("Previous result"),class:"ck-button-prev",icon:q,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:ye("Next result"),class:"ck-button-next",icon:q,keystroke:"F3",tooltip:!0}),this._optionsDropdown=this._createOptionsDropdown(),this._replaceButtonView=this._createButton({label:ye("Replace"),class:"ck-button-replace",withText:!0}),this._replaceAllButtonView=this._createButton({label:ye("Replace all"),class:"ck-button-replaceall",withText:!0}),this._findFieldsetView=this._createFindFieldset(),this._replaceFieldsetView=this._createReplaceFieldset(),this._focusTracker=new l.FocusTracker,this._keystrokes=new l.KeystrokeHandler,this._focusables=new C.ViewCollection,this._focusCycler=new C.FocusCycler({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new C.FormHeaderView(ue,{label:ye("Find and replace")}),this._findFieldsetView,this._replaceFieldsetView]})}render(){super.render(),(0,C.submitHandler)({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createFindFieldset(){const ue=this.locale,ye=new C.View(ue);return this._findInputView.fieldView.on("input",()=>{this.isDirty=!0}),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findPrevious:Le})=>Le),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",({findNext:Le})=>Le),this._injectFindResultsCounter(),ye.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),ye}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const ue=this.t;this._findInputView.errorText=ue("Text to find must not be empty.")}}_injectFindResultsCounter(){const ue=this.locale,ye=ue.t,Le=this.bindTemplate,Ge=new C.View(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",(gt,Lt)=>ye("%0 of %1",[gt,Lt])),Ge.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",Le.if("isDirty","ck-hidden")]},children:[{text:Le.to("_resultsCounterText")}]});const ot=()=>{const gt=this._findInputView.fieldView.element;if(!gt||!(0,l.isVisible)(gt))return;const Lt=new l.Rect(Ge.element).width,Ot=ue.uiLanguageDirection==="ltr"?"paddingRight":"paddingLeft";gt.style[Ot]=Lt?`calc( 2 * var(--ck-spacing-standard) + ${Lt}px )`:""};this.on("change:_resultsCounterText",ot,{priority:"low"}),this.on("change:isDirty",ot,{priority:"low"}),this._findInputView.template.children[0].children.push(Ge)}_createReplaceFieldset(){const ue=this.locale.t,ye=new C.View(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Le},Ge)=>Le&&Ge),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replaceAll:Le},Ge)=>Le&&Ge),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",({replace:Le},Ge)=>Le&&Ge),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",(Le,Ge)=>Le||!Ge?"":ue("Tip: Find some text first in order to replace it.")),this._replaceButtonView.on("execute",()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})}),this._replaceAllButtonView.on("execute",()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()}),ye.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),ye}_createOptionsDropdown(){const ue=this.locale.t,ye=(0,C.createDropdown)(this.locale);ye.class="ck-options-dropdown",ye.buttonView.set({withText:!1,label:ue("Show options"),icon:w.icons.cog,tooltip:!0});const Le=new C.Model({withText:!0,label:ue("Match case"),_isMatchCaseSwitch:!0}),Ge=new C.Model({withText:!0,label:ue("Whole words only")});return Le.bind("isOn").to(this,"_matchCase"),Ge.bind("isOn").to(this,"_wholeWordsOnly"),ye.on("execute",ot=>{ot.source._isMatchCaseSwitch?this._matchCase=!this._matchCase:this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0}),(0,C.addListToDropdown)(ye,new l.Collection([{type:"switchbutton",model:Le},{type:"switchbutton",model:Ge}])),ye}_initFocusCycling(){[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach(ue=>{this._focusables.add(ue),this._focusTracker.add(ue.element)})}_initKeystrokeHandling(){const ue=Le=>Le.stopPropagation(),ye=Le=>{Le.stopPropagation(),Le.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",Le=>{ye(Le),this._findNextButtonView.fire("execute")}),this._keystrokes.set("shift+f3",Le=>{ye(Le),this._findPrevButtonView.fire("execute")}),this._keystrokes.set("enter",Le=>{const Ge=Le.target;Ge===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),ye(Le)):Ge!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),ye(Le))}),this._keystrokes.set("shift+enter",Le=>{Le.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),ye(Le))}),this._keystrokes.set("arrowright",ue),this._keystrokes.set("arrowleft",ue),this._keystrokes.set("arrowup",ue),this._keystrokes.set("arrowdown",ue)}_createButton(ue){const ye=new C.ButtonView(this.locale);return ye.set(ue),ye}_createInputField(ue){const ye=new C.LabeledFieldView(this.locale,C.createLabeledInputText);return ye.label=ue,ye}}class ee extends w.Plugin{static get pluginName(){return"FindAndReplaceUI"}constructor(ue){super(ue),this.formView=null}init(){const ue=this.editor;ue.ui.componentFactory.add("findAndReplace",ye=>{const Le=(0,C.createDropdown)(ye),Ge=ue.commands.get("find");return Le.bind("isEnabled").to(Ge),Le.once("change:isOpen",()=>{this.formView=new((0,C.CssTransitionDisablerMixin)(Y))(ue.locale),Le.panelView.children.add(this.formView),this._setupFormView(this.formView)}),Le.on("change:isOpen",(ot,gt,Lt)=>{Lt?(this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()):this.fire("searchReseted")},{priority:"low"}),this._setupDropdownButton(Le),Le})}_setupDropdownButton(ue){const ye=this.editor,Le=ye.locale.t;ue.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>',label:Le("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),ye.keystrokes.set("Ctrl+F",(Ge,ot)=>{ue.isEnabled&&(ue.isOpen=!0,ot())})}_setupFormView(ue){const ye=this.editor.commands,Le=this.editor.plugins.get("FindAndReplaceEditing").state,Ge={before:-1,same:0,after:1,different:1};ue.bind("highlightOffset").to(Le,"highlightedResult",Ut=>Ut?Array.from(Le.results).sort((oi,ri)=>Ge[oi.marker.getStart().compareWith(ri.marker.getStart())]).indexOf(Ut)+1:0),ue.listenTo(Le.results,"change",()=>{ue.matchCount=Le.results.length});const ot=ye.get("findNext"),gt=ye.get("findPrevious"),Lt=ye.get("replace"),Ot=ye.get("replaceAll");ue.bind("_areCommandsEnabled").to(ot,"isEnabled",gt,"isEnabled",Lt,"isEnabled",Ot,"isEnabled",(Ut,oi,ri,wi)=>({findNext:Ut,findPrevious:oi,replace:ri,replaceAll:wi})),ue.delegate("findNext","findPrevious","replace","replaceAll").to(this),ue.on("change:isDirty",(Ut,oi,ri)=>{ri&&this.fire("searchReseted")})}}class re extends w.Command{constructor(ue,ye){super(ue),this.isEnabled=!0,this.affectsData=!1,this._state=ye}execute(ue,{matchCase:ye,wholeWords:Le}={}){const{editor:Ge}=this,{model:ot}=Ge,gt=Ge.plugins.get("FindAndReplaceUtils");let Lt;typeof ue=="string"?(Lt=gt.findByTextCallback(ue,{matchCase:ye,wholeWords:Le}),this._state.searchText=ue):Lt=ue;const Ot=ot.document.getRootNames().reduce((Ut,oi)=>gt.updateFindResultFromRange(ot.createRangeIn(ot.document.getRoot(oi)),ot,Lt,Ut),null);return this._state.clear(ot),this._state.results.addMany(Ot),this._state.highlightedResult=Ot.get(0),typeof ue=="string"&&(this._state.searchText=ue),this._state.matchCase=!!ye,this._state.matchWholeWords=!!Le,{results:Ot,findCallback:Lt}}}class ie extends w.Command{constructor(ue,ye){super(ue),this.isEnabled=!0,this._state=ye,this._isEnabledBasedOnSelection=!1}_replace(ue,ye){const{model:Le}=this.editor,Ge=ye.marker.getRange();Le.canEditAt(Ge)&&Le.change(ot=>{if(Ge.root.rootName==="$graveyard")return void this._state.results.remove(ye);let gt={};for(const Lt of Ge.getItems())if(Lt.is("$text")||Lt.is("$textProxy")){gt=Lt.getAttributes();break}Le.insertContent(ot.createText(ue,gt),Ge),this._state.results.has(ye)&&this._state.results.remove(ye)})}}class u extends ie{execute(ue,ye){this._replace(ue,ye)}}class _ extends ie{execute(ue,ye){const{editor:Le}=this,{model:Ge}=Le,ot=Le.plugins.get("FindAndReplaceUtils"),gt=ye instanceof l.Collection?ye:Ge.document.getRootNames().reduce((Lt,Ot)=>ot.updateFindResultFromRange(Ge.createRangeIn(Ge.document.getRoot(Ot)),Ge,ot.findByTextCallback(ye,this._state),Lt),null);gt.length&&Ge.change(()=>{[...gt].forEach(Lt=>{this._replace(ue,Lt)})})}}class p extends w.Command{constructor(ue,ye){super(ue),this.affectsData=!1,this._state=ye,this.isEnabled=!1,this.listenTo(this._state.results,"change",()=>{this.isEnabled=this._state.results.length>1})}refresh(){this.isEnabled=this._state.results.length>1}execute(){const ue=this._state.results,ye=ue.getIndex(this._state.highlightedResult),Le=ye+1>=ue.length?0:ye+1;this._state.highlightedResult=this._state.results.get(Le)}}class v extends p{execute(){const ue=this._state.results.getIndex(this._state.highlightedResult),ye=ue-1<0?this._state.results.length-1:ue-1;this._state.highlightedResult=this._state.results.get(ye)}}class A extends(0,l.ObservableMixin)(){constructor(ue){super(),this.set("results",new l.Collection),this.set("highlightedResult",null),this.set("searchText",""),this.set("replaceText",""),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",(ye,{removed:Le,index:Ge})=>{if(Array.from(Le).length){let ot=!1;if(ue.change(gt=>{for(const Lt of Le)this.highlightedResult===Lt&&(ot=!0),ue.markers.has(Lt.marker.name)&&gt.removeMarker(Lt.marker)}),ot){const gt=Ge>=this.results.length?0:Ge;this.highlightedResult=this.results.get(gt)}}})}clear(ue){this.searchText="",ue.change(ye=>{if(this.highlightedResult){const Le=this.highlightedResult.marker.name.split(":")[1],Ge=ue.markers.get(`findResultHighlighted:${Le}`);Ge&&ye.removeMarker(Ge)}[...this.results].forEach(({marker:Le})=>{ye.removeMarker(Le)})}),this.results.clear()}}const T=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g;var S=typeof self=="object"&&self&&self.Object===Object&&self;const ae=T||S||Function("return this")(),$=ae.Symbol,z=function(at,ue){for(var ye=-1,Le=at==null?0:at.length,Ge=Array(Le);++ye<Le;)Ge[ye]=ue(at[ye],ye,at);return Ge},f=Array.isArray;var j=Object.prototype,Z=j.hasOwnProperty,D=j.toString,oe=$?$.toStringTag:void 0;const Se=function(at){var ue=Z.call(at,oe),ye=at[oe];try{at[oe]=void 0;var Le=!0}catch{}var Ge=D.call(at);return Le&&(ue?at[oe]=ye:delete at[oe]),Ge};var je=Object.prototype.toString;const Ie=function(at){return je.call(at)};var De=$?$.toStringTag:void 0;const mt=function(at){return at==null?at===void 0?"[object Undefined]":"[object Null]":De&&De in Object(at)?Se(at):Ie(at)},lt=function(at){return at!=null&&typeof at=="object"},ut=function(at){return typeof at=="symbol"||lt(at)&&mt(at)=="[object Symbol]"};var dt=$?$.prototype:void 0,vt=dt?dt.toString:void 0;const bt=function at(ue){if(typeof ue=="string")return ue;if(f(ue))return z(ue,at)+"";if(ut(ue))return vt?vt.call(ue):"";var ye=ue+"";return ye=="0"&&1/ue==-1/0?"-0":ye},Qe=function(at){return at==null?"":bt(at)};var ft=/[\\^$.*+?()[\]{}|]/g,Ve=RegExp(ft.source);const Te=function(at){return(at=Qe(at))&&Ve.test(at)?at.replace(ft,"\\$&"):at};class Q extends w.Plugin{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(ue,ye,Le,Ge){const ot=Ge||new l.Collection;return ye.change(gt=>{[...ue].forEach(({type:Lt,item:Ot})=>{if(Lt==="elementStart"&&ye.schema.checkChild(Ot,"$text")){const Ut=Le({item:Ot,text:this.rangeToText(ye.createRangeIn(Ot))});if(!Ut)return;Ut.forEach(oi=>{const ri=`findResult:${(0,l.uid)()}`,wi=gt.addMarker(ri,{usingOperation:!1,affectsData:!1,range:gt.createRange(gt.createPositionAt(Ot,oi.start),gt.createPositionAt(Ot,oi.end))}),Ii=function(Li,yi){const ji=Li.find(({marker:Ki})=>yi.getStart().isBefore(Ki.getStart()));return ji?Li.getIndex(ji):Li.length}(ot,wi);ot.add({id:ri,label:oi.label,marker:wi},Ii)})}})}),ot}rangeToText(ue){return Array.from(ue.getItems()).reduce((ye,Le)=>Le.is("$text")||Le.is("$textProxy")?ye+Le.data:`${ye}
`,"")}findByTextCallback(ue,ye){let Le="gu";ye.matchCase||(Le+="i");let Ge=`(${Te(ue)})`;if(ye.wholeWords){const gt="[^a-zA-Z\xC0-\u024F\u1E00-\u1EFF]";new RegExp("^"+gt).test(ue)||(Ge=`(^|${gt}|_)${Ge}`),new RegExp(gt+"$").test(ue)||(Ge=`${Ge}(?=_|${gt}|$)`)}const ot=new RegExp(Ge,Le);return function({text:gt}){return[...gt.matchAll(ot)].map(xe)}}}function xe(at){const ue=at.length-1;let ye=at.index;return at.length===3&&(ye+=at[1].length),{label:at[ue],start:ye,end:ye+at[ue].length}}const Oe=function(at){var ue=typeof at;return at!=null&&(ue=="object"||ue=="function")},Je=function(){return ae.Date.now()};var $e=/\s/;const tt=function(at){for(var ue=at.length;ue--&&$e.test(at.charAt(ue)););return ue};var st=/^\s+/;const Pt=function(at){return at&&at.slice(0,tt(at)+1).replace(st,"")};var Ft=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,ui=/^0o[0-7]+$/i,Vt=parseInt;const ti=function(at){if(typeof at=="number")return at;if(ut(at))return NaN;if(Oe(at)){var ue=typeof at.valueOf=="function"?at.valueOf():at;at=Oe(ue)?ue+"":ue}if(typeof at!="string")return at===0?at:+at;at=Pt(at);var ye=Gt.test(at);return ye||ui.test(at)?Vt(at.slice(2),ye?2:8):Ft.test(at)?NaN:+at};var hi=Math.max,Ci=Math.min;const Oi=function(at,ue,ye){var Le,Ge,ot,gt,Lt,Ot,Ut=0,oi=!1,ri=!1,wi=!0;if(typeof at!="function")throw new TypeError("Expected a function");function Ii(Mi){var tn=Le,Zt=Ge;return Le=Ge=void 0,Ut=Mi,gt=at.apply(Zt,tn)}function Li(Mi){var tn=Mi-Ot;return Ot===void 0||tn>=ue||tn<0||ri&&Mi-Ut>=ot}function yi(){var Mi=Je();if(Li(Mi))return ji(Mi);Lt=setTimeout(yi,function(tn){var Zt=ue-(tn-Ot);return ri?Ci(Zt,ot-(tn-Ut)):Zt}(Mi))}function ji(Mi){return Lt=void 0,wi&&Le?Ii(Mi):(Le=Ge=void 0,gt)}function Ki(){var Mi=Je(),tn=Li(Mi);if(Le=arguments,Ge=this,Ot=Mi,tn){if(Lt===void 0)return function(Zt){return Ut=Zt,Lt=setTimeout(yi,ue),oi?Ii(Zt):gt}(Ot);if(ri)return clearTimeout(Lt),Lt=setTimeout(yi,ue),Ii(Ot)}return Lt===void 0&&(Lt=setTimeout(yi,ue)),gt}return ue=ti(ue)||0,Oe(ye)&&(oi=!!ye.leading,ot=(ri="maxWait"in ye)?hi(ti(ye.maxWait)||0,ue):ot,wi="trailing"in ye?!!ye.trailing:wi),Ki.cancel=function(){Lt!==void 0&&clearTimeout(Lt),Ut=0,Le=Ot=Ge=Lt=void 0},Ki.flush=function(){return Lt===void 0?gt:ji(Je())},Ki};var Di=R(355),Vi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(Di.Z,Vi),Di.Z.locals;class Pi extends w.Plugin{static get requires(){return[Q]}static get pluginName(){return"FindAndReplaceEditing"}init(){this._activeResults=null,this.state=new A(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",(ye,Le,Ge,ot)=>{const{model:gt}=this.editor;gt.change(Lt=>{if(ot){const Ot=ot.marker.name.split(":")[1],Ut=gt.markers.get(`findResultHighlighted:${Ot}`);Ut&&Lt.removeMarker(Ut)}if(Ge){const Ot=Ge.marker.name.split(":")[1];Lt.addMarker(`findResultHighlighted:${Ot}`,{usingOperation:!1,affectsData:!1,range:Ge.marker.getRange()})}})});const ue=Oi(((ye,Le,Ge)=>{if(Ge){const ot=this.editor.editing.view.domConverter,gt=this.editor.editing.mapper.toViewRange(Ge.marker.getRange());(0,l.scrollViewportToShowTarget)({target:ot.viewRangeToDom(gt),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",ue,{priority:"low"}),this.listenTo(this.editor,"destroy",ue.cancel)}find(ue){const{editor:ye}=this,{model:Le}=ye,{findCallback:Ge,results:ot}=ye.execute("find",ue);return this._activeResults=ot,this.listenTo(Le.document,"change:data",()=>function(gt,Lt,Ot){const Ut=new Set,oi=new Set,ri=Lt.model;ri.document.differ.getChanges().forEach(wi=>{wi.name==="$text"||ri.schema.isInline(wi.position.nodeAfter)?(Ut.add(wi.position.parent),[...ri.markers.getMarkersAtPosition(wi.position)].forEach(Ii=>{oi.add(Ii.name)})):wi.type==="insert"&&Ut.add(wi.position.nodeAfter)}),ri.document.differ.getChangedMarkers().forEach(({name:wi,data:{newRange:Ii}})=>{Ii&&Ii.start.root.rootName==="$graveyard"&&oi.add(wi)}),Ut.forEach(wi=>{[...ri.markers.getMarkersIntersectingRange(ri.createRangeIn(wi))].forEach(Ii=>oi.add(Ii.name))}),ri.change(wi=>{oi.forEach(Ii=>{gt.has(Ii)&&gt.remove(Ii),wi.removeMarker(Ii)})}),Ut.forEach(wi=>{Lt.plugins.get("FindAndReplaceUtils").updateFindResultFromRange(ri.createRangeOn(wi),ri,Ot,gt)})}(this._activeResults,ye,Ge)),this._activeResults}stop(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}_defineCommands(){this.editor.commands.add("find",new re(this.editor,this.state)),this.editor.commands.add("findNext",new p(this.editor,this.state)),this.editor.commands.add("findPrevious",new v(this.editor,this.state)),this.editor.commands.add("replace",new u(this.editor,this.state)),this.editor.commands.add("replaceAll",new _(this.editor,this.state))}_defineConverters(){const{editor:ue}=this;ue.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:ye})=>{const[,Le]=ye.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":Le}}}}),ue.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:ye})=>{const[,Le]=ye.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":Le}}}})}}class Zi extends w.Plugin{static get requires(){return[Pi,ee]}static get pluginName(){return"FindAndReplace"}init(){const ue=this.editor.plugins.get("FindAndReplaceUI"),ye=this.editor.plugins.get("FindAndReplaceEditing"),Le=ye.state;ue.on("findNext",(Ge,ot)=>{ot?(Le.searchText=ot.searchText,this.editor.execute("find",ot.searchText,ot)):this.editor.execute("findNext")}),ue.on("findPrevious",(Ge,ot)=>{ot&&Le.searchText!==ot.searchText?this.editor.execute("find",ot.searchText):this.editor.execute("findPrevious")}),ue.on("replace",(Ge,ot)=>{Le.searchText!==ot.searchText&&this.editor.execute("find",ot.searchText);const gt=Le.highlightedResult;gt&&this.editor.execute("replace",ot.replaceText,gt)}),ue.on("replaceAll",(Ge,ot)=>{Le.searchText!==ot.searchText&&this.editor.execute("find",ot.searchText),this.editor.execute("replaceAll",ot.replaceText,Le.results)}),ue.on("searchReseted",()=>{Le.clear(this.editor.model),ye.stop()})}}})(),(window.CKEditor5=window.CKEditor5||{}).findAndReplace=E})()},89716:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{Big:"Big",Default:"Default","Document colors":"Document colors","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size",Huge:"Huge",Small:"Small",Tiny:"Tiny"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={610:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Font:()=>vt,FontBackgroundColor:()=>dt,FontBackgroundColorEditing:()=>lt,FontBackgroundColorUI:()=>ut,FontColor:()=>De,FontColorEditing:()=>Se,FontColorUI:()=>Ie,FontFamily:()=>u,FontFamilyEditing:()=>ee,FontFamilyUI:()=>ie,FontSize:()=>D,FontSizeEditing:()=>ae,FontSizeUI:()=>Z});var g=te(704);class R extends g.Command{constructor(Qe,ft){super(Qe),this.attributeKey=ft}refresh(){const Qe=this.editor.model,ft=Qe.document;this.value=ft.selection.getAttribute(this.attributeKey),this.isEnabled=Qe.schema.checkAttributeInSelection(ft.selection,this.attributeKey)}execute(Qe={}){const ft=this.editor.model,Ve=ft.document.selection,Te=Qe.value,Q=Qe.batch,xe=Oe=>{if(Ve.isCollapsed)Te?Oe.setSelectionAttribute(this.attributeKey,Te):Oe.removeSelectionAttribute(this.attributeKey);else{const Je=ft.schema.getValidRanges(Ve.getRanges(),this.attributeKey);for(const $e of Je)Te?Oe.setAttribute(this.attributeKey,Te,$e):Oe.removeAttribute(this.attributeKey,$e)}};Q?ft.enqueueChange(Q,Oe=>{xe(Oe)}):ft.change(Oe=>{xe(Oe)})}}var E=te(273);const w="fontSize",C="fontFamily",l="fontColor",c="fontBackgroundColor";function L(bt,Qe){const ft={model:{key:bt,values:[]},view:{},upcastAlso:{}};for(const Ve of Qe)ft.model.values.push(Ve.model),ft.view[Ve.model]=Ve.view,Ve.upcastAlso&&(ft.upcastAlso[Ve.model]=Ve.upcastAlso);return ft}function B(bt){return Qe=>Qe.getStyle(bt).replace(/\s/g,"")}function y(bt){return(Qe,{writer:ft})=>ft.createAttributeElement("span",{style:`${bt}:${Qe}`},{priority:7})}class h extends R{constructor(Qe){super(Qe,C)}}function V(bt){return bt.map(q).filter(Qe=>Qe!==void 0)}function q(bt){return typeof bt=="object"?bt:bt==="default"?{title:"Default",model:void 0}:typeof bt=="string"?function(Qe){const ft=Qe.replace(/"|'/g,"").split(","),Ve=ft[0],Te=ft.map(Y).join(", ");return{title:Ve,model:Te,view:{name:"span",styles:{"font-family":Te},priority:7}}}(bt):void 0}function Y(bt){return(bt=bt.trim()).indexOf(" ")>0&&(bt=`'${bt}'`),bt}class ee extends g.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(Qe){super(Qe),Qe.config.define(C,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const Qe=this.editor;Qe.model.schema.extend("$text",{allowAttributes:C}),Qe.model.schema.setAttributeProperties(C,{isFormatting:!0,copyOnEnter:!0});const ft=V(Qe.config.get("fontFamily.options")).filter(Te=>Te.model),Ve=L(C,ft);Qe.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):Qe.conversion.attributeToElement(Ve),Qe.commands.add(C,new h(Qe))}_prepareAnyValueConverters(){const Qe=this.editor;Qe.conversion.for("downcast").attributeToElement({model:C,view:(ft,{writer:Ve})=>Ve.createAttributeElement("span",{style:"font-family:"+ft},{priority:7})}),Qe.conversion.for("upcast").elementToAttribute({model:{key:C,value:ft=>ft.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:C,value:Qe=>Qe.getAttribute("face")}})}}var re=te(209);class ie extends g.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const Qe=this.editor,ft=Qe.t,Ve=this._getLocalizedOptions(),Te=Qe.commands.get(C),Q=ft("Font Family");Qe.ui.componentFactory.add(C,xe=>{const Oe=(0,E.createDropdown)(xe);return(0,E.addListToDropdown)(Oe,()=>function(Je,$e){const tt=new re.Collection;for(const st of Je){const Pt={type:"button",model:new E.Model({commandName:C,commandParam:st.model,label:st.title,role:"menuitemradio",withText:!0})};Pt.model.bind("isOn").to($e,"value",Ft=>Ft===st.model||!(!Ft||!st.model)&&Ft.split(",")[0].replace(/'/g,"").toLowerCase()===st.model.toLowerCase()),st.view&&typeof st.view!="string"&&st.view.styles&&Pt.model.set("labelStyle",`font-family: ${st.view.styles["font-family"]}`),tt.add(Pt)}return tt}(Ve,Te),{role:"menu",ariaLabel:Q}),Oe.buttonView.set({label:Q,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),Oe.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),Oe.bind("isEnabled").to(Te),this.listenTo(Oe,"execute",Je=>{Qe.execute(Je.source.commandName,{value:Je.source.commandParam}),Qe.editing.view.focus()}),Oe})}_getLocalizedOptions(){const Qe=this.editor,ft=Qe.t;return V(Qe.config.get(C).options).map(Ve=>(Ve.title==="Default"&&(Ve.title=ft("Default")),Ve))}}class u extends g.Plugin{static get requires(){return[ee,ie]}static get pluginName(){return"FontFamily"}}var _=te(492);class p extends R{constructor(Qe){super(Qe,w)}}function v(bt){return bt.map(Qe=>function(ft){if(typeof ft=="number"&&(ft=String(ft)),typeof ft=="object"&&(Ve=ft,Ve.title&&Ve.model&&Ve.view))return T(ft);var Ve;const Te=function(Q){return typeof Q=="string"?A[Q]:A[Q.model]}(ft);if(Te)return T(Te);if(ft==="default")return{model:void 0,title:"Default"};if(!function(Q){let xe;if(typeof Q=="object"){if(!Q.model)throw new re.CKEditorError("font-size-invalid-definition",null,Q);xe=parseFloat(Q.model)}else xe=parseFloat(Q);return isNaN(xe)}(ft))return function(Q){return typeof Q=="string"&&(Q={title:Q,model:`${parseFloat(Q)}px`}),Q.view={name:"span",styles:{"font-size":Q.model}},T(Q)}(ft)}(Qe)).filter(Qe=>Qe!==void 0)}const A={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function T(bt){return bt.view&&typeof bt.view!="string"&&!bt.view.priority&&(bt.view.priority=7),bt}const S=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class ae extends g.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(Qe){super(Qe),Qe.config.define(w,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const Qe=this.editor;Qe.model.schema.extend("$text",{allowAttributes:w}),Qe.model.schema.setAttributeProperties(w,{isFormatting:!0,copyOnEnter:!0});const ft=Qe.config.get("fontSize.supportAllValues"),Ve=v(this.editor.config.get("fontSize.options")).filter(Q=>Q.model),Te=L(w,Ve);ft?(this._prepareAnyValueConverters(Te),this._prepareCompatibilityConverter()):Qe.conversion.attributeToElement(Te),Qe.commands.add(w,new p(Qe))}_prepareAnyValueConverters(Qe){const ft=this.editor,Ve=Qe.model.values.filter(Te=>!(0,_.isLength)(String(Te))&&!(0,_.isPercentage)(String(Te)));if(Ve.length)throw new re.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:Ve});ft.conversion.for("downcast").attributeToElement({model:w,view:(Te,{writer:Q})=>{if(Te)return Q.createAttributeElement("span",{style:"font-size:"+Te},{priority:7})}}),ft.conversion.for("upcast").elementToAttribute({model:{key:w,value:Te=>Te.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:w,value:Qe=>{const ft=Qe.getAttribute("size"),Ve=ft[0]==="-"||ft[0]==="+";let Te=parseInt(ft,10);Ve&&(Te=3+Te);const Q=S.length-1,xe=Math.min(Math.max(Te,0),Q);return S[xe]}}})}}var $=te(62),z=te.n($),f=te(610),j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};z()(f.Z,j),f.Z.locals;class Z extends g.Plugin{static get pluginName(){return"FontSizeUI"}init(){const Qe=this.editor,ft=Qe.t,Ve=this._getLocalizedOptions(),Te=Qe.commands.get(w),Q=ft("Font Size");Qe.ui.componentFactory.add(w,xe=>{const Oe=(0,E.createDropdown)(xe);return(0,E.addListToDropdown)(Oe,()=>function(Je,$e){const tt=new re.Collection;for(const st of Je){const Pt={type:"button",model:new E.Model({commandName:w,commandParam:st.model,label:st.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};st.view&&typeof st.view!="string"&&(st.view.styles&&Pt.model.set("labelStyle",`font-size:${st.view.styles["font-size"]}`),st.view.classes&&Pt.model.set("class",`${Pt.model.class} ${st.view.classes}`)),Pt.model.bind("isOn").to($e,"value",Ft=>Ft===st.model),tt.add(Pt)}return tt}(Ve,Te),{role:"menu",ariaLabel:Q}),Oe.buttonView.set({label:Q,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),Oe.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),Oe.bind("isEnabled").to(Te),this.listenTo(Oe,"execute",Je=>{Qe.execute(Je.source.commandName,{value:Je.source.commandParam}),Qe.editing.view.focus()}),Oe})}_getLocalizedOptions(){const Qe=this.editor,ft=Qe.t,Ve={Default:ft("Default"),Tiny:ft("Tiny"),Small:ft("Small"),Big:ft("Big"),Huge:ft("Huge")};return v(Qe.config.get(w).options).map(Te=>{const Q=Ve[Te.title];return Q&&Q!=Te.title&&(Te=Object.assign({},Te,{title:Q})),Te})}}class D extends g.Plugin{static get requires(){return[ae,Z]}static get pluginName(){return"FontSize"}normalizeSizeOptions(Qe){return v(Qe)}}class oe extends R{constructor(Qe){super(Qe,l)}}class Se extends g.Plugin{static get pluginName(){return"FontColorEditing"}constructor(Qe){super(Qe),Qe.config.define(l,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),Qe.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:l,value:B("color")}}),Qe.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:l,value:ft=>ft.getAttribute("color")}}),Qe.conversion.for("downcast").attributeToElement({model:l,view:y("color")}),Qe.commands.add(l,new oe(Qe)),Qe.model.schema.extend("$text",{allowAttributes:l}),Qe.model.schema.setAttributeProperties(l,{isFormatting:!0,copyOnEnter:!0})}}class je extends g.Plugin{constructor(Qe,{commandName:ft,componentName:Ve,icon:Te,dropdownLabel:Q}){super(Qe),this.commandName=ft,this.componentName=Ve,this.icon=Te,this.dropdownLabel=Q,this.columns=Qe.config.get(`${this.componentName}.columns`),this.colorSelectorView=void 0}init(){const Qe=this.editor,ft=Qe.locale,Ve=ft.t,Te=Qe.commands.get(this.commandName),Q=Qe.config.get(this.componentName),xe=(0,E.normalizeColorOptions)(Q.colors),Oe=(0,E.getLocalizedColorOptions)(ft,xe),Je=Q.documentColors,$e=Q.colorPicker!==!1;Qe.ui.componentFactory.add(this.componentName,tt=>{const st=(0,E.createDropdown)(tt);let Pt=!1;return this.colorSelectorView=function({dropdownView:Ft,colors:Gt,columns:ui,removeButtonLabel:Vt,colorPickerLabel:ti,documentColorsLabel:hi,documentColorsCount:Ci,colorPickerViewConfig:Oi}){const Di=Ft.locale,Vi=new E.ColorSelectorView(Di,{colors:Gt,columns:ui,removeButtonLabel:Vt,colorPickerLabel:ti,documentColorsLabel:hi,documentColorsCount:Ci,colorPickerViewConfig:Oi});return Ft.colorSelectorView=Vi,Ft.panelView.children.add(Vi),Vi}({dropdownView:st,colors:Oe.map(Ft=>({label:Ft.label,color:Ft.model,options:{hasBorder:Ft.hasBorder}})),columns:this.columns,removeButtonLabel:Ve("Remove color"),colorPickerLabel:Ve("Color picker"),documentColorsLabel:Je!==0?Ve("Document colors"):"",documentColorsCount:Je===void 0?this.columns:Je,colorPickerViewConfig:!!$e&&(Q.colorPicker||{})}),this.colorSelectorView.bind("selectedColor").to(Te,"value"),st.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),st.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),st.bind("isEnabled").to(Te),this.colorSelectorView.on("execute",(Ft,Gt)=>{st.isOpen&&Qe.execute(this.commandName,{value:Gt.value,batch:this._undoStepBatch}),Gt.source!=="colorPicker"&&Qe.editing.view.focus(),Gt.source==="colorPickerSaveButton"&&(st.isOpen=!1)}),this.colorSelectorView.on("colorPicker:show",()=>{this._undoStepBatch=Qe.model.createBatch()}),this.colorSelectorView.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(st.isOpen=!1,Qe.execute("undo",this._undoStepBatch)),Qe.editing.view.focus()}),st.on("change:isOpen",(Ft,Gt,ui)=>{Pt||(Pt=!0,st.colorSelectorView.appendUI()),ui&&(Je!==0&&this.colorSelectorView.updateDocumentColors(Qe.model,this.componentName),this.colorSelectorView.updateSelectedColors(),this.colorSelectorView.showColorGridsFragment())}),(0,E.focusChildOnDropdownOpen)(st,()=>st.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(Ft=>Ft.isOn)),st})}}class Ie extends je{constructor(Qe){const ft=Qe.locale.t;super(Qe,{commandName:l,componentName:l,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:ft("Font Color")})}static get pluginName(){return"FontColorUI"}}class De extends g.Plugin{static get requires(){return[Se,Ie]}static get pluginName(){return"FontColor"}}class mt extends R{constructor(Qe){super(Qe,c)}}class lt extends g.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(Qe){super(Qe),Qe.config.define(c,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),Qe.data.addStyleProcessorRules(_.addBackgroundRules),Qe.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:c,value:B("background-color")}}),Qe.conversion.for("downcast").attributeToElement({model:c,view:y("background-color")}),Qe.commands.add(c,new mt(Qe)),Qe.model.schema.extend("$text",{allowAttributes:c}),Qe.model.schema.setAttributeProperties(c,{isFormatting:!0,copyOnEnter:!0})}}class ut extends je{constructor(Qe){const ft=Qe.locale.t;super(Qe,{commandName:c,componentName:c,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:ft("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class dt extends g.Plugin{static get requires(){return[lt,ut]}static get pluginName(){return"FontBackgroundColor"}}class vt extends g.Plugin{static get requires(){return[u,D,De,dt]}static get pluginName(){return"Font"}}})(),(window.CKEditor5=window.CKEditor5||{}).font=zt})()},25901:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Choose heading":"Choose heading",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Paragraph:"Paragraph","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={159:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},747:(g,R,E)=>{g.exports=E(79)("./src/paragraph.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Heading:()=>ee,HeadingButtonsUI:()=>ie,HeadingEditing:()=>c,HeadingUI:()=>Y,Title:()=>p});var g=te(704),R=te(747),E=te(209);class w extends g.Command{constructor(j,Z){super(j),this.modelElements=Z}refresh(){const j=(0,E.first)(this.editor.model.document.selection.getSelectedBlocks());this.value=!!j&&this.modelElements.includes(j.name)&&j.name,this.isEnabled=!!j&&this.modelElements.some(Z=>C(j,Z,this.editor.model.schema))}execute(j){const Z=this.editor.model,D=Z.document,oe=j.value;Z.change(Se=>{const je=Array.from(D.selection.getSelectedBlocks()).filter(Ie=>C(Ie,oe,Z.schema));for(const Ie of je)Ie.is("element",oe)||Se.rename(Ie,oe)})}}function C(f,j,Z){return Z.checkChild(f.parent,j)&&!Z.isObject(f)}const l="paragraph";class c extends g.Plugin{static get pluginName(){return"HeadingEditing"}constructor(j){super(j),j.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[R.Paragraph]}init(){const j=this.editor,Z=j.config.get("heading.options"),D=[];for(const oe of Z)oe.model!=="paragraph"&&(j.model.schema.register(oe.model,{inheritAllFrom:"$block"}),j.conversion.elementToElement(oe),D.push(oe.model));this._addDefaultH1Conversion(j),j.commands.add("heading",new w(j,D))}afterInit(){const j=this.editor,Z=j.commands.get("enter"),D=j.config.get("heading.options");Z&&this.listenTo(Z,"afterExecute",(oe,Se)=>{const je=j.model.document.selection.getFirstPosition().parent;D.some(Ie=>je.is("element",Ie.model))&&!je.is("element",l)&&je.childCount===0&&Se.writer.rename(je,l)})}_addDefaultH1Conversion(j){j.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:E.priorities.low+1})}}var L=te(273);function B(f){const j=f.t,Z={Paragraph:j("Paragraph"),"Heading 1":j("Heading 1"),"Heading 2":j("Heading 2"),"Heading 3":j("Heading 3"),"Heading 4":j("Heading 4"),"Heading 5":j("Heading 5"),"Heading 6":j("Heading 6")};return f.config.get("heading.options").map(D=>{const oe=Z[D.title];return oe&&oe!=D.title&&(D.title=oe),D})}var y=te(62),h=te.n(y),V=te(159),q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};h()(V.Z,q),V.Z.locals;class Y extends g.Plugin{static get pluginName(){return"HeadingUI"}init(){const j=this.editor,Z=j.t,D=B(j),oe=Z("Choose heading"),Se=Z("Heading");j.ui.componentFactory.add("heading",je=>{const Ie={},De=new E.Collection,mt=j.commands.get("heading"),lt=j.commands.get("paragraph"),ut=[mt];for(const vt of D){const bt={type:"button",model:new L.Model({label:vt.title,class:vt.class,role:"menuitemradio",withText:!0})};vt.model==="paragraph"?(bt.model.bind("isOn").to(lt,"value"),bt.model.set("commandName","paragraph"),ut.push(lt)):(bt.model.bind("isOn").to(mt,"value",Qe=>Qe===vt.model),bt.model.set({commandName:"heading",commandValue:vt.model})),De.add(bt),Ie[vt.model]=vt.title}const dt=(0,L.createDropdown)(je);return(0,L.addListToDropdown)(dt,De,{ariaLabel:Se,role:"menu"}),dt.buttonView.set({ariaLabel:Se,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:Se}),dt.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),dt.bind("isEnabled").toMany(ut,"isEnabled",(...vt)=>vt.some(bt=>bt)),dt.buttonView.bind("label").to(mt,"value",lt,"value",(vt,bt)=>{const Qe=vt||bt&&"paragraph";return typeof Qe=="boolean"?oe:Ie[Qe]?Ie[Qe]:oe}),this.listenTo(dt,"execute",vt=>{const{commandName:bt,commandValue:Qe}=vt.source;j.execute(bt,Qe?{value:Qe}:void 0),j.editing.view.focus()}),dt})}}class ee extends g.Plugin{static get requires(){return[c,Y]}static get pluginName(){return"Heading"}}const re={heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'};class ie extends g.Plugin{init(){B(this.editor).filter(j=>j.model!=="paragraph").map(j=>this._createButton(j))}_createButton(j){const Z=this.editor;Z.ui.componentFactory.add(j.model,D=>{const oe=new L.ButtonView(D),Se=Z.commands.get("heading");return oe.label=j.title,oe.icon=j.icon||re[j.model],oe.tooltip=!0,oe.isToggleable=!0,oe.bind("isEnabled").to(Se),oe.bind("isOn").to(Se,"value",je=>je==j.model),oe.on("execute",()=>{Z.execute("heading",{value:j.model}),Z.editing.view.focus()}),oe})}}var u=te(492);const _=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class p extends g.Plugin{constructor(){super(...arguments),this._bodyPlaceholder=new Map}static get pluginName(){return"Title"}static get requires(){return["Paragraph"]}init(){const j=this.editor,Z=j.model;Z.schema.register("title",{isBlock:!0,allowIn:"$root"}),Z.schema.register("title-content",{isBlock:!0,allowIn:"title",allowAttributes:["alignment"]}),Z.schema.extend("$text",{allowIn:"title-content"}),Z.schema.addAttributeCheck(D=>{if(D.endsWith("title-content $text"))return!1}),j.editing.mapper.on("modelToViewPosition",A(j.editing.view)),j.data.mapper.on("modelToViewPosition",A(j.editing.view)),j.conversion.for("downcast").elementToElement({model:"title-content",view:"h1"}),j.conversion.for("downcast").add(D=>D.on("insert:title",(oe,Se,je)=>{je.consumable.consume(Se.item,oe.name)})),j.data.upcastDispatcher.on("element:h1",v,{priority:"high"}),j.data.upcastDispatcher.on("element:h2",v,{priority:"high"}),j.data.upcastDispatcher.on("element:h3",v,{priority:"high"}),Z.document.registerPostFixer(D=>this._fixTitleContent(D)),Z.document.registerPostFixer(D=>this._fixTitleElement(D)),Z.document.registerPostFixer(D=>this._fixBodyElement(D)),Z.document.registerPostFixer(D=>this._fixExtraParagraph(D)),this._attachPlaceholders(),this._attachTabPressHandling()}getTitle(j={}){const Z=j.rootName?j.rootName:void 0,D=this._getTitleElement(Z).getChild(0);return this.editor.data.stringify(D,j)}getBody(j={}){const Z=this.editor,D=Z.data,oe=Z.model,Se=j.rootName?j.rootName:void 0,je=Z.model.document.getRoot(Se),Ie=Z.editing.view,De=new u.DowncastWriter(Ie.document),mt=oe.createRangeIn(je),lt=De.createDocumentFragment(),ut=oe.createPositionAfter(je.getChild(0)),dt=oe.createRange(ut,oe.createPositionAt(je,"end")),vt=new Map;for(const bt of oe.markers){const Qe=dt.getIntersection(bt.getRange());Qe&&vt.set(bt.name,Qe)}return D.mapper.clearBindings(),D.mapper.bindElements(je,lt),D.downcastDispatcher.convert(mt,vt,De,j),De.remove(De.createRangeOn(lt.getChild(0))),Z.data.processor.toData(lt)}_getTitleElement(j){const Z=this.editor.model.document.getRoot(j);for(const D of Z.getChildren())if(T(D))return D}_fixTitleContent(j){let Z=!1;for(const D of this.editor.model.document.getRootNames()){const oe=this._getTitleElement(D);if(!oe||oe.maxOffset===1)continue;const Se=Array.from(oe.getChildren());Se.shift();for(const je of Se)j.move(j.createRangeOn(je),oe,"after"),j.rename(je,"paragraph");Z=!0}return Z}_fixTitleElement(j){let Z=!1;const D=this.editor.model;for(const oe of this.editor.model.document.getRoots()){const Se=Array.from(oe.getChildren()).filter(T),je=Se[0],Ie=oe.getChild(0);if(Ie.is("element","title"))Se.length>1&&(ae(Se,j,D),Z=!0);else if(je||_.has(Ie.name))_.has(Ie.name)?S(Ie,j,D):j.move(j.createRangeOn(je),oe,0),ae(Se,j,D),Z=!0;else{const De=j.createElement("title");j.insert(De,oe),j.insertElement("title-content",De),Z=!0}}return Z}_fixBodyElement(j){let Z=!1;for(const D of this.editor.model.document.getRootNames()){const oe=this.editor.model.document.getRoot(D);if(oe.childCount<2){const Se=j.createElement("paragraph");j.insert(Se,oe,1),this._bodyPlaceholder.set(D,Se),Z=!0}}return Z}_fixExtraParagraph(j){let Z=!1;for(const D of this.editor.model.document.getRootNames()){const oe=this.editor.model.document.getRoot(D),Se=this._bodyPlaceholder.get(D);z(Se,oe)&&(this._bodyPlaceholder.delete(D),j.remove(Se),Z=!0)}return Z}_attachPlaceholders(){const j=this.editor,Z=j.t,D=j.editing.view,oe=j.sourceElement,Se=j.config.get("title.placeholder")||Z("Type your title"),je=j.config.get("placeholder")||oe&&oe.tagName.toLowerCase()==="textarea"&&oe.getAttribute("placeholder")||Z("Type or paste your content here.");j.editing.downcastDispatcher.on("insert:title-content",(De,mt,lt)=>{const ut=lt.mapper.toViewElement(mt.item);ut.placeholder=Se,(0,u.enablePlaceholder)({view:D,element:ut,keepOnFocus:!0})});const Ie=new Map;D.document.registerPostFixer(De=>{let mt=!1;for(const lt of D.document.roots){if(lt.isEmpty)continue;const ut=lt.getChild(1),dt=Ie.get(lt.rootName);ut!==dt&&(dt&&((0,u.hidePlaceholder)(De,dt),De.removeAttribute("data-placeholder",dt)),De.setAttribute("data-placeholder",je,ut),Ie.set(lt.rootName,ut),mt=!0),mt=(0,u.needsPlaceholder)(ut,!0)&&lt.childCount===2&&ut.name==="p"?!!(0,u.showPlaceholder)(De,ut)||mt:!!(0,u.hidePlaceholder)(De,ut)||mt}return mt})}_attachTabPressHandling(){const j=this.editor,Z=j.model;j.keystrokes.set("TAB",(D,oe)=>{Z.change(Se=>{const je=Z.document.selection,Ie=Array.from(je.getSelectedBlocks());if(Ie.length===1&&Ie[0].is("element","title-content")){const De=je.getFirstPosition().root.getChild(1);Se.setSelection(De,0),oe()}})}),j.keystrokes.set("SHIFT + TAB",(D,oe)=>{Z.change(Se=>{const je=Z.document.selection;if(!je.isCollapsed)return;const Ie=(0,E.first)(je.getSelectedBlocks()),De=je.getFirstPosition(),mt=j.model.document.getRoot(De.root.rootName),lt=mt.getChild(0);Ie===mt.getChild(1)&&De.isAtStart&&(Se.setSelection(lt.getChild(0),0),oe())})})}}function v(f,j,Z){const D=j.modelCursor,oe=j.viewItem;if(!D.isAtStart||!D.parent.is("element","$root")||!Z.consumable.consume(oe,{name:!0}))return;const Se=Z.writer,je=Se.createElement("title"),Ie=Se.createElement("title-content");Se.append(Ie,je),Se.insert(je,D),Z.convertChildren(oe,Ie),Z.updateConversionResult(je,j)}function A(f){return(j,Z)=>{const D=Z.modelPosition.parent;if(!D.is("element","title"))return;const oe=D.parent,Se=Z.mapper.toViewElement(oe);Z.viewPosition=f.createPositionAt(Se,0),j.stop()}}function T(f){return f.is("element","title")}function S(f,j,Z){const D=j.createElement("title");j.insert(D,f,"before"),j.insert(f,D,0),j.rename(f,"title-content"),Z.schema.removeDisallowedAttributes([f],j)}function ae(f,j,Z){let D=!1;for(const oe of f)oe.index!==0&&($(oe,j,Z),D=!0);return D}function $(f,j,Z){const D=f.getChild(0);D.isEmpty?j.remove(f):(j.move(j.createRangeOn(D),f,"before"),j.rename(D,"paragraph"),j.remove(f),Z.schema.removeDisallowedAttributes([D],j))}function z(f,j){return!(!f||!f.is("element","paragraph")||f.childCount)&&!(j.childCount<=2||j.getChild(j.childCount-1)!==f)}})(),(window.CKEditor5=window.CKEditor5||{}).heading=zt})()},20397:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Blue marker":"Blue marker","Green marker":"Green marker","Green pen":"Green pen",Highlight:"Highlight","Pink marker":"Pink marker","Red pen":"Red pen","Remove highlight":"Remove highlight","Text highlight toolbar":"Text highlight toolbar","Yellow marker":"Yellow marker"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={401:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Highlight:()=>h,HighlightEditing:()=>E,HighlightUI:()=>B});var g=te(704);class R extends g.Command{refresh(){const q=this.editor.model,Y=q.document;this.value=Y.selection.getAttribute("highlight"),this.isEnabled=q.schema.checkAttributeInSelection(Y.selection,"highlight")}execute(q={}){const Y=this.editor.model,ee=Y.document.selection,re=q.value;Y.change(ie=>{if(ee.isCollapsed){const u=ee.getFirstPosition();if(ee.hasAttribute("highlight")){const _=T=>T.item.hasAttribute("highlight")&&T.item.getAttribute("highlight")===this.value,p=u.getLastMatchingPosition(_,{direction:"backward"}),v=u.getLastMatchingPosition(_),A=ie.createRange(p,v);re&&this.value!==re?(u.isEqual(v)||ie.setAttribute("highlight",re,A),ie.setSelectionAttribute("highlight",re)):(u.isEqual(v)||ie.removeAttribute("highlight",A),ie.removeSelectionAttribute("highlight"))}else re&&ie.setSelectionAttribute("highlight",re)}else{const u=Y.schema.getValidRanges(ee.getRanges(),"highlight");for(const _ of u)re?ie.setAttribute("highlight",re,_):ie.removeAttribute("highlight",_)}})}}class E extends g.Plugin{static get pluginName(){return"HighlightEditing"}constructor(q){super(q),q.config.define("highlight",{options:[{model:"yellowMarker",class:"marker-yellow",title:"Yellow marker",color:"var(--ck-highlight-marker-yellow)",type:"marker"},{model:"greenMarker",class:"marker-green",title:"Green marker",color:"var(--ck-highlight-marker-green)",type:"marker"},{model:"pinkMarker",class:"marker-pink",title:"Pink marker",color:"var(--ck-highlight-marker-pink)",type:"marker"},{model:"blueMarker",class:"marker-blue",title:"Blue marker",color:"var(--ck-highlight-marker-blue)",type:"marker"},{model:"redPen",class:"pen-red",title:"Red pen",color:"var(--ck-highlight-pen-red)",type:"pen"},{model:"greenPen",class:"pen-green",title:"Green pen",color:"var(--ck-highlight-pen-green)",type:"pen"}]})}init(){const q=this.editor;q.model.schema.extend("$text",{allowAttributes:"highlight"});const Y=q.config.get("highlight.options");q.conversion.attributeToElement(function(ee){const re={model:{key:"highlight",values:[]},view:{}};for(const ie of ee)re.model.values.push(ie.model),re.view[ie.model]={name:"mark",classes:ie.class};return re}(Y)),q.commands.add("highlight",new R(q))}}var w=te(273),C=te(62),l=te.n(C),c=te(401),L={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};l()(c.Z,L),c.Z.locals;class B extends g.Plugin{get localizedOptionTitles(){const q=this.editor.t;return{"Yellow marker":q("Yellow marker"),"Green marker":q("Green marker"),"Pink marker":q("Pink marker"),"Blue marker":q("Blue marker"),"Red pen":q("Red pen"),"Green pen":q("Green pen")}}static get pluginName(){return"HighlightUI"}init(){const q=this.editor.config.get("highlight.options");for(const Y of q)this._addHighlighterButton(Y);this._addRemoveHighlightButton(),this._addDropdown(q)}_addRemoveHighlightButton(){const q=this.editor.t,Y=this.editor.commands.get("highlight");this._addButton("removeHighlight",q("Remove highlight"),g.icons.eraser,null,ee=>{ee.bind("isEnabled").to(Y,"isEnabled")})}_addHighlighterButton(q){const Y=this.editor.commands.get("highlight");this._addButton("highlight:"+q.model,q.title,y(q.type),q.model,function(ee){ee.bind("isEnabled").to(Y,"isEnabled"),ee.bind("isOn").to(Y,"value",re=>re===q.model),ee.iconView.fillColor=q.color,ee.isToggleable=!0})}_addButton(q,Y,ee,re,ie){const u=this.editor;u.ui.componentFactory.add(q,_=>{const p=new w.ButtonView(_),v=this.localizedOptionTitles[Y]?this.localizedOptionTitles[Y]:Y;return p.set({label:v,icon:ee,tooltip:!0}),p.on("execute",()=>{u.execute("highlight",{value:re}),u.editing.view.focus()}),ie(p),p})}_addDropdown(q){const Y=this.editor,ee=Y.t,re=Y.ui.componentFactory,ie=q[0],u=q.reduce((_,p)=>(_[p.model]=p,_),{});re.add("highlight",_=>{const p=Y.commands.get("highlight"),v=(0,w.createDropdown)(_,w.SplitButtonView),A=v.buttonView;A.set({label:ee("Highlight"),tooltip:!0,lastExecuted:ie.model,commandValue:ie.model,isToggleable:!0}),A.bind("icon").to(p,"value",S=>y(T(S,"type"))),A.bind("color").to(p,"value",S=>T(S,"color")),A.bind("commandValue").to(p,"value",S=>T(S,"model")),A.bind("isOn").to(p,"value",S=>!!S),A.delegate("execute").to(v);function T(S,ae){const $=S&&S!==A.lastExecuted?S:A.lastExecuted;return u[$][ae]}return v.bind("isEnabled").to(p,"isEnabled"),(0,w.addToolbarToDropdown)(v,()=>{const S=q.map(ae=>{const $=re.create("highlight:"+ae.model);return this.listenTo($,"execute",()=>{v.buttonView.set({lastExecuted:ae.model})}),$});return S.push(new w.ToolbarSeparatorView),S.push(re.create("removeHighlight")),S},{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:ee("Text highlight toolbar")}),function(S){S.buttonView.actionView.iconView.bind("fillColor").to(S.buttonView,"color")}(v),A.on("execute",()=>{Y.execute("highlight",{value:A.commandValue})}),this.listenTo(v,"execute",()=>{Y.editing.view.focus()}),v})}}function y(V){return V==="marker"?'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>':'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'}class h extends g.Plugin{static get requires(){return[E,B]}static get pluginName(){return"Highlight"}}})(),(window.CKEditor5=window.CKEditor5||{}).highlight=zt})()},59576:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Horizontal line":"Horizontal line"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={217:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},995:(g,R,E)=>{g.exports=E(79)("./src/widget.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{HorizontalLine:()=>h,HorizontalLineEditing:()=>L,HorizontalLineUI:()=>y});var g=te(704),R=te(995);class E extends g.Command{refresh(){const q=this.editor.model,Y=q.schema,ee=q.document.selection;this.isEnabled=function(re,ie,u){const _=function(p,v){const A=(0,R.findOptimalInsertionRange)(p,v),T=A.start.parent;return T.isEmpty&&!T.is("element","$root")?T.parent:T}(re,u);return ie.checkChild(_,"horizontalLine")}(ee,Y,q)}execute(){const q=this.editor.model;q.change(Y=>{const ee=Y.createElement("horizontalLine");q.insertObject(ee,null,null,{setSelection:"after"})})}}var w=te(62),C=te.n(w),l=te(217),c={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};C()(l.Z,c),l.Z.locals;class L extends g.Plugin{static get pluginName(){return"HorizontalLineEditing"}init(){const q=this.editor,Y=q.model.schema,ee=q.t,re=q.conversion;Y.register("horizontalLine",{inheritAllFrom:"$blockObject"}),re.for("dataDowncast").elementToElement({model:"horizontalLine",view:(ie,{writer:u})=>u.createEmptyElement("hr")}),re.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(ie,{writer:u})=>{const _=ee("Horizontal line"),p=u.createContainerElement("div",null,u.createEmptyElement("hr"));return u.addClass("ck-horizontal-line",p),u.setCustomProperty("hr",!0,p),function(v,A,T){return A.setCustomProperty("horizontalLine",!0,v),(0,R.toWidget)(v,A,{label:T})}(p,u,_)}}),re.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),q.commands.add("horizontalLine",new E(q))}}var B=te(273);class y extends g.Plugin{static get pluginName(){return"HorizontalLineUI"}init(){const q=this.editor,Y=q.t;q.ui.componentFactory.add("horizontalLine",ee=>{const re=q.commands.get("horizontalLine"),ie=new B.ButtonView(ee);return ie.set({label:Y("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),ie.bind("isEnabled").to(re,"isEnabled"),this.listenTo(ie,"execute",()=>{q.execute("horizontalLine"),q.editing.view.focus()}),ie})}}class h extends g.Plugin{static get requires(){return[L,y,R.Widget]}static get pluginName(){return"HorizontalLine"}}})(),(window.CKEditor5=window.CKEditor5||{}).horizontalLine=zt})()},32550:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Edit source":"Edit source","Empty snippet content":"Empty snippet content","HTML snippet":"HTML snippet","Insert HTML":"Insert HTML","No preview available":"No preview available","Paste raw HTML here...":"Paste raw HTML here...","Save changes":"Save changes"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={5:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck.ck-editor__editable.ck-blurred .ck-widget.raw-html-embed.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) .ck-widget.raw-html-embed.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable .ck-widget.raw-html-embed:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width)}.ck-editor__editable:not(.ck-read-only) .ck-widget.raw-html-embed .raw-html-embed__preview{pointer-events:none}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},995:(g,R,E)=>{g.exports=E(79)("./src/widget.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{HtmlEmbed:()=>Y,HtmlEmbedEditing:()=>h,HtmlEmbedUI:()=>q});var g=te(704),R=te(995),E=te(273),w=te(209);class C extends g.Command{refresh(){const re=this.editor.model,ie=re.schema,u=re.document.selection,_=l(u);this.isEnabled=function(p,v,A){const T=function(S,ae){const $=(0,R.findOptimalInsertionRange)(S,ae),z=$.start.parent;return z.isEmpty&&!z.is("rootElement")?z.parent:z}(p,A);return v.checkChild(T,"rawHtml")}(u,ie,re),this.value=_?_.getAttribute("value")||"":null}execute(re){const ie=this.editor.model,u=ie.document.selection;ie.change(_=>{let p;this.value!==null?p=l(u):(p=_.createElement("rawHtml"),ie.insertObject(p,null,null,{setSelection:"on"})),_.setAttribute("value",re,p)})}}function l(ee){const re=ee.getSelectedElement();return re&&re.is("element","rawHtml")?re:null}var c=te(62),L=te.n(c),B=te(5),y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(B.Z,y),B.Z.locals;class h extends g.Plugin{static get pluginName(){return"HtmlEmbedEditing"}constructor(re){super(re),this._widgetButtonViewReferences=new Set,re.config.define("htmlEmbed",{showPreviews:!1,sanitizeHtml:ie=>((0,w.logWarning)("html-embed-provide-sanitize-function"),{html:ie,hasChanged:!1})})}init(){const re=this.editor;re.model.schema.register("rawHtml",{inheritAllFrom:"$blockObject",allowAttributes:["value"]}),re.commands.add("htmlEmbed",new C(re)),this._setupConversion()}_setupConversion(){const re=this.editor,ie=re.t,u=re.editing.view,_=this._widgetButtonViewReferences,p=re.config.get("htmlEmbed");function v({editor:T,domElement:S,state:ae,props:$}){S.textContent="";const z=S.ownerDocument;let f;if(ae.isEditable){const Z={isDisabled:!1,placeholder:$.textareaPlaceholder};f=A({domDocument:z,state:ae,props:Z}),S.append(f)}else if(ae.showPreviews){const Z={sanitizeHtml:$.sanitizeHtml};S.append(function({editor:D,domDocument:oe,state:Se,props:je}){const Ie=je.sanitizeHtml(Se.getRawHtmlValue()),De=Se.getRawHtmlValue().length>0?ie("No preview available"):ie("Empty snippet content"),mt=(0,w.createElement)(oe,"div",{class:"ck ck-reset_all raw-html-embed__preview-placeholder"},De),lt=(0,w.createElement)(oe,"div",{class:"raw-html-embed__preview-content",dir:D.locale.contentLanguageDirection}),ut=oe.createRange(),dt=ut.createContextualFragment(Ie.html);return lt.appendChild(dt),(0,w.createElement)(oe,"div",{class:"raw-html-embed__preview"},[mt,lt])}({domDocument:z,state:ae,props:Z,editor:T}))}else{const Z={isDisabled:!0,placeholder:$.textareaPlaceholder};S.append(A({domDocument:z,state:ae,props:Z}))}const j={onEditClick:$.onEditClick,onSaveClick:()=>{$.onSaveClick(f.value)},onCancelClick:$.onCancelClick};S.prepend(function({editor:Z,domDocument:D,state:oe,props:Se}){const je=(0,w.createElement)(D,"div",{class:"raw-html-embed__buttons-wrapper"});if(oe.isEditable){const Ie=V(Z,"save",Se.onSaveClick),De=V(Z,"cancel",Se.onCancelClick);je.append(Ie.element,De.element),_.add(Ie).add(De)}else{const Ie=V(Z,"edit",Se.onEditClick);je.append(Ie.element),_.add(Ie)}return je}({editor:T,domDocument:z,state:ae,props:j}))}function A({domDocument:T,state:S,props:ae}){const $=(0,w.createElement)(T,"textarea",{placeholder:ae.placeholder,class:"ck ck-reset ck-input ck-input-text raw-html-embed__source"});return $.disabled=ae.isDisabled,$.value=S.getRawHtmlValue(),$}this.editor.editing.view.on("render",()=>{for(const T of _){if(T.element&&T.element.isConnected)return;T.destroy(),_.delete(T)}},{priority:"lowest"}),re.data.registerRawContentMatcher({name:"div",classes:"raw-html-embed"}),re.conversion.for("upcast").elementToElement({view:{name:"div",classes:"raw-html-embed"},model:(T,{writer:S})=>S.createElement("rawHtml",{value:T.getCustomProperty("$rawContent")})}),re.conversion.for("dataDowncast").elementToElement({model:"rawHtml",view:(T,{writer:S})=>S.createRawElement("div",{class:"raw-html-embed"},function(ae){ae.innerHTML=T.getAttribute("value")||""})}),re.conversion.for("editingDowncast").elementToStructure({model:{name:"rawHtml",attributes:["value"]},view:(T,{writer:S})=>{let ae,$,z;const f=S.createRawElement("div",{class:"raw-html-embed__content-wrapper"},function(D){ae=D,v({editor:re,domElement:D,state:$,props:z}),ae.addEventListener("mousedown",()=>{if($.isEditable){const oe=re.model;oe.document.selection.getSelectedElement()!==T&&oe.change(Se=>Se.setSelection(T,"on"))}},!0)}),j={makeEditable(){$=Object.assign({},$,{isEditable:!0}),v({domElement:ae,editor:re,state:$,props:z}),u.change(D=>{D.setAttribute("data-cke-ignore-events","true",f)}),ae.querySelector("textarea").focus()},save(D){D!==$.getRawHtmlValue()?(re.execute("htmlEmbed",D),re.editing.view.focus()):this.cancel()},cancel(){$=Object.assign({},$,{isEditable:!1}),v({domElement:ae,editor:re,state:$,props:z}),re.editing.view.focus(),u.change(D=>{D.removeAttribute("data-cke-ignore-events",f)})}};$={showPreviews:p.showPreviews,isEditable:!1,getRawHtmlValue:()=>T.getAttribute("value")||""},z={sanitizeHtml:p.sanitizeHtml,textareaPlaceholder:ie("Paste raw HTML here..."),onEditClick(){j.makeEditable()},onSaveClick(D){j.save(D)},onCancelClick(){j.cancel()}};const Z=S.createContainerElement("div",{class:"raw-html-embed","data-html-embed-label":ie("HTML snippet"),dir:re.locale.uiLanguageDirection},f);return S.setCustomProperty("rawHtmlApi",j,Z),S.setCustomProperty("rawHtml",!0,Z),(0,R.toWidget)(Z,S,{label:ie("HTML snippet"),hasSelectionHandle:!0})}})}}function V(ee,re,ie){const{t:u}=ee.locale,_=new E.ButtonView(ee.locale),p=ee.commands.get("htmlEmbed");return _.set({class:`raw-html-embed__${re}-button`,icon:g.icons.pencil,tooltip:!0,tooltipPosition:ee.locale.uiLanguageDirection==="rtl"?"e":"w"}),_.render(),re==="edit"?(_.set({icon:g.icons.pencil,label:u("Edit source")}),_.bind("isEnabled").to(p)):re==="save"?(_.set({icon:g.icons.check,label:u("Save changes")}),_.bind("isEnabled").to(p)):_.set({icon:g.icons.cancel,label:u("Cancel")}),_.on("execute",ie),_}class q extends g.Plugin{static get pluginName(){return"HtmlEmbedUI"}init(){const re=this.editor,ie=re.t;re.ui.componentFactory.add("htmlEmbed",u=>{const _=re.commands.get("htmlEmbed"),p=new E.ButtonView(u);return p.set({label:ie("Insert HTML"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',tooltip:!0}),p.bind("isEnabled").to(_,"isEnabled"),this.listenTo(p,"execute",()=>{re.execute("htmlEmbed"),re.editing.view.focus(),re.editing.view.document.selection.getSelectedElement().getCustomProperty("rawHtmlApi").makeEditable()}),p})}}class Y extends g.Plugin{static get requires(){return[h,q,R.Widget]}static get pluginName(){return"HtmlEmbed"}}})(),(window.CKEditor5=window.CKEditor5||{}).htmlEmbed=zt})()},78982:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Break text":"Break text","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Enter image caption":"Enter image caption","Full size image":"Full size image","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line",Insert:"Insert","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Left aligned image":"Left aligned image",Original:"Original","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Right aligned image":"Right aligned image","Side image":"Side image","Text alternative":"Text alternative",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Wrap text":"Wrap text"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={487:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const l=C},417:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}",""]);const l=C},86:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}",""]);const l=C},554:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}",""]);const l=C},390:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}",""]);const l=C},968:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}",""]);const l=C},151:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}",""]);const l=C},651:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',""]);const l=C},582:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',""]);const l=C},283:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}",""]);const l=C},915:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},945:(g,R,E)=>{g.exports=E(79)("./src/clipboard.js")},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},254:(g,R,E)=>{g.exports=E(79)("./src/undo.js")},448:(g,R,E)=>{g.exports=E(79)("./src/upload.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},995:(g,R,E)=>{g.exports=E(79)("./src/widget.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{AutoImage:()=>ie,Image:()=>st,ImageBlock:()=>Je,ImageBlockEditing:()=>bt,ImageCaption:()=>hi,ImageCaptionEditing:()=>Gt,ImageCaptionUI:()=>ui,ImageCaptionUtils:()=>Pt,ImageEditing:()=>De,ImageInline:()=>tt,ImageInsert:()=>Mi,ImageInsertUI:()=>Q,ImageInsertViaUrl:()=>Ki,ImageResize:()=>Rt,ImageResizeButtons:()=>Ne,ImageResizeEditing:()=>Zt,ImageResizeHandles:()=>se,ImageSizeAttributes:()=>mt,ImageStyle:()=>ur,ImageStyleEditing:()=>rn,ImageStyleUI:()=>on,ImageTextAlternative:()=>Z,ImageTextAlternativeEditing:()=>_,ImageTextAlternativeUI:()=>j,ImageToolbar:()=>rr,ImageUpload:()=>Li,ImageUploadEditing:()=>wi,ImageUploadProgress:()=>ot,ImageUploadUI:()=>Pi,ImageUtils:()=>Y,PictureEditing:()=>or});var g=te(704),R=te(945),E=te(492),w=te(254),C=te(181),l=te(209),c=te(995);function L(Ht){return Ht.createContainerElement("figure",{class:"image"},[Ht.createEmptyElement("img"),Ht.createSlot("children")])}function B(Ht,K){const Ae=Ht.plugins.get("ImageUtils"),Ue=Ht.plugins.has("ImageInlineEditing")&&Ht.plugins.has("ImageBlockEditing");return et=>Ae.isInlineImageView(et)?Ue&&(et.getStyle("display")=="block"||et.findAncestor(Ae.isBlockImageView)?"imageBlock":"imageInline")!==K?null:Be(et):null;function Be(et){const Xe={name:!0};return et.hasAttribute("src")&&(Xe.attributes=["src"]),Xe}}function y(Ht,K){const Ae=(0,l.first)(K.getSelectedBlocks());return!Ae||Ht.isObject(Ae)||Ae.isEmpty&&Ae.name!="listItem"?"imageBlock":"imageInline"}function h(Ht){return Ht&&Ht.endsWith("px")?parseInt(Ht):null}function V(Ht){const K=h(Ht.getStyle("width")),Ae=h(Ht.getStyle("height"));return!(!K||!Ae)}const q=/^(image|image-inline)$/;class Y extends g.Plugin{constructor(){super(...arguments),this._domEmitter=new((0,l.DomEmitterMixin)())}static get pluginName(){return"ImageUtils"}isImage(K){return this.isInlineImage(K)||this.isBlockImage(K)}isInlineImageView(K){return!!K&&K.is("element","img")}isBlockImageView(K){return!!K&&K.is("element","figure")&&K.hasClass("image")}insertImage(K={},Ae=null,Ue=null,Be={}){const et=this.editor,Xe=et.model,Et=Xe.document.selection,kt=ee(et,Ae||Et,Ue);K={...Object.fromEntries(Et.getAttributes()),...K};for(const At in K)Xe.schema.checkAttribute(kt,At)||delete K[At];return Xe.change(At=>{const{setImageSizes:Dt=!0}=Be,Wt=At.createElement(kt,K);return Xe.insertObject(Wt,Ae,null,{setSelection:"on",findOptimalPosition:Ae||kt=="imageInline"?void 0:"auto"}),Wt.parent?(Dt&&this.setImageNaturalSizeAttributes(Wt),Wt):null})}setImageNaturalSizeAttributes(K){const Ae=K.getAttribute("src");Ae&&(K.getAttribute("width")||K.getAttribute("height")||this.editor.model.change(Ue=>{const Be=new l.global.window.Image;this._domEmitter.listenTo(Be,"load",()=>{K.getAttribute("width")||K.getAttribute("height")||this.editor.model.enqueueChange(Ue.batch,et=>{et.setAttribute("width",Be.naturalWidth,K),et.setAttribute("height",Be.naturalHeight,K)}),this._domEmitter.stopListening(Be,"load")}),Be.src=Ae}))}getClosestSelectedImageWidget(K){const Ae=K.getFirstPosition();if(!Ae)return null;const Ue=K.getSelectedElement();if(Ue&&this.isImageWidget(Ue))return Ue;let Be=Ae.parent;for(;Be;){if(Be.is("element")&&this.isImageWidget(Be))return Be;Be=Be.parent}return null}getClosestSelectedImageElement(K){const Ae=K.getSelectedElement();return this.isImage(Ae)?Ae:K.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(K){return K.findAncestor({classes:q})}isImageAllowed(){const K=this.editor.model.document.selection;return function(Ae,Ue){if(ee(Ae,Ue,null)=="imageBlock"){const et=function(Xe,Et){const kt=(0,c.findOptimalInsertionRange)(Xe,Et),At=kt.start.parent;return At.isEmpty&&!At.is("element","$root")?At.parent:At}(Ue,Ae.model);if(Ae.model.schema.checkChild(et,"imageBlock"))return!0}else if(Ae.model.schema.checkChild(Ue.focus,"imageInline"))return!0;return!1}(this.editor,K)&&function(Ae){return[...Ae.focus.getAncestors()].every(Ue=>!Ue.is("element","imageBlock"))}(K)}toImageWidget(K,Ae,Ue){return Ae.setCustomProperty("image",!0,K),(0,c.toWidget)(K,Ae,{label:()=>{const Be=this.findViewImgElement(K).getAttribute("alt");return Be?`${Be} ${Ue}`:Ue}})}isImageWidget(K){return!!K.getCustomProperty("image")&&(0,c.isWidget)(K)}isBlockImage(K){return!!K&&K.is("element","imageBlock")}isInlineImage(K){return!!K&&K.is("element","imageInline")}findViewImgElement(K){if(this.isInlineImageView(K))return K;const Ae=this.editor.editing.view;for(const{item:Ue}of Ae.createRangeIn(K))if(this.isInlineImageView(Ue))return Ue}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function ee(Ht,K,Ae){const Ue=Ht.model.schema,Be=Ht.config.get("image.insert.type");return Ht.plugins.has("ImageBlockEditing")?Ht.plugins.has("ImageInlineEditing")?Ae||(Be==="inline"?"imageInline":Be!=="auto"?"imageBlock":K.is("selection")?y(Ue,K):Ue.checkChild(K,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}const re=new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class ie extends g.Plugin{static get requires(){return[R.Clipboard,Y,w.Undo,C.Delete]}static get pluginName(){return"AutoImage"}constructor(K){super(K),this._timeoutId=null,this._positionToInsert=null}init(){const K=this.editor,Ae=K.model.document,Ue=K.plugins.get("ClipboardPipeline");this.listenTo(Ue,"inputTransformation",()=>{const Be=Ae.selection.getFirstRange(),et=E.LivePosition.fromPosition(Be.start);et.stickiness="toPrevious";const Xe=E.LivePosition.fromPosition(Be.end);Xe.stickiness="toNext",Ae.once("change:data",()=>{this._embedImageBetweenPositions(et,Xe),et.detach(),Xe.detach()},{priority:"high"})}),K.commands.get("undo").on("execute",()=>{this._timeoutId&&(l.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedImageBetweenPositions(K,Ae){const Ue=this.editor,Be=new E.LiveRange(K,Ae),et=Be.getWalker({ignoreElementEnd:!0}),Xe=Object.fromEntries(Ue.model.document.selection.getAttributes()),Et=this.editor.plugins.get("ImageUtils");let kt="";for(const At of et)At.item.is("$textProxy")&&(kt+=At.item.data);kt=kt.trim(),kt.match(re)?(this._positionToInsert=E.LivePosition.fromPosition(K),this._timeoutId=setTimeout(()=>{if(!Ue.commands.get("insertImage").isEnabled)return void Be.detach();Ue.model.change(At=>{let Dt;this._timeoutId=null,At.remove(Be),Be.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(Dt=this._positionToInsert.toPosition()),Et.insertImage({...Xe,src:kt},Dt),this._positionToInsert.detach(),this._positionToInsert=null}),Ue.plugins.get("Delete").requestUndoOnBackspace()},100)):Be.detach()}}class u extends g.Command{refresh(){const K=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!K,this.isEnabled&&K.hasAttribute("alt")?this.value=K.getAttribute("alt"):this.value=!1}execute(K){const Ae=this.editor,Ue=Ae.plugins.get("ImageUtils"),Be=Ae.model,et=Ue.getClosestSelectedImageElement(Be.document.selection);Be.change(Xe=>{Xe.setAttribute("alt",K.newValue,et)})}}class _ extends g.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new u(this.editor))}}var p=te(273),v=te(62),A=te.n(v),T=te(915),S={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(T.Z,S),T.Z.locals;var ae=te(487),$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(ae.Z,$),ae.Z.locals;class z extends p.View{constructor(K){super(K);const Ae=this.locale.t;this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(Ae("Save"),g.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Ae("Cancel"),g.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new p.ViewCollection,this._focusCycler=new p.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),(0,p.submitHandler)({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(K=>{this._focusables.add(K),this.focusTracker.add(K.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(K,Ae,Ue,Be){const et=new p.ButtonView(this.locale);return et.set({label:K,icon:Ae,tooltip:!0}),et.extendTemplate({attributes:{class:Ue}}),Be&&et.delegate("execute").to(this,Be),et}_createLabeledInputView(){const K=this.locale.t,Ae=new p.LabeledFieldView(this.locale,p.createLabeledInputText);return Ae.label=K("Text alternative"),Ae}}function f(Ht){const K=Ht.editing.view,Ae=p.BalloonPanelView.defaultPositions,Ue=Ht.plugins.get("ImageUtils");return{target:K.domConverter.mapViewToDom(Ue.getClosestSelectedImageWidget(K.document.selection)),positions:[Ae.northArrowSouth,Ae.northArrowSouthWest,Ae.northArrowSouthEast,Ae.southArrowNorth,Ae.southArrowNorthWest,Ae.southArrowNorthEast,Ae.viewportStickyNorth]}}class j extends g.Plugin{static get requires(){return[p.ContextualBalloon]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const K=this.editor,Ae=K.t;K.ui.componentFactory.add("imageTextAlternative",Ue=>{const Be=K.commands.get("imageTextAlternative"),et=new p.ButtonView(Ue);return et.set({label:Ae("Change image text alternative"),icon:g.icons.textAlternative,tooltip:!0}),et.bind("isEnabled").to(Be,"isEnabled"),et.bind("isOn").to(Be,"value",Xe=>!!Xe),this.listenTo(et,"execute",()=>{this._showForm()}),et})}_createForm(){const K=this.editor,Ae=K.editing.view.document,Ue=K.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new((0,p.CssTransitionDisablerMixin)(z))(K.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{K.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(Be,et)=>{this._hideForm(!0),et()}),this.listenTo(K.ui,"update",()=>{Ue.getClosestSelectedImageWidget(Ae.selection)?this._isVisible&&function(Be){const et=Be.plugins.get("ContextualBalloon");if(Be.plugins.get("ImageUtils").getClosestSelectedImageWidget(Be.editing.view.document.selection)){const Xe=f(Be);et.updatePosition(Xe)}}(K):this._hideForm(!0)}),(0,p.clickOutsideHandler)({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const K=this.editor,Ae=K.commands.get("imageTextAlternative"),Ue=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:f(K)}),Ue.fieldView.value=Ue.fieldView.element.value=Ae.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(K=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),K&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Z extends g.Plugin{static get requires(){return[_,j]}static get pluginName(){return"ImageTextAlternative"}}function D(Ht,K){const Ae=(Ue,Be,et)=>{if(!et.consumable.consume(Be.item,Ue.name))return;const Xe=et.writer,Et=et.mapper.toViewElement(Be.item),kt=Ht.findViewImgElement(Et);Be.attributeNewValue===null?(Xe.removeAttribute("srcset",kt),Xe.removeAttribute("sizes",kt)):Be.attributeNewValue&&(Xe.setAttribute("srcset",Be.attributeNewValue,kt),Xe.setAttribute("sizes","100vw",kt))};return Ue=>{Ue.on(`attribute:srcset:${K}`,Ae)}}function oe(Ht,K,Ae){const Ue=(Be,et,Xe)=>{if(!Xe.consumable.consume(et.item,Be.name))return;const Et=Xe.writer,kt=Xe.mapper.toViewElement(et.item),At=Ht.findViewImgElement(kt);Et.setAttribute(et.attributeKey,et.attributeNewValue||"",At)};return Be=>{Be.on(`attribute:${Ae}:${K}`,Ue)}}class Se extends E.Observer{observe(K){this.listenTo(K,"load",(Ae,Ue)=>{const Be=Ue.target;this.checkShouldIgnoreEventFromTarget(Be)||Be.tagName=="IMG"&&this._fireEvents(Ue)},{useCapture:!0})}stopObserving(K){this.stopListening(K)}_fireEvents(K){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",K))}}class je extends g.Command{constructor(K){super(K);const Ae=K.config.get("image.insert.type");K.plugins.has("ImageBlockEditing")||Ae==="block"&&(0,l.logWarning)("image-block-plugin-required"),K.plugins.has("ImageInlineEditing")||Ae==="inline"&&(0,l.logWarning)("image-inline-plugin-required")}refresh(){const K=this.editor.plugins.get("ImageUtils");this.isEnabled=K.isImageAllowed()}execute(K){const Ae=(0,l.toArray)(K.source),Ue=this.editor.model.document.selection,Be=this.editor.plugins.get("ImageUtils"),et=Object.fromEntries(Ue.getAttributes());Ae.forEach((Xe,Et)=>{const kt=Ue.getSelectedElement();if(typeof Xe=="string"&&(Xe={src:Xe}),Et&&kt&&Be.isImage(kt)){const At=this.editor.model.createPositionAfter(kt);Be.insertImage({...Xe,...et},At)}else Be.insertImage({...Xe,...et})})}}class Ie extends g.Command{constructor(K){super(K),this.decorate("cleanupImage")}refresh(){const K=this.editor.plugins.get("ImageUtils"),Ae=this.editor.model.document.selection.getSelectedElement();this.isEnabled=K.isImage(Ae),this.value=this.isEnabled?Ae.getAttribute("src"):null}execute(K){const Ae=this.editor.model.document.selection.getSelectedElement(),Ue=this.editor.plugins.get("ImageUtils");this.editor.model.change(Be=>{Be.setAttribute("src",K.source,Ae),this.cleanupImage(Be,Ae),Ue.setImageNaturalSizeAttributes(Ae)})}cleanupImage(K,Ae){K.removeAttribute("srcset",Ae),K.removeAttribute("sizes",Ae),K.removeAttribute("sources",Ae),K.removeAttribute("width",Ae),K.removeAttribute("height",Ae),K.removeAttribute("alt",Ae)}}class De extends g.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageEditing"}init(){const K=this.editor,Ae=K.conversion;K.editing.view.addObserver(Se),Ae.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const Ue=new je(K),Be=new Ie(K);K.commands.add("insertImage",Ue),K.commands.add("replaceImageSource",Be),K.commands.add("imageInsert",Ue)}}class mt extends g.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(K){const Ae=this.editor,Ue=Ae.plugins.get("ImageUtils"),Be=K==="imageBlock"?"figure":"img";function et(Xe,Et,kt,At){Xe.on(`attribute:${Et}:${K}`,(Dt,Wt,mi)=>{if(!mi.consumable.consume(Wt.item,Dt.name))return;const ai=mi.writer,gi=mi.mapper.toViewElement(Wt.item),Ri=Ue.findViewImgElement(gi);if(Wt.attributeNewValue!==null?ai.setAttribute(kt,Wt.attributeNewValue,Ri):ai.removeAttribute(kt,Ri),Wt.item.hasAttribute("sources"))return;const Qi=Wt.item.hasAttribute("resizedWidth");if(K==="imageInline"&&!Qi&&!At)return;const Pn=Wt.item.getAttribute("width"),Mn=Wt.item.getAttribute("height");Pn&&Mn&&ai.setStyle("aspect-ratio",`${Pn}/${Mn}`,Ri)})}Ae.conversion.for("upcast").attributeToAttribute({view:{name:Be,styles:{width:/.+/}},model:{key:"width",value:Xe=>V(Xe)?h(Xe.getStyle("width")):null}}).attributeToAttribute({view:{name:Be,key:"width"},model:"width"}).attributeToAttribute({view:{name:Be,styles:{height:/.+/}},model:{key:"height",value:Xe=>V(Xe)?h(Xe.getStyle("height")):null}}).attributeToAttribute({view:{name:Be,key:"height"},model:"height"}),Ae.conversion.for("editingDowncast").add(Xe=>{et(Xe,"width","width",!0),et(Xe,"height","height",!0)}),Ae.conversion.for("dataDowncast").add(Xe=>{et(Xe,"width","width",!1),et(Xe,"height","height",!1)})}}class lt extends g.Command{constructor(K,Ae){super(K),this._modelElementName=Ae}refresh(){const K=this.editor.plugins.get("ImageUtils"),Ae=K.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=K.isInlineImage(Ae):this.isEnabled=K.isBlockImage(Ae)}execute(K={}){const Ae=this.editor,Ue=this.editor.model,Be=Ae.plugins.get("ImageUtils"),et=Be.getClosestSelectedImageElement(Ue.document.selection),Xe=Object.fromEntries(et.getAttributes());return Xe.src||Xe.uploadId?Ue.change(Et=>{const{setImageSizes:kt=!0}=K,At=Array.from(Ue.markers).filter(mi=>mi.getRange().containsItem(et)),Dt=Be.insertImage(Xe,Ue.createSelection(et,"on"),this._modelElementName,{setImageSizes:kt});if(!Dt)return null;const Wt=Et.createRangeOn(Dt);for(const mi of At){const ai=mi.getRange(),gi=ai.root.rootName!="$graveyard"?ai.getJoined(Wt,!0):Wt;Et.updateMarker(mi,{range:gi})}return{oldElement:et,newElement:Dt}}):null}}var ut=te(390),dt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(ut.Z,dt),ut.Z.locals;class vt extends g.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const K=this.editor.model.schema;K.isRegistered("imageBlock")&&K.extend("imageBlock",{allowAttributes:["placeholder"]}),K.isRegistered("imageInline")&&K.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const K=this.editor,Ae=K.conversion,Ue=K.plugins.get("ImageUtils");Ae.for("editingDowncast").add(Be=>{Be.on("attribute:placeholder",(et,Xe,Et)=>{if(!Et.consumable.test(Xe.item,et.name)||!Xe.item.is("element","imageBlock")&&!Xe.item.is("element","imageInline"))return;Et.consumable.consume(Xe.item,et.name);const kt=Et.writer,At=Et.mapper.toViewElement(Xe.item),Dt=Ue.findViewImgElement(At);Xe.attributeNewValue?(kt.addClass("image_placeholder",Dt),kt.setStyle("background-image",`url(${Xe.attributeNewValue})`,Dt),kt.setCustomProperty("editingPipeline:doNotReuseOnce",!0,Dt)):(kt.removeClass("image_placeholder",Dt),kt.removeStyle("background-image",Dt))})})}_setupLoadListener(){const K=this.editor,Ae=K.model,Ue=K.editing,Be=Ue.view,et=K.plugins.get("ImageUtils");Be.addObserver(Se),this.listenTo(Be.document,"imageLoaded",(Xe,Et)=>{const kt=Be.domConverter.mapDomToView(Et.target);if(!kt)return;const At=et.getImageWidgetFromImageView(kt);if(!At)return;const Dt=Ue.mapper.toModelElement(At);Dt&&Dt.hasAttribute("placeholder")&&Ae.enqueueChange({isUndoable:!1},Wt=>{Wt.removeAttribute("placeholder",Dt)})})}}class bt extends g.Plugin{static get requires(){return[De,mt,Y,vt,R.ClipboardPipeline]}static get pluginName(){return"ImageBlockEditing"}init(){const K=this.editor;K.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),K.plugins.has("ImageInlineEditing")&&(K.commands.add("imageTypeBlock",new lt(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const K=this.editor,Ae=K.t,Ue=K.conversion,Be=K.plugins.get("ImageUtils");Ue.for("dataDowncast").elementToStructure({model:"imageBlock",view:(et,{writer:Xe})=>L(Xe)}),Ue.for("editingDowncast").elementToStructure({model:"imageBlock",view:(et,{writer:Xe})=>Be.toImageWidget(L(Xe),Xe,Ae("image widget"))}),Ue.for("downcast").add(oe(Be,"imageBlock","src")).add(oe(Be,"imageBlock","alt")).add(D(Be,"imageBlock")),Ue.for("upcast").elementToElement({view:B(K,"imageBlock"),model:(et,{writer:Xe})=>Xe.createElement("imageBlock",et.hasAttribute("src")?{src:et.getAttribute("src")}:void 0)}).add(function(et){const Xe=(Et,kt,At)=>{if(!At.consumable.test(kt.viewItem,{name:!0,classes:"image"}))return;const Dt=et.findViewImgElement(kt.viewItem);if(!Dt||!At.consumable.test(Dt,{name:!0}))return;At.consumable.consume(kt.viewItem,{name:!0,classes:"image"});const Wt=At.convertItem(Dt,kt.modelCursor),mi=(0,l.first)(Wt.modelRange.getItems());mi?(At.convertChildren(kt.viewItem,mi),At.updateConversionResult(mi,kt)):At.consumable.revert(kt.viewItem,{name:!0,classes:"image"})};return Et=>{Et.on("element:figure",Xe)}}(Be))}_setupClipboardIntegration(){const K=this.editor,Ae=K.model,Ue=K.editing.view,Be=K.plugins.get("ImageUtils"),et=K.plugins.get("ClipboardPipeline");this.listenTo(et,"inputTransformation",(Xe,Et)=>{const kt=Array.from(Et.content.getChildren());let At;if(!kt.every(Be.isInlineImageView))return;At=Et.targetRanges?K.editing.mapper.toModelRange(Et.targetRanges[0]):Ae.document.selection.getFirstRange();const Dt=Ae.createSelection(At);if(y(Ae.schema,Dt)==="imageBlock"){const Wt=new E.UpcastWriter(Ue.document),mi=kt.map(ai=>Wt.createElement("figure",{class:"image"},ai));Et.content=Wt.createDocumentFragment(mi)}}),this.listenTo(et,"contentInsertion",(Xe,Et)=>{Et.method==="paste"&&Ae.change(kt=>{const At=kt.createRangeIn(Et.content);for(const Dt of At.getItems())Dt.is("element","imageBlock")&&Be.setImageNaturalSizeAttributes(Dt)})})}}var Qe=te(554),ft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(Qe.Z,ft),Qe.Z.locals;class Ve extends p.View{constructor(K,Ae=[]){super(K),this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this._focusables=new p.ViewCollection,this.children=this.createCollection(),this._focusCycler=new p.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const Ue of Ae)this.children.add(Ue),this._focusables.add(Ue),Ue instanceof p.CollapsibleView&&this._focusables.addMany(Ue.children);if(this._focusables.length>1)for(const Ue of this._focusables)Te(Ue)&&(Ue.focusCycler.on("forwardCycle",Be=>{this._focusCycler.focusNext(),Be.stop()}),Ue.focusCycler.on("backwardCycle",Be=>{this._focusCycler.focusPrevious(),Be.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),(0,p.submitHandler)({view:this});for(const Ae of this._focusables)this.focusTracker.add(Ae.element);this.keystrokes.listenTo(this.element);const K=Ae=>Ae.stopPropagation();this.keystrokes.set("arrowright",K),this.keystrokes.set("arrowleft",K),this.keystrokes.set("arrowup",K),this.keystrokes.set("arrowdown",K)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Te(Ht){return"focusCycler"in Ht}class Q extends g.Plugin{static get pluginName(){return"ImageInsertUI"}static get requires(){return[Y]}constructor(K){super(K),this._integrations=new Map,K.config.define("image.insert.integrations",["upload","assetManager","url"])}init(){const K=this.editor,Ae=K.model.document.selection,Ue=K.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(K.model.document,"change",()=>{this.isImageSelected=Ue.isImage(Ae.getSelectedElement())});const Be=et=>this._createToolbarComponent(et);K.ui.componentFactory.add("insertImage",Be),K.ui.componentFactory.add("imageInsert",Be)}registerIntegration({name:K,observable:Ae,buttonViewCreator:Ue,formViewCreator:Be,requiresForm:et}){this._integrations.has(K)&&(0,l.logWarning)("image-insert-integration-exists",{name:K}),this._integrations.set(K,{observable:Ae,buttonViewCreator:Ue,formViewCreator:Be,requiresForm:!!et})}_createToolbarComponent(K){const Ae=this.editor,Ue=K.t,Be=this._prepareIntegrations();if(!Be.length)return null;let et;const Xe=Be[0];if(Be.length==1){if(!Xe.requiresForm)return Xe.buttonViewCreator(!0);et=Xe.buttonViewCreator(!0)}else{const At=Xe.buttonViewCreator(!1);et=new p.SplitButtonView(K,At),et.tooltip=!0,et.bind("label").to(this,"isImageSelected",Dt=>Ue(Dt?"Replace image":"Insert image"))}const Et=this.dropdownView=(0,p.createDropdown)(K,et),kt=Be.map(({observable:At})=>At);return Et.bind("isEnabled").toMany(kt,"isEnabled",(...At)=>At.some(Dt=>Dt)),Et.once("change:isOpen",()=>{const At=Be.map(({formViewCreator:Wt})=>Wt(Be.length==1)),Dt=new Ve(Ae.locale,At);Et.panelView.children.add(Dt)}),Et}_prepareIntegrations(){const K=this.editor.config.get("image.insert.integrations"),Ae=[];if(!K.length)return(0,l.logWarning)("image-insert-integrations-not-specified"),Ae;for(const Ue of K)this._integrations.has(Ue)?Ae.push(this._integrations.get(Ue)):["upload","assetManager","url"].includes(Ue)||(0,l.logWarning)("image-insert-unknown-integration",{item:Ue});return Ae.length||(0,l.logWarning)("image-insert-integrations-not-registered"),Ae}}var xe=te(417),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(xe.Z,Oe),xe.Z.locals;class Je extends g.Plugin{static get requires(){return[bt,c.Widget,Z,Q]}static get pluginName(){return"ImageBlock"}}class $e extends g.Plugin{static get requires(){return[De,mt,Y,vt,R.ClipboardPipeline]}static get pluginName(){return"ImageInlineEditing"}init(){const K=this.editor,Ae=K.model.schema;Ae.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),Ae.addChildCheck((Ue,Be)=>{if(Ue.endsWith("caption")&&Be.name==="imageInline")return!1}),this._setupConversion(),K.plugins.has("ImageBlockEditing")&&(K.commands.add("imageTypeInline",new lt(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const K=this.editor,Ae=K.t,Ue=K.conversion,Be=K.plugins.get("ImageUtils");Ue.for("dataDowncast").elementToElement({model:"imageInline",view:(et,{writer:Xe})=>Xe.createEmptyElement("img")}),Ue.for("editingDowncast").elementToStructure({model:"imageInline",view:(et,{writer:Xe})=>Be.toImageWidget(function(Et){return Et.createContainerElement("span",{class:"image-inline"},Et.createEmptyElement("img"))}(Xe),Xe,Ae("image widget"))}),Ue.for("downcast").add(oe(Be,"imageInline","src")).add(oe(Be,"imageInline","alt")).add(D(Be,"imageInline")),Ue.for("upcast").elementToElement({view:B(K,"imageInline"),model:(et,{writer:Xe})=>Xe.createElement("imageInline",et.hasAttribute("src")?{src:et.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const K=this.editor,Ae=K.model,Ue=K.editing.view,Be=K.plugins.get("ImageUtils"),et=K.plugins.get("ClipboardPipeline");this.listenTo(et,"inputTransformation",(Xe,Et)=>{const kt=Array.from(Et.content.getChildren());let At;if(!kt.every(Be.isBlockImageView))return;At=Et.targetRanges?K.editing.mapper.toModelRange(Et.targetRanges[0]):Ae.document.selection.getFirstRange();const Dt=Ae.createSelection(At);if(y(Ae.schema,Dt)==="imageInline"){const Wt=new E.UpcastWriter(Ue.document),mi=kt.map(ai=>ai.childCount===1?(Array.from(ai.getAttributes()).forEach(gi=>Wt.setAttribute(...gi,Be.findViewImgElement(ai))),ai.getChild(0)):ai);Et.content=Wt.createDocumentFragment(mi)}}),this.listenTo(et,"contentInsertion",(Xe,Et)=>{Et.method==="paste"&&Ae.change(kt=>{const At=kt.createRangeIn(Et.content);for(const Dt of At.getItems())Dt.is("element","imageInline")&&Be.setImageNaturalSizeAttributes(Dt)})})}}class tt extends g.Plugin{static get requires(){return[$e,c.Widget,Z,Q]}static get pluginName(){return"ImageInline"}}class st extends g.Plugin{static get requires(){return[Je,tt]}static get pluginName(){return"Image"}}class Pt extends g.Plugin{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Y]}getCaptionFromImageModelElement(K){for(const Ae of K.getChildren())if(Ae&&Ae.is("element","caption"))return Ae;return null}getCaptionFromModelSelection(K){const Ae=this.editor.plugins.get("ImageUtils"),Ue=K.getFirstPosition().findAncestor("caption");return Ue&&Ae.isBlockImage(Ue.parent)?Ue:null}matchImageCaptionViewElement(K){const Ae=this.editor.plugins.get("ImageUtils");return K.name=="figcaption"&&Ae.isBlockImageView(K.parent)?{name:!0}:null}}class Ft extends g.Command{refresh(){const K=this.editor,Ae=K.plugins.get("ImageCaptionUtils"),Ue=K.plugins.get("ImageUtils");if(!K.plugins.has(bt))return this.isEnabled=!1,void(this.value=!1);const Be=K.model.document.selection,et=Be.getSelectedElement();if(!et){const Xe=Ae.getCaptionFromModelSelection(Be);return this.isEnabled=!!Xe,void(this.value=!!Xe)}this.isEnabled=Ue.isImage(et),this.isEnabled?this.value=!!Ae.getCaptionFromImageModelElement(et):this.value=!1}execute(K={}){const{focusCaptionOnShow:Ae}=K;this.editor.model.change(Ue=>{this.value?this._hideImageCaption(Ue):this._showImageCaption(Ue,Ae)})}_showImageCaption(K,Ae){const Ue=this.editor.model.document.selection,Be=this.editor.plugins.get("ImageCaptionEditing"),et=this.editor.plugins.get("ImageUtils");let Xe=Ue.getSelectedElement();const Et=Be._getSavedCaption(Xe);et.isInlineImage(Xe)&&(this.editor.execute("imageTypeBlock"),Xe=Ue.getSelectedElement());const kt=Et||K.createElement("caption");K.append(kt,Xe),Ae&&K.setSelection(kt,"in")}_hideImageCaption(K){const Ae=this.editor,Ue=Ae.model.document.selection,Be=Ae.plugins.get("ImageCaptionEditing"),et=Ae.plugins.get("ImageCaptionUtils");let Xe,Et=Ue.getSelectedElement();Et?Xe=et.getCaptionFromImageModelElement(Et):(Xe=et.getCaptionFromModelSelection(Ue),Et=Xe.parent),Be._saveCaption(Et,Xe),K.setSelection(Et,"on"),K.remove(Xe)}}class Gt extends g.Plugin{static get requires(){return[Y,Pt]}static get pluginName(){return"ImageCaptionEditing"}constructor(K){super(K),this._savedCaptionsMap=new WeakMap}init(){const K=this.editor,Ae=K.model.schema;Ae.isRegistered("caption")?Ae.extend("caption",{allowIn:"imageBlock"}):Ae.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),K.commands.add("toggleImageCaption",new Ft(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const K=this.editor,Ae=K.editing.view,Ue=K.plugins.get("ImageUtils"),Be=K.plugins.get("ImageCaptionUtils"),et=K.t;K.conversion.for("upcast").elementToElement({view:Xe=>Be.matchImageCaptionViewElement(Xe),model:"caption"}),K.conversion.for("dataDowncast").elementToElement({model:"caption",view:(Xe,{writer:Et})=>Ue.isBlockImage(Xe.parent)?Et.createContainerElement("figcaption"):null}),K.conversion.for("editingDowncast").elementToElement({model:"caption",view:(Xe,{writer:Et})=>{if(!Ue.isBlockImage(Xe.parent))return null;const kt=Et.createEditableElement("figcaption");Et.setCustomProperty("imageCaption",!0,kt),kt.placeholder=et("Enter image caption"),(0,E.enablePlaceholder)({view:Ae,element:kt,keepOnFocus:!0});const At=Xe.parent.getAttribute("alt"),Dt=At?et("Caption for image: %0",[At]):et("Caption for the image");return(0,c.toWidgetEditable)(kt,Et,{label:Dt})}})}_setupImageTypeCommandsIntegration(){const K=this.editor,Ae=K.plugins.get("ImageUtils"),Ue=K.plugins.get("ImageCaptionUtils"),Be=K.commands.get("imageTypeInline"),et=K.commands.get("imageTypeBlock"),Xe=Et=>{if(!Et.return)return;const{oldElement:kt,newElement:At}=Et.return;if(!kt)return;if(Ae.isBlockImage(kt)){const Wt=Ue.getCaptionFromImageModelElement(kt);if(Wt)return void this._saveCaption(At,Wt)}const Dt=this._getSavedCaption(kt);Dt&&this._saveCaption(At,Dt)};Be&&this.listenTo(Be,"execute",Xe,{priority:"low"}),et&&this.listenTo(et,"execute",Xe,{priority:"low"})}_getSavedCaption(K){const Ae=this._savedCaptionsMap.get(K);return Ae?E.Element.fromJSON(Ae):null}_saveCaption(K,Ae){this._savedCaptionsMap.set(K,Ae.toJSON())}_registerCaptionReconversion(){const K=this.editor,Ae=K.model,Ue=K.plugins.get("ImageUtils"),Be=K.plugins.get("ImageCaptionUtils");Ae.document.on("change:data",()=>{const et=Ae.document.differ.getChanges();for(const Xe of et){if(Xe.attributeKey!=="alt")continue;const Et=Xe.range.start.nodeAfter;if(Ue.isBlockImage(Et)){const kt=Be.getCaptionFromImageModelElement(Et);if(!kt)return;K.editing.reconvertItem(kt)}}})}}class ui extends g.Plugin{static get requires(){return[Pt]}static get pluginName(){return"ImageCaptionUI"}init(){const K=this.editor,Ae=K.editing.view,Ue=K.plugins.get("ImageCaptionUtils"),Be=K.t;K.ui.componentFactory.add("toggleImageCaption",et=>{const Xe=K.commands.get("toggleImageCaption"),Et=new p.ButtonView(et);return Et.set({icon:g.icons.caption,tooltip:!0,isToggleable:!0}),Et.bind("isOn","isEnabled").to(Xe,"value","isEnabled"),Et.bind("label").to(Xe,"value",kt=>Be(kt?"Toggle caption off":"Toggle caption on")),this.listenTo(Et,"execute",()=>{K.execute("toggleImageCaption",{focusCaptionOnShow:!0});const kt=Ue.getCaptionFromModelSelection(K.model.document.selection);if(kt){const At=K.editing.mapper.toViewElement(kt);Ae.scrollToTheSelection(),Ae.change(Dt=>{Dt.addClass("image__caption_highlighted",At)})}K.editing.view.focus()}),Et})}}var Vt=te(86),ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(Vt.Z,ti),Vt.Z.locals;class hi extends g.Plugin{static get requires(){return[Gt,ui]}static get pluginName(){return"ImageCaption"}}var Ci=te(448);function Oi(Ht){const K=Ht.map(Ae=>Ae.replace("+","\\+"));return new RegExp(`^image\\/(${K.join("|")})$`)}function Di(Ht){return new Promise((K,Ae)=>{const Ue=Ht.getAttribute("src");fetch(Ue).then(Be=>Be.blob()).then(Be=>{const et=Vi(Be,Ue),Xe=et.replace("image/",""),Et=new File([Be],`image.${Xe}`,{type:et});K(Et)}).catch(Be=>Be&&Be.name==="TypeError"?function(et){return function(Xe){return new Promise((Et,kt)=>{const At=l.global.document.createElement("img");At.addEventListener("load",()=>{const Dt=l.global.document.createElement("canvas");Dt.width=At.width,Dt.height=At.height,Dt.getContext("2d").drawImage(At,0,0),Dt.toBlob(Wt=>Wt?Et(Wt):kt())}),At.addEventListener("error",()=>kt()),At.src=Xe})}(et).then(Xe=>{const Et=Vi(Xe,et),kt=Et.replace("image/","");return new File([Xe],`image.${kt}`,{type:Et})})}(Ue).then(K).catch(Ae):Ae(Be))})}function Vi(Ht,K){return Ht.type?Ht.type:K.match(/data:(image\/\w+);base64/)?K.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Pi extends g.Plugin{static get pluginName(){return"ImageUploadUI"}init(){const K=this.editor,Ae=K.t,Ue=Be=>{const et=new Ci.FileDialogButtonView(Be),Xe=K.commands.get("uploadImage"),Et=K.config.get("image.upload.types"),kt=Oi(Et);return et.set({acceptedType:Et.map(At=>`image/${At}`).join(","),allowMultipleFiles:!0,label:Ae("Upload image from computer"),icon:g.icons.imageUpload,tooltip:!0}),et.bind("isEnabled").to(Xe),et.on("done",(At,Dt)=>{const Wt=Array.from(Dt).filter(mi=>kt.test(mi.type));Wt.length&&(K.execute("uploadImage",{file:Wt}),K.editing.view.focus())}),et};if(K.ui.componentFactory.add("uploadImage",Ue),K.ui.componentFactory.add("imageUpload",Ue),K.plugins.has("ImageInsertUI")){const Be=K.plugins.get("ImageInsertUI"),et=K.commands.get("uploadImage");Be.registerIntegration({name:"upload",observable:et,buttonViewCreator:()=>{const Xe=K.ui.componentFactory.create("uploadImage");return Xe.bind("label").to(Be,"isImageSelected",Et=>Ae(Et?"Replace image from computer":"Upload image from computer")),Xe},formViewCreator:()=>{const Xe=K.ui.componentFactory.create("uploadImage");return Xe.withText=!0,Xe.bind("label").to(Be,"isImageSelected",Et=>Ae(Et?"Replace from computer":"Upload from computer")),Xe.on("execute",()=>{Be.dropdownView.isOpen=!1}),Xe}})}}}var Zi=te(283),at={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(Zi.Z,at),Zi.Z.locals;var ue=te(651),ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(ue.Z,ye),ue.Z.locals;var Le=te(582),Ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(Le.Z,Ge),Le.Z.locals;class ot extends g.Plugin{static get pluginName(){return"ImageUploadProgress"}constructor(K){super(K),this.uploadStatusChange=(Ae,Ue,Be)=>{const et=this.editor,Xe=Ue.item,Et=Xe.getAttribute("uploadId");if(!Be.consumable.consume(Ue.item,Ae.name))return;const kt=et.plugins.get("ImageUtils"),At=et.plugins.get(Ci.FileRepository),Dt=Et?Ue.attributeNewValue:null,Wt=this.placeholder,mi=et.editing.mapper.toViewElement(Xe),ai=Be.writer;if(Dt=="reading")return gt(mi,ai),void Lt(kt,Wt,mi,ai);if(Dt=="uploading"){const gi=At.loaders.get(Et);return gt(mi,ai),void(gi?(Ot(mi,ai),function(Ri,Qi,Pn,Mn){const Qn=function(Kn){const Rn=Kn.createUIElement("div",{class:"ck-progress-bar"});return Kn.setCustomProperty("progressBar",!0,Rn),Rn}(Qi);Qi.insert(Qi.createPositionAt(Ri,"end"),Qn),Pn.on("change:uploadedPercent",(Kn,Rn,hr)=>{Mn.change(yr=>{yr.setStyle("width",hr+"%",Qn)})})}(mi,ai,gi,et.editing.view),function(Ri,Qi,Pn,Mn){if(Mn.data){const Qn=Ri.findViewImgElement(Qi);Pn.setAttribute("src",Mn.data,Qn)}}(kt,mi,ai,gi)):Lt(kt,Wt,mi,ai))}Dt=="complete"&&At.loaders.get(Et)&&function(gi,Ri,Qi){const Pn=Ri.createUIElement("div",{class:"ck-image-upload-complete-icon"});Ri.insert(Ri.createPositionAt(gi,"end"),Pn),setTimeout(()=>{Qi.change(Mn=>Mn.remove(Mn.createRangeOn(Pn)))},3e3)}(mi,ai,et.editing.view),function(gi,Ri){oi(gi,Ri,"progressBar")}(mi,ai),Ot(mi,ai),function(gi,Ri){Ri.removeClass("ck-appear",gi)}(mi,ai)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const K=this.editor;K.plugins.has("ImageBlockEditing")&&K.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),K.plugins.has("ImageInlineEditing")&&K.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function gt(Ht,K){Ht.hasClass("ck-appear")||K.addClass("ck-appear",Ht)}function Lt(Ht,K,Ae,Ue){Ae.hasClass("ck-image-upload-placeholder")||Ue.addClass("ck-image-upload-placeholder",Ae);const Be=Ht.findViewImgElement(Ae);Be.getAttribute("src")!==K&&Ue.setAttribute("src",K,Be),Ut(Ae,"placeholder")||Ue.insert(Ue.createPositionAfter(Be),function(et){const Xe=et.createUIElement("div",{class:"ck-upload-placeholder-loader"});return et.setCustomProperty("placeholder",!0,Xe),Xe}(Ue))}function Ot(Ht,K){Ht.hasClass("ck-image-upload-placeholder")&&K.removeClass("ck-image-upload-placeholder",Ht),oi(Ht,K,"placeholder")}function Ut(Ht,K){for(const Ae of Ht.getChildren())if(Ae.getCustomProperty(K))return Ae}function oi(Ht,K,Ae){const Ue=Ut(Ht,Ae);Ue&&K.remove(K.createRangeOn(Ue))}class ri extends g.Command{refresh(){const K=this.editor,Ae=K.plugins.get("ImageUtils"),Ue=K.model.document.selection.getSelectedElement();this.isEnabled=Ae.isImageAllowed()||Ae.isImage(Ue)}execute(K){const Ae=(0,l.toArray)(K.file),Ue=this.editor.model.document.selection,Be=this.editor.plugins.get("ImageUtils"),et=Object.fromEntries(Ue.getAttributes());Ae.forEach((Xe,Et)=>{const kt=Ue.getSelectedElement();if(Et&&kt&&Be.isImage(kt)){const At=this.editor.model.createPositionAfter(kt);this._uploadImage(Xe,et,At)}else this._uploadImage(Xe,et)})}_uploadImage(K,Ae,Ue){const Be=this.editor,et=Be.plugins.get(Ci.FileRepository).createLoader(K),Xe=Be.plugins.get("ImageUtils");et&&Xe.insertImage({...Ae,uploadId:et.id},Ue)}}class wi extends g.Plugin{static get requires(){return[Ci.FileRepository,p.Notification,R.ClipboardPipeline,Y]}static get pluginName(){return"ImageUploadEditing"}constructor(K){super(K),K.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const K=this.editor,Ae=K.model.document,Ue=K.conversion,Be=K.plugins.get(Ci.FileRepository),et=K.plugins.get("ImageUtils"),Xe=K.plugins.get("ClipboardPipeline"),Et=Oi(K.config.get("image.upload.types")),kt=new ri(K);K.commands.add("uploadImage",kt),K.commands.add("imageUpload",kt),Ue.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(K.editing.view.document,"clipboardInput",(At,Dt)=>{if(Wt=Dt.dataTransfer,Array.from(Wt.types).includes("text/html")&&Wt.getData("text/html")!=="")return;var Wt;const mi=Array.from(Dt.dataTransfer.files).filter(ai=>!!ai&&Et.test(ai.type));mi.length&&(At.stop(),K.model.change(ai=>{Dt.targetRanges&&ai.setSelection(Dt.targetRanges.map(gi=>K.editing.mapper.toModelRange(gi))),K.execute("uploadImage",{file:mi})}))}),this.listenTo(Xe,"inputTransformation",(At,Dt)=>{const Wt=Array.from(K.editing.view.createRangeIn(Dt.content)).map(ai=>ai.item).filter(ai=>function(gi,Ri){return!(!gi.isInlineImageView(Ri)||!Ri.getAttribute("src")||!Ri.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!Ri.getAttribute("src").match(/^blob:/g))}(et,ai)&&!ai.getAttribute("uploadProcessed")).map(ai=>({promise:Di(ai),imageElement:ai}));if(!Wt.length)return;const mi=new E.UpcastWriter(K.editing.view.document);for(const ai of Wt){mi.setAttribute("uploadProcessed",!0,ai.imageElement);const gi=Be.createLoader(ai.promise);gi&&(mi.setAttribute("src","",ai.imageElement),mi.setAttribute("uploadId",gi.id,ai.imageElement))}}),K.editing.view.document.on("dragover",(At,Dt)=>{Dt.preventDefault()}),Ae.on("change",()=>{const At=Ae.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),Dt=new Set;for(const Wt of At)if(Wt.type=="insert"&&Wt.name!="$text"){const mi=Wt.position.nodeAfter,ai=Wt.position.root.rootName=="$graveyard";for(const gi of Ii(K,mi)){const Ri=gi.getAttribute("uploadId");if(!Ri)continue;const Qi=Be.loaders.get(Ri);Qi&&(ai?Dt.has(Ri)||Qi.abort():(Dt.add(Ri),this._uploadImageElements.set(Ri,gi),Qi.status=="idle"&&this._readAndUpload(Qi)))}}}),this.on("uploadComplete",(At,{imageElement:Dt,data:Wt})=>{const mi=Wt.urls?Wt.urls:Wt;this.editor.model.change(ai=>{ai.setAttribute("src",mi.default,Dt),this._parseAndSetSrcsetAttributeOnImage(mi,Dt,ai),et.setImageNaturalSizeAttributes(Dt)})},{priority:"low"})}afterInit(){const K=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&K.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&K.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(K){const Ae=this.editor,Ue=Ae.model,Be=Ae.locale.t,et=Ae.plugins.get(Ci.FileRepository),Xe=Ae.plugins.get(p.Notification),Et=Ae.plugins.get("ImageUtils"),kt=this._uploadImageElements;return Ue.enqueueChange({isUndoable:!1},Dt=>{Dt.setAttribute("uploadStatus","reading",kt.get(K.id))}),K.read().then(()=>{const Dt=K.upload(),Wt=kt.get(K.id);if(l.env.isSafari){const mi=Ae.editing.mapper.toViewElement(Wt),ai=Et.findViewImgElement(mi);Ae.editing.view.once("render",()=>{if(!ai.parent)return;const gi=Ae.editing.view.domConverter.mapViewToDom(ai.parent);if(!gi)return;const Ri=gi.style.display;gi.style.display="none",gi._ckHack=gi.offsetHeight,gi.style.display=Ri})}return Ue.enqueueChange({isUndoable:!1},mi=>{mi.setAttribute("uploadStatus","uploading",Wt)}),Dt}).then(Dt=>{Ue.enqueueChange({isUndoable:!1},Wt=>{const mi=kt.get(K.id);Wt.setAttribute("uploadStatus","complete",mi),this.fire("uploadComplete",{data:Dt,imageElement:mi})}),At()}).catch(Dt=>{if(K.status!=="error"&&K.status!=="aborted")throw Dt;K.status=="error"&&Dt&&Xe.showWarning(Dt,{title:Be("Upload failed"),namespace:"upload"}),Ue.enqueueChange({isUndoable:!1},Wt=>{Wt.remove(kt.get(K.id))}),At()});function At(){Ue.enqueueChange({isUndoable:!1},Dt=>{const Wt=kt.get(K.id);Dt.removeAttribute("uploadId",Wt),Dt.removeAttribute("uploadStatus",Wt),kt.delete(K.id)}),et.destroyLoader(K)}}_parseAndSetSrcsetAttributeOnImage(K,Ae,Ue){let Be=0;const et=Object.keys(K).filter(Xe=>{const Et=parseInt(Xe,10);if(!isNaN(Et))return Be=Math.max(Be,Et),!0}).map(Xe=>`${K[Xe]} ${Xe}w`).join(", ");if(et!=""){const Xe={srcset:et};Ae.hasAttribute("width")||Ae.hasAttribute("height")||(Xe.width=Be),Ue.setAttributes(Xe,Ae)}}}function Ii(Ht,K){const Ae=Ht.plugins.get("ImageUtils");return Array.from(Ht.model.createRangeOn(K)).filter(Ue=>Ae.isImage(Ue.item)).map(Ue=>Ue.item)}class Li extends g.Plugin{static get pluginName(){return"ImageUpload"}static get requires(){return[wi,Pi,ot]}}class yi extends p.View{constructor(K){super(K),this.set("imageURLInputValue",""),this.set("isImageSelected",!1),this.set("isEnabled",!0),this.focusTracker=new l.FocusTracker,this.keystrokes=new l.KeystrokeHandler,this._focusables=new p.ViewCollection,this.focusCycler=new p.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.urlInputView=this._createUrlInputView(),this.insertButtonView=this._createInsertButton(),this.cancelButtonView=this._createCancelButton(),this._focusables.addMany([this.urlInputView,this.insertButtonView,this.cancelButtonView]),this.setTemplate({tag:"div",attributes:{class:["ck","ck-image-insert-url"]},children:[this.urlInputView,{tag:"div",attributes:{class:["ck","ck-image-insert-url__action-row"]},children:[this.insertButtonView,this.cancelButtonView]}]})}render(){super.render();for(const K of this._focusables)this.focusTracker.add(K.element);this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createUrlInputView(){const K=this.locale,Ae=K.t,Ue=new p.LabeledFieldView(K,p.createLabeledInputText);return Ue.bind("label").to(this,"isImageSelected",Be=>Ae(Be?"Update image URL":"Insert image via URL")),Ue.bind("isEnabled").to(this),Ue.fieldView.placeholder="https://example.com/image.png",Ue.fieldView.bind("value").to(this,"imageURLInputValue",Be=>Be||""),Ue.fieldView.on("input",()=>{this.imageURLInputValue=Ue.fieldView.element.value.trim()}),Ue}_createInsertButton(){const K=this.locale,Ae=K.t,Ue=new p.ButtonView(K);return Ue.set({icon:g.icons.check,class:"ck-button-save",type:"submit",withText:!0}),Ue.bind("label").to(this,"isImageSelected",Be=>Ae(Be?"Update":"Insert")),Ue.bind("isEnabled").to(this,"imageURLInputValue",this,"isEnabled",(...Be)=>Be.every(et=>et)),Ue.delegate("execute").to(this,"submit"),Ue}_createCancelButton(){const K=this.locale,Ae=K.t,Ue=new p.ButtonView(K);return Ue.set({label:Ae("Cancel"),icon:g.icons.cancel,class:"ck-button-cancel",withText:!0}),Ue.bind("isEnabled").to(this),Ue.delegate("execute").to(this,"cancel"),Ue}focus(K){K===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}}class ji extends g.Plugin{static get pluginName(){return"ImageInsertViaUrlUI"}static get requires(){return[Q]}init(){this._imageInsertUI=this.editor.plugins.get("ImageInsertUI");const K=this.editor.commands.get("insertImage");this._imageInsertUI.registerIntegration({name:"url",observable:K,requiresForm:!0,buttonViewCreator:Ae=>this._createInsertUrlButton(Ae),formViewCreator:Ae=>this._createInsertUrlView(Ae)})}_createInsertUrlView(K){const Ae=this.editor,Ue=Ae.locale,Be=Ue.t,et=Ae.commands.get("replaceImageSource"),Xe=Ae.commands.get("insertImage"),Et=new yi(Ue),kt=K?null:new p.CollapsibleView(Ue,[Et]);return Et.bind("isImageSelected").to(this._imageInsertUI),Et.bind("isEnabled").toMany([Xe,et],"isEnabled",(...At)=>At.some(Dt=>Dt)),Et.imageURLInputValue=et.value||"",this._imageInsertUI.dropdownView.on("change:isOpen",()=>{this._imageInsertUI.dropdownView.isOpen&&(Et.imageURLInputValue=et.value||"",kt&&(kt.isCollapsed=!0))},{priority:"low"}),Et.on("submit",()=>{et.isEnabled?Ae.execute("replaceImageSource",{source:Et.imageURLInputValue}):Ae.execute("insertImage",{source:Et.imageURLInputValue}),this._closePanel()}),Et.on("cancel",()=>this._closePanel()),kt?(kt.set({isCollapsed:!0}),kt.bind("label").to(this._imageInsertUI,"isImageSelected",At=>Be(At?"Update image URL":"Insert image via URL")),kt):Et}_createInsertUrlButton(K){const Ae=K?p.DropdownButtonView:p.ButtonView,Ue=this.editor,Be=new Ae(Ue.locale),et=Ue.locale.t;return Be.set({icon:g.icons.imageUrl,tooltip:!0}),Be.bind("label").to(this._imageInsertUI,"isImageSelected",Xe=>et(Xe?"Update image URL":"Insert image via URL")),Be}_closePanel(){this.editor.editing.view.focus(),this._imageInsertUI.dropdownView.isOpen=!1}}class Ki extends g.Plugin{static get pluginName(){return"ImageInsertViaUrl"}static get requires(){return[ji,Q]}}class Mi extends g.Plugin{static get pluginName(){return"ImageInsert"}static get requires(){return[Li,Ki,Q]}}class tn extends g.Command{refresh(){const K=this.editor,Ae=K.plugins.get("ImageUtils").getClosestSelectedImageElement(K.model.document.selection);this.isEnabled=!!Ae,Ae&&Ae.hasAttribute("resizedWidth")?this.value={width:Ae.getAttribute("resizedWidth"),height:null}:this.value=null}execute(K){const Ae=this.editor,Ue=Ae.model,Be=Ae.plugins.get("ImageUtils"),et=Be.getClosestSelectedImageElement(Ue.document.selection);this.value={width:K.width,height:null},et&&Ue.change(Xe=>{Xe.setAttribute("resizedWidth",K.width,et),Xe.removeAttribute("resizedHeight",et),Be.setImageNaturalSizeAttributes(et)})}}class Zt extends g.Plugin{static get requires(){return[Y]}static get pluginName(){return"ImageResizeEditing"}constructor(K){super(K),K.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const K=this.editor,Ae=new tn(K);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),K.commands.add("resizeImage",Ae),K.commands.add("imageResize",Ae)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["resizedWidth","resizedHeight"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["resizedWidth","resizedHeight"]})}_registerConverters(K){const Ae=this.editor,Ue=Ae.plugins.get("ImageUtils");Ae.conversion.for("downcast").add(Be=>Be.on(`attribute:resizedWidth:${K}`,(et,Xe,Et)=>{if(!Et.consumable.consume(Xe.item,et.name))return;const kt=Et.writer,At=Et.mapper.toViewElement(Xe.item);Xe.attributeNewValue!==null?(kt.setStyle("width",Xe.attributeNewValue,At),kt.addClass("image_resized",At)):(kt.removeStyle("width",At),kt.removeClass("image_resized",At))})),Ae.conversion.for("dataDowncast").attributeToAttribute({model:{name:K,key:"resizedHeight"},view:Be=>({key:"style",value:{height:Be}})}),Ae.conversion.for("editingDowncast").add(Be=>Be.on(`attribute:resizedHeight:${K}`,(et,Xe,Et)=>{if(!Et.consumable.consume(Xe.item,et.name))return;const kt=Et.writer,At=Et.mapper.toViewElement(Xe.item),Dt=K==="imageInline"?Ue.findViewImgElement(At):At;Xe.attributeNewValue!==null?kt.setStyle("height",Xe.attributeNewValue,Dt):kt.removeStyle("height",Dt)})),Ae.conversion.for("upcast").attributeToAttribute({view:{name:K==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"resizedWidth",value:Be=>V(Be)?null:Be.getStyle("width")}}),Ae.conversion.for("upcast").attributeToAttribute({view:{name:K==="imageBlock"?"figure":"img",styles:{height:/.+/}},model:{key:"resizedHeight",value:Be=>V(Be)?null:Be.getStyle("height")}})}}const wn={small:g.icons.objectSizeSmall,medium:g.icons.objectSizeMedium,large:g.icons.objectSizeLarge,original:g.icons.objectSizeFull};class Ne extends g.Plugin{static get requires(){return[Zt]}static get pluginName(){return"ImageResizeButtons"}constructor(K){super(K),this._resizeUnit=K.config.get("image.resizeUnit")}init(){const K=this.editor,Ae=K.config.get("image.resizeOptions"),Ue=K.commands.get("resizeImage");this.bind("isEnabled").to(Ue);for(const Be of Ae)this._registerImageResizeButton(Be);this._registerImageResizeDropdown(Ae)}_registerImageResizeButton(K){const Ae=this.editor,{name:Ue,value:Be,icon:et}=K,Xe=Be?Be+this._resizeUnit:null;Ae.ui.componentFactory.add(Ue,Et=>{const kt=new p.ButtonView(Et),At=Ae.commands.get("resizeImage"),Dt=this._getOptionLabelValue(K,!0);if(!wn[et])throw new l.CKEditorError("imageresizebuttons-missing-icon",Ae,K);return kt.set({label:Dt,icon:wn[et],tooltip:Dt,isToggleable:!0}),kt.bind("isEnabled").to(this),kt.bind("isOn").to(At,"value",H(Xe)),this.listenTo(kt,"execute",()=>{Ae.execute("resizeImage",{width:Xe})}),kt})}_registerImageResizeDropdown(K){const Ae=this.editor,Ue=Ae.t,Be=K.find(Xe=>!Xe.value),et=Xe=>{const Et=Ae.commands.get("resizeImage"),kt=(0,p.createDropdown)(Xe,p.DropdownButtonView),At=kt.buttonView,Dt=Ue("Resize image");return At.set({tooltip:Dt,commandValue:Be.value,icon:wn.medium,isToggleable:!0,label:this._getOptionLabelValue(Be),withText:!0,class:"ck-resize-image-button",ariaLabel:Dt,ariaLabelledBy:void 0}),At.bind("label").to(Et,"value",Wt=>Wt&&Wt.width?Wt.width:this._getOptionLabelValue(Be)),kt.bind("isEnabled").to(this),(0,p.addListToDropdown)(kt,()=>this._getResizeDropdownListItemDefinitions(K,Et),{ariaLabel:Ue("Image resize list"),role:"menu"}),this.listenTo(kt,"execute",Wt=>{Ae.execute(Wt.source.commandName,{width:Wt.source.commandValue}),Ae.editing.view.focus()}),kt};Ae.ui.componentFactory.add("resizeImage",et),Ae.ui.componentFactory.add("imageResize",et)}_getOptionLabelValue(K,Ae=!1){const Ue=this.editor.t;return K.label?K.label:Ae?K.value?Ue("Resize image to %0",K.value+this._resizeUnit):Ue("Resize image to the original size"):K.value?K.value+this._resizeUnit:Ue("Original")}_getResizeDropdownListItemDefinitions(K,Ae){const Ue=new l.Collection;return K.map(Be=>{const et=Be.value?Be.value+this._resizeUnit:null,Xe={type:"button",model:new p.Model({commandName:"resizeImage",commandValue:et,label:this._getOptionLabelValue(Be),role:"menuitemradio",withText:!0,icon:null})};Xe.model.bind("isOn").to(Ae,"value",H(et)),Ue.add(Xe)}),Ue}}function H(Ht){return K=>Ht===null&&K===Ht||K!==null&&K.width===Ht}const X="image_resized";class se extends g.Plugin{static get requires(){return[c.WidgetResize,Y]}static get pluginName(){return"ImageResizeHandles"}init(){const K=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(K),this._setupResizerCreator()}_setupResizerCreator(){const K=this.editor,Ae=K.editing.view,Ue=K.plugins.get("ImageUtils");Ae.addObserver(Se),this.listenTo(Ae.document,"imageLoaded",(Be,et)=>{if(!et.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const Xe=K.editing.view.domConverter,Et=Xe.domToView(et.target),kt=Ue.getImageWidgetFromImageView(Et);let At=this.editor.plugins.get(c.WidgetResize).getResizerByViewElement(kt);if(At)return void At.redraw();const Dt=K.editing.mapper,Wt=Dt.toModelElement(kt);At=K.plugins.get(c.WidgetResize).attachTo({unit:K.config.get("image.resizeUnit"),modelElement:Wt,viewElement:kt,editor:K,getHandleHost:mi=>mi.querySelector("img"),getResizeHost:()=>Xe.mapViewToDom(Dt.toViewElement(Wt.parent)),isCentered(){const mi=Wt.getAttribute("imageStyle");return!mi||mi=="block"||mi=="alignCenter"},onCommit(mi){Ae.change(ai=>{ai.removeClass(X,kt)}),K.execute("resizeImage",{width:mi})}}),At.on("updateSize",()=>{kt.hasClass(X)||Ae.change(ai=>{ai.addClass(X,kt)});const mi=Wt.name==="imageInline"?Et:kt;mi.getStyle("height")&&Ae.change(ai=>{ai.removeStyle("height",mi)})}),At.bind("isEnabled").to(this)})}}var be=te(968),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(be.Z,ht),be.Z.locals;class Rt extends g.Plugin{static get requires(){return[Zt,se,Ne]}static get pluginName(){return"ImageResize"}}class Yt extends g.Command{constructor(K,Ae){super(K),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(Ae.map(Ue=>{if(Ue.isDefault)for(const Be of Ue.modelElements)this._defaultStyles[Be]=Ue.name;return[Ue.name,Ue]}))}refresh(){const K=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!K,this.isEnabled?K.hasAttribute("imageStyle")?this.value=K.getAttribute("imageStyle"):this.value=this._defaultStyles[K.name]:this.value=!1}execute(K={}){const Ae=this.editor,Ue=Ae.model,Be=Ae.plugins.get("ImageUtils");Ue.change(et=>{const Xe=K.value,{setImageSizes:Et=!0}=K;let kt=Be.getClosestSelectedImageElement(Ue.document.selection);Xe&&this.shouldConvertImageType(Xe,kt)&&(this.editor.execute(Be.isBlockImage(kt)?"imageTypeInline":"imageTypeBlock",{setImageSizes:Et}),kt=Be.getClosestSelectedImageElement(Ue.document.selection)),!Xe||this._styles.get(Xe).isDefault?et.removeAttribute("imageStyle",kt):et.setAttribute("imageStyle",Xe,kt),Et&&Be.setImageNaturalSizeAttributes(kt)})}shouldConvertImageType(K,Ae){return!this._styles.get(K).modelElements.includes(Ae.name)}}const{objectFullWidth:_t,objectInline:Ce,objectLeft:ze,objectRight:nt,objectCenter:Ke,objectBlockLeft:yt,objectBlockRight:si}=g.icons,ni={get inline(){return{name:"inline",title:"In line",icon:Ce,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:ze,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:yt,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ke,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:nt,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:si,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ke,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:nt,modelElements:["imageBlock"],className:"image-style-side"}}},ki={full:_t,left:yt,right:si,center:Ke,inlineLeft:ze,inlineRight:nt,inline:Ce},di=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Ti(Ht){(0,l.logWarning)("image-style-configuration-definition-invalid",Ht)}const Ni={normalizeStyles:function(Ht){return(Ht.configuredStyles.options||[]).map(K=>function(Ae){return Ae=typeof Ae=="string"?ni[Ae]?{...ni[Ae]}:{name:Ae}:function(Ue,Be){const et={...Be};for(const Xe in Ue)Object.prototype.hasOwnProperty.call(Be,Xe)||(et[Xe]=Ue[Xe]);return et}(ni[Ae.name],Ae),typeof Ae.icon=="string"&&(Ae.icon=ki[Ae.icon]||Ae.icon),Ae}(K)).filter(K=>function(Ae,{isBlockPluginLoaded:Ue,isInlinePluginLoaded:Be}){const{modelElements:et,name:Xe}=Ae;if(!(et&&et.length&&Xe))return Ti({style:Ae}),!1;{const Et=[Ue?"imageBlock":null,Be?"imageInline":null];if(!et.some(kt=>Et.includes(kt)))return(0,l.logWarning)("image-style-missing-dependency",{style:Ae,missingPlugins:et.map(kt=>kt==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(K,Ht))},getDefaultStylesConfiguration:function(Ht,K){return Ht&&K?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:Ht?{options:["block","side"]}:K?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(Ht){return Ht.has("ImageBlockEditing")&&Ht.has("ImageInlineEditing")?[...di]:[]},warnInvalidStyle:Ti,DEFAULT_OPTIONS:ni,DEFAULT_ICONS:ki,DEFAULT_DROPDOWN_DEFINITIONS:di};function Gi(Ht,K){for(const Ae of K)if(Ae.name===Ht)return Ae}class rn extends g.Plugin{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Y]}init(){const{normalizeStyles:K,getDefaultStylesConfiguration:Ae}=Ni,Ue=this.editor,Be=Ue.plugins.has("ImageBlockEditing"),et=Ue.plugins.has("ImageInlineEditing");Ue.config.define("image.styles",Ae(Be,et)),this.normalizedStyles=K({configuredStyles:Ue.config.get("image.styles"),isBlockPluginLoaded:Be,isInlinePluginLoaded:et}),this._setupConversion(Be,et),this._setupPostFixer(),Ue.commands.add("imageStyle",new Yt(Ue,this.normalizedStyles))}_setupConversion(K,Ae){const Ue=this.editor,Be=Ue.model.schema,et=(Xe=this.normalizedStyles,(kt,At,Dt)=>{if(!Dt.consumable.consume(At.item,kt.name))return;const Wt=Gi(At.attributeNewValue,Xe),mi=Gi(At.attributeOldValue,Xe),ai=Dt.mapper.toViewElement(At.item),gi=Dt.writer;mi&&gi.removeClass(mi.className,ai),Wt&&gi.addClass(Wt.className,ai)});var Xe;const Et=function(kt){const At={imageInline:kt.filter(Dt=>!Dt.isDefault&&Dt.modelElements.includes("imageInline")),imageBlock:kt.filter(Dt=>!Dt.isDefault&&Dt.modelElements.includes("imageBlock"))};return(Dt,Wt,mi)=>{if(!Wt.modelRange)return;const ai=Wt.viewItem,gi=(0,l.first)(Wt.modelRange.getItems());if(gi&&mi.schema.checkAttribute(gi,"imageStyle"))for(const Ri of At[gi.name])mi.consumable.consume(ai,{classes:Ri.className})&&mi.writer.setAttribute("imageStyle",Ri.name,gi)}}(this.normalizedStyles);Ue.editing.downcastDispatcher.on("attribute:imageStyle",et),Ue.data.downcastDispatcher.on("attribute:imageStyle",et),K&&(Be.extend("imageBlock",{allowAttributes:"imageStyle"}),Ue.data.upcastDispatcher.on("element:figure",Et,{priority:"low"})),Ae&&(Be.extend("imageInline",{allowAttributes:"imageStyle"}),Ue.data.upcastDispatcher.on("element:img",Et,{priority:"low"}))}_setupPostFixer(){const K=this.editor,Ae=K.model.document,Ue=K.plugins.get(Y),Be=new Map(this.normalizedStyles.map(et=>[et.name,et]));Ae.registerPostFixer(et=>{let Xe=!1;for(const Et of Ae.differ.getChanges())if(Et.type=="insert"||Et.type=="attribute"&&Et.attributeKey=="imageStyle"){let kt=Et.type=="insert"?Et.position.nodeAfter:Et.range.start.nodeAfter;if(kt&&kt.is("element","paragraph")&&kt.childCount>0&&(kt=kt.getChild(0)),!Ue.isImage(kt))continue;const At=kt.getAttribute("imageStyle");if(!At)continue;const Dt=Be.get(At);Dt&&Dt.modelElements.includes(kt.name)||(et.removeAttribute("imageStyle",kt),Xe=!0)}return Xe})}}const $i=function(Ht){var K=typeof Ht;return Ht!=null&&(K=="object"||K=="function")},hn=function(Ht){return Ht};var kn=te(151),qn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};A()(kn.Z,qn),kn.Z.locals;class on extends g.Plugin{static get requires(){return[rn]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const K=this.editor.t;return{"Wrap text":K("Wrap text"),"Break text":K("Break text"),"In line":K("In line"),"Full size image":K("Full size image"),"Side image":K("Side image"),"Left aligned image":K("Left aligned image"),"Centered image":K("Centered image"),"Right aligned image":K("Right aligned image")}}init(){const K=this.editor.plugins,Ae=this.editor.config.get("image.toolbar")||[],Ue=En(K.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const et of Ue)this._createButton(et);const Be=En([...Ae.filter($i),...Ni.getDefaultDropdownDefinitions(K)],this.localizedDefaultStylesTitles);for(const et of Be)this._createDropdown(et,Ue)}_createDropdown(K,Ae){const Ue=this.editor.ui.componentFactory;Ue.add(K.name,Be=>{let et;const{defaultItem:Xe,items:Et,title:kt}=K,At=Et.filter(ai=>Ae.find(({name:gi})=>In(gi)===ai)).map(ai=>{const gi=Ue.create(ai);return ai===Xe&&(et=gi),gi});Et.length!==At.length&&Ni.warnInvalidStyle({dropdown:K});const Dt=(0,p.createDropdown)(Be,p.SplitButtonView),Wt=Dt.buttonView,mi=Wt.arrowView;return(0,p.addToolbarToDropdown)(Dt,At,{enableActiveItemFocusOnDropdownOpen:!0}),Wt.set({label:Yn(kt,et.label),class:null,tooltip:!0}),mi.unbind("label"),mi.set({label:kt}),Wt.bind("icon").toMany(At,"isOn",(...ai)=>{const gi=ai.findIndex(hn);return gi<0?et.icon:At[gi].icon}),Wt.bind("label").toMany(At,"isOn",(...ai)=>{const gi=ai.findIndex(hn);return Yn(kt,gi<0?et.label:At[gi].label)}),Wt.bind("isOn").toMany(At,"isOn",(...ai)=>ai.some(hn)),Wt.bind("class").toMany(At,"isOn",(...ai)=>ai.some(hn)?"ck-splitbutton_flatten":void 0),Wt.on("execute",()=>{At.some(({isOn:ai})=>ai)?Dt.isOpen=!Dt.isOpen:et.fire("execute")}),Dt.bind("isEnabled").toMany(At,"isEnabled",(...ai)=>ai.some(hn)),this.listenTo(Dt,"execute",()=>{this.editor.editing.view.focus()}),Dt})}_createButton(K){const Ae=K.name;this.editor.ui.componentFactory.add(In(Ae),Ue=>{const Be=this.editor.commands.get("imageStyle"),et=new p.ButtonView(Ue);return et.set({label:K.title,icon:K.icon,tooltip:!0,isToggleable:!0}),et.bind("isEnabled").to(Be,"isEnabled"),et.bind("isOn").to(Be,"value",Xe=>Xe===Ae),et.on("execute",this._executeCommand.bind(this,Ae)),et})}_executeCommand(K){this.editor.execute("imageStyle",{value:K}),this.editor.editing.view.focus()}}function En(Ht,K){for(const Ae of Ht)K[Ae.title]&&(Ae.title=K[Ae.title]);return Ht}function In(Ht){return`imageStyle:${Ht}`}function Yn(Ht,K){return(Ht?Ht+": ":"")+K}class ur extends g.Plugin{static get requires(){return[rn,on]}static get pluginName(){return"ImageStyle"}}class rr extends g.Plugin{static get requires(){return[c.WidgetToolbarRepository,Y]}static get pluginName(){return"ImageToolbar"}afterInit(){const K=this.editor,Ae=K.t,Ue=K.plugins.get(c.WidgetToolbarRepository),Be=K.plugins.get("ImageUtils");var et;Ue.register("image",{ariaLabel:Ae("Image toolbar"),items:(et=K.config.get("image.toolbar")||[],et.map(Xe=>$i(Xe)?Xe.name:Xe)),getRelatedElement:Xe=>Be.getClosestSelectedImageWidget(Xe)})}}class or extends g.Plugin{static get requires(){return[De,Y]}static get pluginName(){return"PictureEditing"}afterInit(){const K=this.editor;K.plugins.has("ImageBlockEditing")&&K.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),K.plugins.has("ImageInlineEditing")&&K.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const K=this.editor,Ae=K.conversion,Ue=K.plugins.get("ImageUtils");Ae.for("upcast").add(function(Be){const et=["srcset","media","type","sizes"],Xe=(Et,kt,At)=>{const Dt=kt.viewItem;if(!At.consumable.test(Dt,{name:!0}))return;const Wt=new Map;for(const gi of Dt.getChildren())if(gi.is("element","source")){const Ri={};for(const Qi of et)gi.hasAttribute(Qi)&&At.consumable.test(gi,{attributes:Qi})&&(Ri[Qi]=gi.getAttribute(Qi));Object.keys(Ri).length&&Wt.set(gi,Ri)}const mi=Be.findViewImgElement(Dt);if(!mi)return;let ai=kt.modelCursor.parent;if(!ai.is("element","imageBlock")){const gi=At.convertItem(mi,kt.modelCursor);kt.modelRange=gi.modelRange,kt.modelCursor=gi.modelCursor,ai=(0,l.first)(gi.modelRange.getItems())}At.consumable.consume(Dt,{name:!0});for(const[gi,Ri]of Wt)At.consumable.consume(gi,{attributes:Object.keys(Ri)});Wt.size&&At.writer.setAttribute("sources",Array.from(Wt.values()),ai),At.convertChildren(Dt,ai)};return Et=>{Et.on("element:picture",Xe)}}(Ue)),Ae.for("downcast").add(function(Be){const et=(Xe,Et,kt)=>{if(!kt.consumable.consume(Et.item,Xe.name))return;const At=kt.writer,Dt=kt.mapper.toViewElement(Et.item),Wt=Be.findViewImgElement(Dt),mi=Et.attributeNewValue;if(mi&&mi.length){const ai=At.createContainerElement("picture",null,mi.map(Qi=>At.createEmptyElement("source",Qi))),gi=[];let Ri=Wt.parent;for(;Ri&&Ri.is("attributeElement");){const Qi=Ri.parent;At.unwrap(At.createRangeOn(Wt),Ri),gi.unshift(Ri),Ri=Qi}At.insert(At.createPositionBefore(Wt),ai),At.move(At.createRangeOn(Wt),At.createPositionAt(ai,"end"));for(const Qi of gi)At.wrap(At.createRangeOn(ai),Qi)}else if(Wt.parent.is("element","picture")){const ai=Wt.parent;At.move(At.createRangeOn(Wt),At.createPositionBefore(ai)),At.remove(ai)}};return Xe=>{Xe.on("attribute:sources:imageBlock",et),Xe.on("attribute:sources:imageInline",et)}}(Ue))}_setupImageUploadEditingIntegration(){const K=this.editor;if(!K.plugins.has("ImageUploadEditing"))return;const Ae=K.plugins.get("ImageUploadEditing");this.listenTo(Ae,"uploadComplete",(Ue,{imageElement:Be,data:et})=>{const Xe=et.sources;Xe&&K.model.change(Et=>{Et.setAttributes({sources:Xe},Be)})})}}})(),(window.CKEditor5=window.CKEditor5||{}).image=zt})()},54769:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Decrease indent":"Decrease indent","Increase indent":"Increase indent"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={exports:{}};return Qt[g](E,E.exports,te),E.exports}te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Indent:()=>c,IndentBlock:()=>Y,IndentEditing:()=>R,IndentUI:()=>l});var g=te(704);class R extends g.Plugin{static get pluginName(){return"IndentEditing"}init(){const re=this.editor;re.commands.add("indent",new g.MultiCommand(re)),re.commands.add("outdent",new g.MultiCommand(re))}}var E=te(273);const w='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',C='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class l extends g.Plugin{static get pluginName(){return"IndentUI"}init(){const re=this.editor,ie=re.locale,u=re.t,_=ie.uiLanguageDirection=="ltr"?w:C,p=ie.uiLanguageDirection=="ltr"?C:w;this._defineButton("indent",u("Increase indent"),_),this._defineButton("outdent",u("Decrease indent"),p)}_defineButton(re,ie,u){const _=this.editor;_.ui.componentFactory.add(re,p=>{const v=_.commands.get(re),A=new E.ButtonView(p);return A.set({label:ie,icon:u,tooltip:!0}),A.bind("isEnabled").to(v,"isEnabled"),this.listenTo(A,"execute",()=>{_.execute(re),_.editing.view.focus()}),A})}}class c extends g.Plugin{static get pluginName(){return"Indent"}static get requires(){return[R,l]}}var L=te(492),B=te(209);class y extends g.Command{constructor(re,ie){super(re),this._indentBehavior=ie}refresh(){const re=this.editor.model,ie=(0,B.first)(re.document.selection.getSelectedBlocks());ie&&this._isIndentationChangeAllowed(ie)?this.isEnabled=this._indentBehavior.checkEnabled(ie.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const re=this.editor.model,ie=this._getBlocksToChange();re.change(u=>{for(const _ of ie){const p=_.getAttribute("blockIndent"),v=this._indentBehavior.getNextIndent(p);v?u.setAttribute("blockIndent",v,_):u.removeAttribute("blockIndent",_)}})}_getBlocksToChange(){const re=this.editor.model.document.selection;return Array.from(re.getSelectedBlocks()).filter(ie=>this._isIndentationChangeAllowed(ie))}_isIndentationChangeAllowed(re){const ie=this.editor;return ie.model.schema.checkAttribute(re,"blockIndent")?!ie.plugins.has("DocumentListUtils")||!this._indentBehavior.isForward?!0:!ie.plugins.get("DocumentListUtils").isListItemBlock(re):!1}}class h{constructor(re){this.isForward=re.direction==="forward",this.offset=re.offset,this.unit=re.unit}checkEnabled(re){const ie=parseFloat(re||"0");return this.isForward||ie>0}getNextIndent(re){const ie=parseFloat(re||"0");if(!(!re||re.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const u=ie+(this.isForward?this.offset:-this.offset);return u>0?u+this.unit:void 0}}class V{constructor(re){this.isForward=re.direction==="forward",this.classes=re.classes}checkEnabled(re){const ie=this.classes.indexOf(re);return this.isForward?ie<this.classes.length-1:ie>=0}getNextIndent(re){const ie=this.classes.indexOf(re),u=this.isForward?1:-1;return this.classes[ie+u]}}const q=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class Y extends g.Plugin{constructor(re){super(re),re.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const re=this.editor,ie=re.config.get("indentBlock");ie.classes&&ie.classes.length?(this._setupConversionUsingClasses(ie.classes),re.commands.add("indentBlock",new y(re,new V({direction:"forward",classes:ie.classes}))),re.commands.add("outdentBlock",new y(re,new V({direction:"backward",classes:ie.classes})))):(re.data.addStyleProcessorRules(L.addMarginRules),this._setupConversionUsingOffset(),re.commands.add("indentBlock",new y(re,new h({direction:"forward",offset:ie.offset,unit:ie.unit}))),re.commands.add("outdentBlock",new y(re,new h({direction:"backward",offset:ie.offset,unit:ie.unit}))))}afterInit(){const re=this.editor,ie=re.model.schema,u=re.commands.get("indent"),_=re.commands.get("outdent"),p=re.config.get("heading.options");(p&&p.map(v=>v.model)||q).forEach(v=>{ie.isRegistered(v)&&ie.extend(v,{allowAttributes:"blockIndent"})}),ie.setAttributeProperties("blockIndent",{isFormatting:!0}),u.registerChildCommand(re.commands.get("indentBlock")),_.registerChildCommand(re.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const re=this.editor.conversion,ie=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";re.for("upcast").attributeToAttribute({view:{styles:{[ie]:/[\s\S]+/}},model:{key:"blockIndent",value:u=>{if(!u.is("element","li"))return u.getStyle(ie)}}}),re.for("downcast").attributeToAttribute({model:"blockIndent",view:u=>({key:"style",value:{[ie]:u}})})}_setupConversionUsingClasses(re){const ie={model:{key:"blockIndent",values:[]},view:{}};for(const u of re)ie.model.values.push(u),ie.view[u]={key:"class",value:[u]};this.editor.conversion.attributeToAttribute(ie)}}})(),(window.CKEditor5=window.CKEditor5||{}).indent=zt})()},30047:(Qt,It,te)=>{(function(zt){const g=zt.en=zt.en||{};g.dictionary=Object.assign(g.dictionary||{},{Downloadable:"Downloadable","Edit link":"Edit link",Link:"Link","Link image":"Link image","Link URL":"Link URL","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","This link has no URL":"This link has no URL",Unlink:"Unlink"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var zt={487:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const B=L},713:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}",""]);const B=L},321:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}",""]);const B=L},626:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}",""]);const B=L},883:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',""]);const B=L},609:w=>{"use strict";w.exports=function(C){var l=[];return l.toString=function(){return this.map(function(c){var L=C(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,B){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(B)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var q=0;q<c.length;q++){var Y=[].concat(c[q]);B&&y[Y[0]]||(L&&(Y[2]?Y[2]="".concat(L," and ").concat(Y[2]):Y[2]=L),l.push(Y))}},l}},62:(w,C,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),y=[];function h(v){for(var A=-1,T=0;T<y.length;T++)if(y[T].identifier===v){A=T;break}return A}function V(v,A){for(var T={},S=[],ae=0;ae<v.length;ae++){var $=v[ae],z=A.base?$[0]+A.base:$[0],f=T[z]||0,j="".concat(z," ").concat(f);T[z]=f+1;var Z=h(j),D={css:$[1],media:$[2],sourceMap:$[3]};Z!==-1?(y[Z].references++,y[Z].updater(D)):y.push({identifier:j,updater:p(D,A),references:1}),S.push(j)}return S}function q(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var S=l.nc;S&&(T.nonce=S)}if(Object.keys(T).forEach(function($){A.setAttribute($,T[$])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,ee=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function re(v,A,T,S){var ae=T?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(v.styleSheet)v.styleSheet.cssText=ee(A,ae);else{var $=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore($,z[A]):v.appendChild($)}}function ie(v,A,T){var S=T.css,ae=T.media,$=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),$&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify($))))," */")),v.styleSheet)v.styleSheet.cssText=S;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(S))}}var u=null,_=0;function p(v,A){var T,S,ae;if(A.singleton){var $=_++;T=u||(u=q(A)),S=re.bind(null,T,$,!1),ae=re.bind(null,T,$,!0)}else T=q(A),S=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return S(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;S(v=z)}else ae()}}w.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=L());var T=V(v=v||[],A);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var $=h(T[ae]);y[$].references--}for(var z=V(S,A),f=0;f<T.length;f++){var j=h(T[f]);y[j].references===0&&(y[j].updater(),y.splice(j,1))}T=z}}}},945:(w,C,l)=>{w.exports=l(79)("./src/clipboard.js")},704:(w,C,l)=>{w.exports=l(79)("./src/core.js")},492:(w,C,l)=>{w.exports=l(79)("./src/engine.js")},181:(w,C,l)=>{w.exports=l(79)("./src/typing.js")},273:(w,C,l)=>{w.exports=l(79)("./src/ui.js")},209:(w,C,l)=>{w.exports=l(79)("./src/utils.js")},995:(w,C,l)=>{w.exports=l(79)("./src/widget.js")},79:w=>{"use strict";w.exports=CKEditor5.dll}},g={};function R(w){var C=g[w];if(C!==void 0)return C.exports;var l=g[w]={id:w,exports:{}};return zt[w](l,l.exports,R),l.exports}R.n=w=>{var C=w&&w.__esModule?()=>w.default:()=>w;return R.d(C,{a:C}),C},R.d=(w,C)=>{for(var l in C)R.o(C,l)&&!R.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:C[l]})},R.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),R.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},R.nc=void 0;var E={};(()=>{"use strict";R.r(E),R.d(E,{AutoLink:()=>Zt,Link:()=>Ne,LinkCommand:()=>hi,LinkEditing:()=>Le,LinkImage:()=>Yt,LinkImageEditing:()=>H,LinkImageUI:()=>be,LinkUI:()=>Ki,UnlinkCommand:()=>Oi});var w=R(704),C=R(181),l=R(945),c=R(209);class L{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(Ce){Array.isArray(Ce)?Ce.forEach(ze=>this._definitions.add(ze)):this._definitions.add(Ce)}getDispatcher(){return Ce=>{Ce.on("attribute:linkHref",(ze,nt,Ke)=>{if(!Ke.consumable.test(nt.item,"attribute:linkHref")||!nt.item.is("selection")&&!Ke.schema.isInline(nt.item))return;const yt=Ke.writer,si=yt.document.selection;for(const ni of this._definitions){const ki=yt.createAttributeElement("a",ni.attributes,{priority:5});ni.classes&&yt.addClass(ni.classes,ki);for(const di in ni.styles)yt.setStyle(di,ni.styles[di],ki);yt.setCustomProperty("link",!0,ki),ni.callback(nt.attributeNewValue)?nt.item.is("selection")?yt.wrap(si.getFirstRange(),ki):yt.wrap(Ke.mapper.toViewRange(nt.range),ki):yt.unwrap(Ke.mapper.toViewRange(nt.range),ki)}},{priority:"high"})}}getDispatcherForLinkedImage(){return Ce=>{Ce.on("attribute:linkHref:imageBlock",(ze,nt,{writer:Ke,mapper:yt})=>{const si=yt.toViewElement(nt.item),ni=Array.from(si.getChildren()).find(ki=>ki.is("element","a"));for(const ki of this._definitions){const di=(0,c.toMap)(ki.attributes);if(ki.callback(nt.attributeNewValue)){for(const[Ti,Ni]of di)Ti==="class"?Ke.addClass(Ni,ni):Ke.setAttribute(Ti,Ni,ni);ki.classes&&Ke.addClass(ki.classes,ni);for(const Ti in ki.styles)Ke.setStyle(Ti,ki.styles[Ti],ni)}else{for(const[Ti,Ni]of di)Ti==="class"?Ke.removeClass(Ni,ni):Ke.removeAttribute(Ti,ni);ki.classes&&Ke.removeClass(ki.classes,ni);for(const Ti in ki.styles)Ke.removeStyle(Ti,ni)}}})}}}const B=function(_t,Ce,ze){var nt=-1,Ke=_t.length;Ce<0&&(Ce=-Ce>Ke?0:Ke+Ce),(ze=ze>Ke?Ke:ze)<0&&(ze+=Ke),Ke=Ce>ze?0:ze-Ce>>>0,Ce>>>=0;for(var yt=Array(Ke);++nt<Ke;)yt[nt]=_t[nt+Ce];return yt},y=function(_t,Ce,ze){var nt=_t.length;return ze=ze===void 0?nt:ze,!Ce&&ze>=nt?_t:B(_t,Ce,ze)};var h=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const V=function(_t){return h.test(_t)},q=function(_t){return _t.split("")};var Y="\\ud800-\\udfff",ee="["+Y+"]",re="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ie="\\ud83c[\\udffb-\\udfff]",u="[^"+Y+"]",_="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="(?:"+re+"|"+ie+")?",A="[\\ufe0e\\ufe0f]?",T=A+v+("(?:\\u200d(?:"+[u,_,p].join("|")+")"+A+v+")*"),S="(?:"+[u+re+"?",re,_,p,ee].join("|")+")",ae=RegExp(ie+"(?="+ie+")|"+S+T,"g");const $=function(_t){return _t.match(ae)||[]},z=function(_t){return V(_t)?$(_t):q(_t)},f=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g;var j=typeof self=="object"&&self&&self.Object===Object&&self;const Z=(f||j||Function("return this")()).Symbol,D=function(_t,Ce){for(var ze=-1,nt=_t==null?0:_t.length,Ke=Array(nt);++ze<nt;)Ke[ze]=Ce(_t[ze],ze,_t);return Ke},oe=Array.isArray;var Se=Object.prototype,je=Se.hasOwnProperty,Ie=Se.toString,De=Z?Z.toStringTag:void 0;const mt=function(_t){var Ce=je.call(_t,De),ze=_t[De];try{_t[De]=void 0;var nt=!0}catch{}var Ke=Ie.call(_t);return nt&&(Ce?_t[De]=ze:delete _t[De]),Ke};var lt=Object.prototype.toString;const ut=function(_t){return lt.call(_t)};var dt=Z?Z.toStringTag:void 0;const vt=function(_t){return _t==null?_t===void 0?"[object Undefined]":"[object Null]":dt&&dt in Object(_t)?mt(_t):ut(_t)},bt=function(_t){return _t!=null&&typeof _t=="object"},Qe=function(_t){return typeof _t=="symbol"||bt(_t)&&vt(_t)=="[object Symbol]"};var ft=Z?Z.prototype:void 0,Ve=ft?ft.toString:void 0;const Te=function _t(Ce){if(typeof Ce=="string")return Ce;if(oe(Ce))return D(Ce,_t)+"";if(Qe(Ce))return Ve?Ve.call(Ce):"";var ze=Ce+"";return ze=="0"&&1/Ce==-1/0?"-0":ze},Q=function(_t){return _t==null?"":Te(_t)},xe=function(_t){return function(Ce){Ce=Q(Ce);var ze=V(Ce)?z(Ce):void 0,nt=ze?ze[0]:Ce.charAt(0),Ke=ze?y(ze,1).join(""):Ce.slice(1);return nt[_t]()+Ke}}("toUpperCase"),Oe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Je=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,$e=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,tt=/^((\w+:(\/{2,})?)|(\W))/i,st="Ctrl+K";function Pt(_t,{writer:Ce}){const ze=Ce.createAttributeElement("a",{href:_t},{priority:5});return Ce.setCustomProperty("link",!0,ze),ze}function Ft(_t){const Ce=String(_t);return function(ze){return!!ze.replace(Oe,"").match(Je)}(Ce)?Ce:"#"}function Gt(_t,Ce){return!!_t&&Ce.checkAttribute(_t.name,"linkHref")}function ui(_t,Ce){const ze=(nt=_t,$e.test(nt)?"mailto:":Ce);var nt;const Ke=!!ze&&!Vt(_t);return _t&&Ke?ze+_t:_t}function Vt(_t){return tt.test(_t)}function ti(_t){window.open(_t,"_blank","noopener")}class hi extends w.Command{constructor(){super(...arguments),this.manualDecorators=new c.Collection,this.automaticDecorators=new L}restoreManualDecoratorStates(){for(const Ce of this.manualDecorators)Ce.value=this._getDecoratorStateFromModel(Ce.id)}refresh(){const Ce=this.editor.model,ze=Ce.document.selection,nt=ze.getSelectedElement()||(0,c.first)(ze.getSelectedBlocks());Gt(nt,Ce.schema)?(this.value=nt.getAttribute("linkHref"),this.isEnabled=Ce.schema.checkAttribute(nt,"linkHref")):(this.value=ze.getAttribute("linkHref"),this.isEnabled=Ce.schema.checkAttributeInSelection(ze,"linkHref"));for(const Ke of this.manualDecorators)Ke.value=this._getDecoratorStateFromModel(Ke.id)}execute(Ce,ze={}){const nt=this.editor.model,Ke=nt.document.selection,yt=[],si=[];for(const ni in ze)ze[ni]?yt.push(ni):si.push(ni);nt.change(ni=>{if(Ke.isCollapsed){const ki=Ke.getFirstPosition();if(Ke.hasAttribute("linkHref")){const di=Ci(Ke);let Ti=(0,C.findAttributeRange)(ki,"linkHref",Ke.getAttribute("linkHref"),nt);Ke.getAttribute("linkHref")===di&&(Ti=this._updateLinkContent(nt,ni,Ti,Ce)),ni.setAttribute("linkHref",Ce,Ti),yt.forEach(Ni=>{ni.setAttribute(Ni,!0,Ti)}),si.forEach(Ni=>{ni.removeAttribute(Ni,Ti)}),ni.setSelection(ni.createPositionAfter(Ti.end.nodeBefore))}else if(Ce!==""){const di=(0,c.toMap)(Ke.getAttributes());di.set("linkHref",Ce),yt.forEach(Ni=>{di.set(Ni,!0)});const{end:Ti}=nt.insertContent(ni.createText(Ce,di),ki);ni.setSelection(Ti)}["linkHref",...yt,...si].forEach(di=>{ni.removeSelectionAttribute(di)})}else{const ki=nt.schema.getValidRanges(Ke.getRanges(),"linkHref"),di=[];for(const Ni of Ke.getSelectedBlocks())nt.schema.checkAttribute(Ni,"linkHref")&&di.push(ni.createRangeOn(Ni));const Ti=di.slice();for(const Ni of ki)this._isRangeToUpdate(Ni,di)&&Ti.push(Ni);for(const Ni of Ti){let Gi=Ni;if(Ti.length===1){const rn=Ci(Ke);Ke.getAttribute("linkHref")===rn&&(Gi=this._updateLinkContent(nt,ni,Ni,Ce),ni.setSelection(ni.createSelection(Gi)))}ni.setAttribute("linkHref",Ce,Gi),yt.forEach(rn=>{ni.setAttribute(rn,!0,Gi)}),si.forEach(rn=>{ni.removeAttribute(rn,Gi)})}}})}_getDecoratorStateFromModel(Ce){const ze=this.editor.model,nt=ze.document.selection,Ke=nt.getSelectedElement();return Gt(Ke,ze.schema)?Ke.getAttribute(Ce):nt.getAttribute(Ce)}_isRangeToUpdate(Ce,ze){for(const nt of ze)if(nt.containsRange(Ce))return!1;return!0}_updateLinkContent(Ce,ze,nt,Ke){const yt=ze.createText(Ke,{linkHref:Ke});return Ce.insertContent(yt,nt)}}function Ci(_t){if(_t.isCollapsed){const Ce=_t.getFirstPosition();return Ce.textNode&&Ce.textNode.data}{const Ce=Array.from(_t.getFirstRange().getItems());if(Ce.length>1)return null;const ze=Ce[0];return ze.is("$text")||ze.is("$textProxy")?ze.data:null}}class Oi extends w.Command{refresh(){const Ce=this.editor.model,ze=Ce.document.selection,nt=ze.getSelectedElement();Gt(nt,Ce.schema)?this.isEnabled=Ce.schema.checkAttribute(nt,"linkHref"):this.isEnabled=Ce.schema.checkAttributeInSelection(ze,"linkHref")}execute(){const Ce=this.editor,ze=this.editor.model,nt=ze.document.selection,Ke=Ce.commands.get("link");ze.change(yt=>{const si=nt.isCollapsed?[(0,C.findAttributeRange)(nt.getFirstPosition(),"linkHref",nt.getAttribute("linkHref"),ze)]:ze.schema.getValidRanges(nt.getRanges(),"linkHref");for(const ni of si)if(yt.removeAttribute("linkHref",ni),Ke)for(const ki of Ke.manualDecorators)yt.removeAttribute(ki.id,ni)})}}class Di extends(0,c.ObservableMixin)(){constructor({id:Ce,label:ze,attributes:nt,classes:Ke,styles:yt,defaultValue:si}){super(),this.id=Ce,this.set("value",void 0),this.defaultValue=si,this.label=ze,this.attributes=nt,this.classes=Ke,this.styles=yt}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Vi=R(62),Pi=R.n(Vi),Zi=R(713),at={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(Zi.Z,at),Zi.Z.locals;const ue="automatic",ye=/^(https?:)?\/\//;class Le extends w.Plugin{static get pluginName(){return"LinkEditing"}static get requires(){return[C.TwoStepCaretMovement,C.Input,l.ClipboardPipeline]}constructor(Ce){super(Ce),Ce.config.define("link",{addTargetToExternalLinks:!1})}init(){const Ce=this.editor;Ce.model.schema.extend("$text",{allowAttributes:"linkHref"}),Ce.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Pt}),Ce.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(nt,Ke)=>Pt(Ft(nt),Ke)}),Ce.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:nt=>nt.getAttribute("href")}}),Ce.commands.add("link",new hi(Ce)),Ce.commands.add("unlink",new Oi(Ce));const ze=function(nt,Ke){const yt={"Open in a new tab":nt("Open in a new tab"),Downloadable:nt("Downloadable")};return Ke.forEach(si=>("label"in si&&yt[si.label]&&(si.label=yt[si.label]),si)),Ke}(Ce.t,function(nt){const Ke=[];if(nt)for(const[yt,si]of Object.entries(nt)){const ni=Object.assign({},si,{id:`link${xe(yt)}`});Ke.push(ni)}return Ke}(Ce.config.get("link.decorators")));this._enableAutomaticDecorators(ze.filter(nt=>nt.mode===ue)),this._enableManualDecorators(ze.filter(nt=>nt.mode==="manual")),Ce.plugins.get(C.TwoStepCaretMovement).registerAttribute("linkHref"),(0,C.inlineHighlight)(Ce,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(Ce){const ze=this.editor,nt=ze.commands.get("link").automaticDecorators;ze.config.get("link.addTargetToExternalLinks")&&nt.add({id:"linkIsExternal",mode:ue,callback:Ke=>!!Ke&&ye.test(Ke),attributes:{target:"_blank",rel:"noopener noreferrer"}}),nt.add(Ce),nt.length&&ze.conversion.for("downcast").add(nt.getDispatcher())}_enableManualDecorators(Ce){if(!Ce.length)return;const ze=this.editor,nt=ze.commands.get("link").manualDecorators;Ce.forEach(Ke=>{ze.model.schema.extend("$text",{allowAttributes:Ke.id});const yt=new Di(Ke);nt.add(yt),ze.conversion.for("downcast").attributeToElement({model:yt.id,view:(si,{writer:ni,schema:ki},{item:di})=>{if((di.is("selection")||ki.isInline(di))&&si){const Ti=ni.createAttributeElement("a",yt.attributes,{priority:5});yt.classes&&ni.addClass(yt.classes,Ti);for(const Ni in yt.styles)ni.setStyle(Ni,yt.styles[Ni],Ti);return ni.setCustomProperty("link",!0,Ti),Ti}}}),ze.conversion.for("upcast").elementToAttribute({view:{name:"a",...yt._createPattern()},model:{key:yt.id}})})}_enableLinkOpen(){const Ce=this.editor,ze=Ce.editing.view.document;this.listenTo(ze,"click",(nt,Ke)=>{if(!(c.env.isMac?Ke.domEvent.metaKey:Ke.domEvent.ctrlKey))return;let yt=Ke.domTarget;if(yt.tagName.toLowerCase()!="a"&&(yt=yt.closest("a")),!yt)return;const si=yt.getAttribute("href");si&&(nt.stop(),Ke.preventDefault(),ti(si))},{context:"$capture"}),this.listenTo(ze,"keydown",(nt,Ke)=>{const yt=Ce.commands.get("link").value;yt&&Ke.keyCode===c.keyCodes.enter&&Ke.altKey&&(nt.stop(),ti(yt))})}_enableSelectionAttributesFixer(){const Ce=this.editor.model,ze=Ce.document.selection;this.listenTo(ze,"change:attribute",(nt,{attributeKeys:Ke})=>{Ke.includes("linkHref")&&!ze.hasAttribute("linkHref")&&Ce.change(yt=>{var si;(function(ni,ki){ni.removeSelectionAttribute("linkHref");for(const di of ki)ni.removeSelectionAttribute(di)})(yt,(si=Ce.schema,si.getDefinition("$text").allowAttributes.filter(ni=>ni.startsWith("link"))))})})}_enableClipboardIntegration(){const Ce=this.editor,ze=Ce.model,nt=this.editor.config.get("link.defaultProtocol");nt&&this.listenTo(Ce.plugins.get("ClipboardPipeline"),"contentInsertion",(Ke,yt)=>{ze.change(si=>{const ni=si.createRangeIn(yt.content);for(const ki of ni.getItems())if(ki.hasAttribute("linkHref")){const di=ui(ki.getAttribute("linkHref"),nt);si.setAttribute("linkHref",di,ki)}})})}}var Ge=R(492),ot=R(273),gt=R(995),Lt=R(487),Ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(Lt.Z,Ot),Lt.Z.locals;var Ut=R(626),oi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(Ut.Z,oi),Ut.Z.locals;class ri extends ot.View{constructor(Ce,ze){super(Ce),this.focusTracker=new c.FocusTracker,this.keystrokes=new c.KeystrokeHandler,this._focusables=new ot.ViewCollection;const nt=Ce.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(nt("Save"),w.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(nt("Cancel"),w.icons.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(ze),this.children=this._createFormChildren(ze.manualDecorators),this._focusCycler=new ot.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const Ke=["ck","ck-link-form","ck-responsive-form"];ze.manualDecorators.length&&Ke.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:Ke,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((Ce,ze)=>(Ce[ze.name]=ze.isOn,Ce),{})}render(){super.render(),(0,ot.submitHandler)({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(Ce=>{this._focusables.add(Ce),this.focusTracker.add(Ce.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const Ce=this.locale.t,ze=new ot.LabeledFieldView(this.locale,ot.createLabeledInputText);return ze.label=Ce("Link URL"),ze}_createButton(Ce,ze,nt,Ke){const yt=new ot.ButtonView(this.locale);return yt.set({label:Ce,icon:ze,tooltip:!0}),yt.extendTemplate({attributes:{class:nt}}),Ke&&yt.delegate("execute").to(this,Ke),yt}_createManualDecoratorSwitches(Ce){const ze=this.createCollection();for(const nt of Ce.manualDecorators){const Ke=new ot.SwitchButtonView(this.locale);Ke.set({name:nt.id,label:nt.label,withText:!0}),Ke.bind("isOn").toMany([nt,Ce],"value",(yt,si)=>si===void 0&&yt===void 0?!!nt.defaultValue:!!yt),Ke.on("execute",()=>{nt.set("value",!Ke.isOn)}),ze.add(Ke)}return ze}_createFormChildren(Ce){const ze=this.createCollection();if(ze.add(this.urlInputView),Ce.length){const nt=new ot.View;nt.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(Ke=>({tag:"li",children:[Ke],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),ze.add(nt)}return ze.add(this.saveButtonView),ze.add(this.cancelButtonView),ze}}var wi=R(321),Ii={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(wi.Z,Ii),wi.Z.locals;class Li extends ot.View{constructor(Ce){super(Ce),this.focusTracker=new c.FocusTracker,this.keystrokes=new c.KeystrokeHandler,this._focusables=new ot.ViewCollection;const ze=Ce.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(ze("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(ze("Edit link"),w.icons.pencil,"edit"),this.set("href",void 0),this._focusCycler=new ot.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(Ce=>{this._focusables.add(Ce),this.focusTracker.add(Ce.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(Ce,ze,nt){const Ke=new ot.ButtonView(this.locale);return Ke.set({label:Ce,icon:ze,tooltip:!0}),Ke.delegate("execute").to(this,nt),Ke}_createPreviewButton(){const Ce=new ot.ButtonView(this.locale),ze=this.bindTemplate,nt=this.t;return Ce.set({withText:!0,tooltip:nt("Open link in new tab")}),Ce.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:ze.to("href",Ke=>Ke&&Ft(Ke)),target:"_blank",rel:"noopener noreferrer"}}),Ce.bind("label").to(this,"href",Ke=>Ke||nt("This link has no URL")),Ce.bind("isEnabled").to(this,"href",Ke=>!!Ke),Ce.template.tag="a",Ce.template.eventListeners={},Ce}}const yi='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',ji="link-ui";class Ki extends w.Plugin{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[ot.ContextualBalloon]}static get pluginName(){return"LinkUI"}init(){const Ce=this.editor;Ce.editing.view.addObserver(Ge.ClickObserver),this._balloon=Ce.plugins.get(ot.ContextualBalloon),this._createToolbarLinkButton(),this._enableBalloonActivators(),Ce.conversion.for("editingDowncast").markerToHighlight({model:ji,view:{classes:["ck-fake-link-selection"]}}),Ce.conversion.for("editingDowncast").markerToElement({model:ji,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const Ce=this.editor,ze=new Li(Ce.locale),nt=Ce.commands.get("link"),Ke=Ce.commands.get("unlink");return ze.bind("href").to(nt,"value"),ze.editButtonView.bind("isEnabled").to(nt),ze.unlinkButtonView.bind("isEnabled").to(Ke),this.listenTo(ze,"edit",()=>{this._addFormView()}),this.listenTo(ze,"unlink",()=>{Ce.execute("unlink"),this._hideUI()}),ze.keystrokes.set("Esc",(yt,si)=>{this._hideUI(),si()}),ze.keystrokes.set(st,(yt,si)=>{this._addFormView(),si()}),ze}_createFormView(){const Ce=this.editor,ze=Ce.commands.get("link"),nt=Ce.config.get("link.defaultProtocol"),Ke=new((0,ot.CssTransitionDisablerMixin)(ri))(Ce.locale,ze);return Ke.urlInputView.fieldView.bind("value").to(ze,"value"),Ke.urlInputView.bind("isEnabled").to(ze,"isEnabled"),Ke.saveButtonView.bind("isEnabled").to(ze),this.listenTo(Ke,"submit",()=>{const{value:yt}=Ke.urlInputView.fieldView.element,si=ui(yt,nt);Ce.execute("link",si,Ke.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(Ke,"cancel",()=>{this._closeFormView()}),Ke.keystrokes.set("Esc",(yt,si)=>{this._closeFormView(),si()}),Ke}_createToolbarLinkButton(){const Ce=this.editor,ze=Ce.commands.get("link"),nt=Ce.t;Ce.ui.componentFactory.add("link",Ke=>{const yt=new ot.ButtonView(Ke);return yt.isEnabled=!0,yt.label=nt("Link"),yt.icon=yi,yt.keystroke=st,yt.tooltip=!0,yt.isToggleable=!0,yt.bind("isEnabled").to(ze,"isEnabled"),yt.bind("isOn").to(ze,"value",si=>!!si),this.listenTo(yt,"execute",()=>this._showUI(!0)),yt})}_enableBalloonActivators(){const Ce=this.editor,ze=Ce.editing.view.document;this.listenTo(ze,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),Ce.keystrokes.set(st,(nt,Ke)=>{Ke(),Ce.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(Ce,ze)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),ze())},{priority:"high"}),this.editor.keystrokes.set("Esc",(Ce,ze)=>{this._isUIVisible&&(this._hideUI(),ze())}),(0,ot.clickOutsideHandler)({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const Ce=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=Ce.value||""}_closeFormView(){const Ce=this.editor.commands.get("link");Ce.restoreManualDecoratorStates(),Ce.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(Ce=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),Ce&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),Ce&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const Ce=this.editor;this.stopListening(Ce.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),Ce.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const Ce=this.editor,ze=Ce.editing.view.document;let nt=this._getSelectedLinkElement(),Ke=si();const yt=()=>{const ni=this._getSelectedLinkElement(),ki=si();nt&&!ni||!nt&&ki!==Ke?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),nt=ni,Ke=ki};function si(){return ze.selection.focus.getAncestors().reverse().find(ni=>ni.is("element"))}this.listenTo(Ce.ui,"update",yt),this.listenTo(this._balloon,"change:visibleView",yt)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const Ce=this._balloon.visibleView;return!!this.formView&&Ce==this.formView||this._areActionsVisible}_getBalloonPositionData(){const Ce=this.editor.editing.view,ze=this.editor.model,nt=Ce.document;let Ke;if(ze.markers.has(ji)){const yt=Array.from(this.editor.editing.mapper.markerNameToElements(ji)),si=Ce.createRange(Ce.createPositionBefore(yt[0]),Ce.createPositionAfter(yt[yt.length-1]));Ke=Ce.domConverter.viewRangeToDom(si)}else Ke=()=>{const yt=this._getSelectedLinkElement();return yt?Ce.domConverter.mapViewToDom(yt):Ce.domConverter.viewRangeToDom(nt.selection.getFirstRange())};return{target:Ke}}_getSelectedLinkElement(){const Ce=this.editor.editing.view,ze=Ce.document.selection,nt=ze.getSelectedElement();if(ze.isCollapsed||nt&&(0,gt.isWidget)(nt))return Mi(ze.getFirstPosition());{const Ke=ze.getFirstRange().getTrimmed(),yt=Mi(Ke.start),si=Mi(Ke.end);return yt&&yt==si&&Ce.createRangeIn(yt).getTrimmed().isEqual(Ke)?yt:null}}_showFakeVisualSelection(){const Ce=this.editor.model;Ce.change(ze=>{const nt=Ce.document.selection.getFirstRange();if(Ce.markers.has(ji))ze.updateMarker(ji,{range:nt});else if(nt.start.isAtEnd){const Ke=nt.start.getLastMatchingPosition(({item:yt})=>!Ce.schema.isContent(yt),{boundaries:nt});ze.addMarker(ji,{usingOperation:!1,affectsData:!1,range:ze.createRange(Ke,nt.end)})}else ze.addMarker(ji,{usingOperation:!1,affectsData:!1,range:nt})})}_hideFakeVisualSelection(){const Ce=this.editor.model;Ce.markers.has(ji)&&Ce.change(ze=>{ze.removeMarker(ji)})}}function Mi(_t){return _t.getAncestors().find(Ce=>{return(ze=Ce).is("attributeElement")&&!!ze.getCustomProperty("link");var ze})||null}const tn=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Zt extends w.Plugin{static get requires(){return[C.Delete,Le]}static get pluginName(){return"AutoLink"}init(){const Ce=this.editor.model.document.selection;Ce.on("change:range",()=>{this.isEnabled=!Ce.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(Ce,ze){return ze.textNode&&ze.textNode.hasAttribute("linkHref")?(0,C.findAttributeRange)(ze,"linkHref",ze.textNode.getAttribute("linkHref"),Ce):null}_selectEntireLinks(Ce,ze){const nt=this.editor.model,Ke=nt.document.selection,yt=Ke.getFirstPosition(),si=Ke.getLastPosition();let ni=ze.getJoined(this._expandLinkRange(nt,yt)||ze);ni&&(ni=ni.getJoined(this._expandLinkRange(nt,si)||ze)),ni&&(ni.start.isBefore(yt)||ni.end.isAfter(si))&&Ce.setSelection(ni)}_enablePasteLinking(){const Ce=this.editor,ze=Ce.model,nt=ze.document.selection,Ke=Ce.plugins.get("ClipboardPipeline"),yt=Ce.commands.get("link");Ke.on("inputTransformation",(si,ni)=>{if(!this.isEnabled||!yt.isEnabled||nt.isCollapsed||nt.rangeCount>1)return;const ki=nt.getFirstRange(),di=ni.dataTransfer.getData("text/plain");if(!di)return;const Ti=di.match(tn);Ti&&Ti[2]===di&&(ze.change(Ni=>{this._selectEntireLinks(Ni,ki),yt.execute(di)}),si.stop())},{priority:"high"})}_enableTypingHandling(){const Ce=this.editor,ze=new C.TextWatcher(Ce.model,nt=>{if(!function(yt){return yt.length>4&&yt[yt.length-1]===" "&&yt[yt.length-2]!==" "}(nt))return;const Ke=wn(nt.substr(0,nt.length-1));return Ke?{url:Ke}:void 0});ze.on("matched:data",(nt,Ke)=>{const{batch:yt,range:si,url:ni}=Ke;if(!yt.isTyping)return;const ki=si.end.getShiftedBy(-1),di=ki.getShiftedBy(-ni.length),Ti=Ce.model.createRange(di,ki);this._applyAutoLink(ni,Ti)}),ze.bind("isEnabled").to(this)}_enableEnterHandling(){const Ce=this.editor,ze=Ce.model,nt=Ce.commands.get("enter");nt&&nt.on("execute",()=>{const Ke=ze.document.selection.getFirstPosition();if(!Ke.parent.previousSibling)return;const yt=ze.createRangeIn(Ke.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(yt)})}_enableShiftEnterHandling(){const Ce=this.editor,ze=Ce.model,nt=Ce.commands.get("shiftEnter");nt&&nt.on("execute",()=>{const Ke=ze.document.selection.getFirstPosition(),yt=ze.createRange(ze.createPositionAt(Ke.parent,0),Ke.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(yt)})}_checkAndApplyAutoLinkOnRange(Ce){const ze=this.editor.model,{text:nt,range:Ke}=(0,C.getLastTextLine)(Ce,ze),yt=wn(nt);if(yt){const si=ze.createRange(Ke.end.getShiftedBy(-yt.length),Ke.end);this._applyAutoLink(yt,si)}}_applyAutoLink(Ce,ze){const nt=this.editor.model,Ke=ui(Ce,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(yt,si){return si.schema.checkAttributeInSelection(si.createSelection(yt),"linkHref")}(ze,nt)&&Vt(Ke)&&!function(yt){const si=yt.start.nodeAfter;return!!si&&si.hasAttribute("linkHref")}(ze)&&this._persistAutoLink(Ke,ze)}_persistAutoLink(Ce,ze){const nt=this.editor.model,Ke=this.editor.plugins.get("Delete");nt.enqueueChange(yt=>{yt.setAttribute("linkHref",Ce,ze),nt.enqueueChange(()=>{Ke.requestUndoOnBackspace()})})}}function wn(_t){const Ce=tn.exec(_t);return Ce?Ce[2]:null}class Ne extends w.Plugin{static get requires(){return[Le,Ki,Zt]}static get pluginName(){return"Link"}}class H extends w.Plugin{static get requires(){return["ImageEditing","ImageUtils",Le]}static get pluginName(){return"LinkImageEditing"}init(){const Ce=this.editor,ze=Ce.model.schema;Ce.plugins.has("ImageBlockEditing")&&ze.extend("imageBlock",{allowAttributes:["linkHref"]}),Ce.conversion.for("upcast").add(function(nt){const Ke=nt.plugins.has("ImageInlineEditing"),yt=nt.plugins.get("ImageUtils");return si=>{si.on("element:a",(ni,ki,di)=>{const Ti=ki.viewItem,Ni=yt.findViewImgElement(Ti);if(!Ni)return;const Gi=Ni.findAncestor(kn=>yt.isBlockImageView(kn));if(Ke&&!Gi)return;const rn={attributes:["href"]};if(!di.consumable.consume(Ti,rn))return;const $i=Ti.getAttribute("href");if(!$i)return;let hn=ki.modelCursor.parent;if(!hn.is("element","imageBlock")){const kn=di.convertItem(Ni,ki.modelCursor);ki.modelRange=kn.modelRange,ki.modelCursor=kn.modelCursor,hn=ki.modelCursor.nodeBefore}hn&&hn.is("element","imageBlock")&&di.writer.setAttribute("linkHref",$i,hn)},{priority:"high"})}}(Ce)),Ce.conversion.for("downcast").add(function(nt){const Ke=nt.plugins.get("ImageUtils");return yt=>{yt.on("attribute:linkHref:imageBlock",(si,ni,ki)=>{if(!ki.consumable.consume(ni.item,si.name))return;const di=ki.mapper.toViewElement(ni.item),Ti=ki.writer,Ni=Array.from(di.getChildren()).find($i=>$i.is("element","a")),Gi=Ke.findViewImgElement(di),rn=Gi.parent.is("element","picture")?Gi.parent:Gi;if(Ni)ni.attributeNewValue?Ti.setAttribute("href",ni.attributeNewValue,Ni):(Ti.move(Ti.createRangeOn(rn),Ti.createPositionAt(di,0)),Ti.remove(Ni));else{const $i=Ti.createContainerElement("a",{href:ni.attributeNewValue});Ti.insert(Ti.createPositionAt(di,0),$i),Ti.move(Ti.createRangeOn(rn),Ti.createPositionAt($i,0))}},{priority:"high"})}}(Ce)),this._enableAutomaticDecorators(),this._enableManualDecorators()}_enableAutomaticDecorators(){const Ce=this.editor,ze=Ce.commands.get("link").automaticDecorators;ze.length&&Ce.conversion.for("downcast").add(ze.getDispatcherForLinkedImage())}_enableManualDecorators(){const Ce=this.editor,ze=Ce.commands.get("link");for(const nt of ze.manualDecorators)Ce.plugins.has("ImageBlockEditing")&&Ce.model.schema.extend("imageBlock",{allowAttributes:nt.id}),Ce.plugins.has("ImageInlineEditing")&&Ce.model.schema.extend("imageInline",{allowAttributes:nt.id}),Ce.conversion.for("downcast").add(X(nt)),Ce.conversion.for("upcast").add(se(Ce,nt))}}function X(_t){return Ce=>{Ce.on(`attribute:${_t.id}:imageBlock`,(ze,nt,Ke)=>{const yt=Ke.mapper.toViewElement(nt.item),si=Array.from(yt.getChildren()).find(ni=>ni.is("element","a"));if(si){for(const[ni,ki]of(0,c.toMap)(_t.attributes))Ke.writer.setAttribute(ni,ki,si);_t.classes&&Ke.writer.addClass(_t.classes,si);for(const ni in _t.styles)Ke.writer.setStyle(ni,_t.styles[ni],si)}})}}function se(_t,Ce){const ze=_t.plugins.has("ImageInlineEditing"),nt=_t.plugins.get("ImageUtils");return Ke=>{Ke.on("element:a",(yt,si,ni)=>{const ki=si.viewItem,di=nt.findViewImgElement(ki);if(!di)return;const Ti=di.findAncestor(rn=>nt.isBlockImageView(rn));if(ze&&!Ti)return;const Ni=new Ge.Matcher(Ce._createPattern()).match(ki);if(!Ni||!ni.consumable.consume(ki,Ni.match))return;const Gi=si.modelCursor.nodeBefore||si.modelCursor.parent;ni.writer.setAttribute(Ce.id,!0,Gi)},{priority:"high"})}}class be extends w.Plugin{static get requires(){return[Le,Ki,"ImageBlockEditing"]}static get pluginName(){return"LinkImageUI"}init(){const Ce=this.editor,ze=Ce.editing.view.document;this.listenTo(ze,"click",(nt,Ke)=>{this._isSelectedLinkedImage(Ce.model.document.selection)&&(Ke.preventDefault(),nt.stop())},{priority:"high"}),this._createToolbarLinkImageButton()}_createToolbarLinkImageButton(){const Ce=this.editor,ze=Ce.t;Ce.ui.componentFactory.add("linkImage",nt=>{const Ke=new ot.ButtonView(nt),yt=Ce.plugins.get("LinkUI"),si=Ce.commands.get("link");return Ke.set({isEnabled:!0,label:ze("Link image"),icon:yi,keystroke:st,tooltip:!0,isToggleable:!0}),Ke.bind("isEnabled").to(si,"isEnabled"),Ke.bind("isOn").to(si,"value",ni=>!!ni),this.listenTo(Ke,"execute",()=>{this._isSelectedLinkedImage(Ce.model.document.selection)?yt._addActionsView():yt._showUI(!0)}),Ke})}_isSelectedLinkedImage(Ce){const ze=Ce.getSelectedElement();return this.editor.plugins.get("ImageUtils").isImage(ze)&&ze.hasAttribute("linkHref")}}var ht=R(883),Rt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Pi()(ht.Z,Rt),ht.Z.locals;class Yt extends w.Plugin{static get requires(){return[H,be]}static get pluginName(){return"LinkImage"}}})(),(window.CKEditor5=window.CKEditor5||{}).link=E})()},84690:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Circle:"Circle",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero",Disc:"Disc","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Reversed order":"Reversed order",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.","To-do List":"To-do List","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={118:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}",""]);const l=C},479:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}",""]);const l=C},463:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}",""]);const l=C},989:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}",""]);const l=C},528:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},945:(g,R,E)=>{g.exports=E(79)("./src/clipboard.js")},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},331:(g,R,E)=>{g.exports=E(79)("./src/enter.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{AdjacentListsSupport:()=>gt,DocumentList:()=>ot,DocumentListEditing:()=>st,DocumentListIndentCommand:()=>$,DocumentListProperties:()=>_t,DocumentListPropertiesEditing:()=>Ne,DocumentListPropertiesUtils:()=>Zt,DocumentListUtils:()=>D,IndentCommand:()=>Ce,List:()=>Yn,ListEditing:()=>En,ListProperties:()=>Et,ListPropertiesEditing:()=>K,ListPropertiesUI:()=>Rt,ListUI:()=>Ge,ListUtils:()=>yt,TodoDocumentList:()=>_e,TodoDocumentListEditing:()=>yr,TodoList:()=>Qn,TodoListEditing:()=>Ri,TodoListUI:()=>Qi});var g=te(704),R=te(181),E=te(331),w=te(209);class C{constructor(d,I){this._startElement=d,this._referenceIndent=d.getAttribute("listIndent"),this._isForward=I.direction=="forward",this._includeSelf=!!I.includeSelf,this._sameAttributes=(0,w.toArray)(I.sameAttributes||[]),this._sameIndent=!!I.sameIndent,this._lowerIndent=!!I.lowerIndent,this._higherIndent=!!I.higherIndent}static first(d,I){const N=new this(d,I)[Symbol.iterator]();return(0,w.first)(N)}*[Symbol.iterator](){const d=[];for(const{node:I}of l(this._getStartNode(),this._isForward?"forward":"backward")){const N=I.getAttribute("listIndent");if(N<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=N}else if(N>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){d.push(I);continue}}else{if(!this._sameIndent){if(this._higherIndent){d.length&&(yield*d,d.length=0);break}continue}if(this._sameAttributes.some(J=>I.getAttribute(J)!==this._startElement.getAttribute(J)))break}d.length&&(yield*d,d.length=0),yield I}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*l(k,d="forward"){const I=d=="forward",N=[];let J=null;for(;B(k);){let ce=null;if(J){const pe=k.getAttribute("listIndent"),he=J.getAttribute("listIndent");pe>he?N[he]=J:pe<he?(ce=N[pe],N.length=pe):ce=J}yield{node:k,previous:J,previousNodeInList:ce},J=k,k=I?k.nextSibling:k.previousSibling}}class c{constructor(d){this._listHead=d}[Symbol.iterator](){return l(this._listHead,"forward")}}class L{static next(){return(0,w.uid)()}}function B(k){return!!k&&k.is("element")&&k.hasAttribute("listItemId")}function y(k,d={}){return[...h(k,{...d,direction:"backward"}),...h(k,{...d,direction:"forward"})]}function h(k,d={}){const I=d.direction=="forward",N=Array.from(new C(k,{...d,includeSelf:I,sameIndent:!0,sameAttributes:"listItemId"}));return I?N:N.reverse()}function V(k){const d=new C(k,{sameIndent:!0,sameAttributes:"listType"}),I=new C(k,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(d).reverse(),...I]}function q(k){return!C.first(k,{sameIndent:!0,sameAttributes:"listItemId"})}function Y(k){return!C.first(k,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function ee(k,d={}){k=(0,w.toArray)(k);const I=d.withNested!==!1,N=new Set;for(const J of k)for(const ce of y(J,{higherIndent:I}))N.add(ce);return A(N)}function re(k){k=(0,w.toArray)(k);const d=new Set;for(const I of k)for(const N of V(I))d.add(N);return A(d)}function ie(k,d){const I=h(k,{direction:"forward"}),N=L.next();for(const J of I)d.setAttribute("listItemId",N,J);return I}function u(k,d,I){const N={};for(const[ce,pe]of d.getAttributes())ce.startsWith("list")&&(N[ce]=pe);const J=h(k,{direction:"forward"});for(const ce of J)I.setAttributes(N,ce);return J}function _(k,d,{expand:I,indentBy:N=1}={}){k=(0,w.toArray)(k);const J=I?ee(k):k;for(const ce of J){const pe=ce.getAttribute("listIndent")+N;pe<0?p(ce,d):d.setAttribute("listIndent",pe,ce)}return J}function p(k,d){k=(0,w.toArray)(k);for(const I of k)I.is("element","listItem")&&d.rename(I,"paragraph");for(const I of k)for(const N of I.getAttributeKeys())N.startsWith("list")&&d.removeAttribute(N,I);return k}function v(k){if(!k.length)return!1;const d=k[0].getAttribute("listItemId");return!!d&&!k.some(I=>I.getAttribute("listItemId")!=d)}function A(k){return Array.from(k).filter(d=>d.root.rootName!=="$graveyard").sort((d,I)=>d.index-I.index)}function T(k){const d=k.document.selection.getSelectedElement();return d&&k.schema.isObject(d)&&k.schema.isBlock(d)?d:null}function S(k,d){return d.checkChild(k.parent,"listItem")&&d.checkChild(k,"$text")&&!d.isObject(k)}function ae(k,d,I){return h(d,{direction:"forward"}).pop().index>k.index?u(k,d,I):[]}class $ extends g.Command{constructor(d,I){super(d),this._direction=I}refresh(){this.isEnabled=this._checkEnabled()}execute(){const d=this.editor.model,I=z(d.document.selection);d.change(N=>{const J=[];v(I)&&!q(I[0])?(this._direction=="forward"&&J.push(..._(I,N)),J.push(...ie(I[0],N))):this._direction=="forward"?J.push(..._(I,N,{expand:!0})):J.push(...function(ce,pe){const he=ee(ce=(0,w.toArray)(ce)),ve=new Set,Re=Math.min(...he.map(Ye=>Ye.getAttribute("listIndent"))),We=new Map;for(const Ye of he)We.set(Ye,C.first(Ye,{lowerIndent:!0}));for(const Ye of he){if(ve.has(Ye))continue;ve.add(Ye);const pt=Ye.getAttribute("listIndent")-1;if(pt<0)p(Ye,pe);else{if(Ye.getAttribute("listIndent")==Re){const Ct=ae(Ye,We.get(Ye),pe);for(const St of Ct)ve.add(St);if(Ct.length)continue}pe.setAttribute("listIndent",pt,Ye)}}return A(ve)}(I,N));for(const ce of J){if(!ce.hasAttribute("listType"))continue;const pe=C.first(ce,{sameIndent:!0});pe&&N.setAttribute("listType",pe.getAttribute("listType"),ce)}this._fireAfterExecute(J)})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_checkEnabled(){let d=z(this.editor.model.document.selection),I=d[0];if(!I)return!1;if(this._direction=="backward"||v(d)&&!q(d[0]))return!0;d=ee(d),I=d[0];const N=C.first(I,{sameIndent:!0});return!!N&&N.getAttribute("listType")==I.getAttribute("listType")}}function z(k){const d=Array.from(k.getSelectedBlocks()),I=d.findIndex(N=>!B(N));return I!=-1&&(d.length=I),d}class f extends g.Command{constructor(d,I){super(d),this.type=I}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){const I=this.editor.model,N=I.document,J=T(I),ce=Array.from(N.selection.getSelectedBlocks()).filter(he=>I.schema.checkAttribute(he,"listType")||S(he,I.schema)),pe=d.forceValue!==void 0?!d.forceValue:this.value;I.change(he=>{if(pe){const ve=ce[ce.length-1],Re=h(ve,{direction:"forward"}),We=[];Re.length>1&&We.push(...ie(Re[1],he)),We.push(...p(ce,he)),We.push(...function(Ye,pt){const Ct=[];let St=Number.POSITIVE_INFINITY;for(const{node:xt}of l(Ye.nextSibling,"forward")){const ii=xt.getAttribute("listIndent");if(ii==0)break;ii<St&&(St=ii);const Jt=ii-St;pt.setAttribute("listIndent",Jt,xt),Ct.push(xt)}return Ct}(ve,he)),this._fireAfterExecute(We)}else if((J||N.selection.isCollapsed)&&B(ce[0])){const ve=V(J||ce[0]);for(const Re of ve)he.setAttribute("listType",this.type,Re);this._fireAfterExecute(ve)}else{const ve=[];for(const Re of ce)if(Re.hasAttribute("listType"))for(const We of ee(Re,{withNested:!1}))We.getAttribute("listType")!=this.type&&(he.setAttribute("listType",this.type,We),ve.push(We));else!Re.is("element","listItem")&&S(Re,I.schema)&&he.rename(Re,"listItem"),he.setAttributes({listIndent:0,listItemId:L.next(),listType:this.type},Re),ve.push(Re);this._fireAfterExecute(ve)}})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_getValue(){const d=this.editor.model.document.selection,I=Array.from(d.getSelectedBlocks());if(!I.length)return!1;for(const N of I)if(N.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const d=this.editor.model,I=d.schema,N=d.document.selection,J=Array.from(N.getSelectedBlocks());if(!J.length)return!1;if(this.value)return!0;for(const ce of J)if(I.checkAttribute(ce,"listType")||S(ce,I))return!0;return!1}}class j extends g.Command{constructor(d,I){super(d),this._direction=I}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:d=!1}={}){const I=this.editor.model,N=I.document.selection,J=[];I.change(ce=>{const{firstElement:pe,lastElement:he}=this._getMergeSubjectElements(N,d),ve=pe.getAttribute("listIndent")||0,Re=he.getAttribute("listIndent"),We=he.getAttribute("listItemId");if(ve!=Re){const pt=(Ye=he,Array.from(new C(Ye,{direction:"forward",higherIndent:!0})));J.push(..._([he,...pt],ce,{indentBy:ve-Re,expand:ve<Re}))}var Ye;if(d){let pt=N;N.isCollapsed&&(pt=ce.createSelection(ce.createRange(ce.createPositionAt(pe,"end"),ce.createPositionAt(he,0)))),I.deleteContent(pt,{doNotResetEntireContent:N.isCollapsed});const Ct=pt.getLastPosition().parent,St=Ct.nextSibling;J.push(Ct),St&&St!==he&&St.getAttribute("listItemId")==We&&J.push(...u(St,Ct,ce))}else J.push(...u(he,pe,ce));this._fireAfterExecute(J)})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_checkEnabled(){const d=this.editor.model,I=d.document.selection,N=T(d);if(I.isCollapsed||N){const J=N||I.getFirstPosition().parent;if(!B(J))return!1;const ce=this._direction=="backward"?J.previousSibling:J.nextSibling;if(!ce||v([J,ce]))return!1}else{const J=I.getLastPosition(),ce=I.getFirstPosition();if(J.parent===ce.parent||!B(J.parent))return!1}return!0}_getMergeSubjectElements(d,I){const N=T(this.editor.model);let J,ce;if(d.isCollapsed||N){const pe=N||d.getFirstPosition().parent,he=q(pe);this._direction=="backward"?(ce=pe,J=he&&!I?C.first(pe,{sameIndent:!0,lowerIndent:!0}):pe.previousSibling):(J=pe,ce=pe.nextSibling)}else J=d.getFirstPosition().parent,ce=d.getLastPosition().parent;return{firstElement:J,lastElement:ce}}}class Z extends g.Command{constructor(d,I){super(d),this._direction=I}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(d=>{const I=ie(this._getStartBlock(),d);this._fireAfterExecute(I)})}_fireAfterExecute(d){this.fire("afterExecute",A(new Set(d)))}_checkEnabled(){const d=this.editor.model.document.selection,I=this._getStartBlock();return d.isCollapsed&&B(I)&&!q(I)}_getStartBlock(){const d=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?d:d.nextSibling}}class D extends g.Plugin{static get pluginName(){return"DocumentListUtils"}expandListBlocksToCompleteList(d){return re(d)}isFirstBlockOfListItem(d){return q(d)}isListItemBlock(d){return B(d)}expandListBlocksToCompleteItems(d,I={}){return ee(d,I)}}var oe=te(492);function Se(k){return k.is("element","ol")||k.is("element","ul")}function je(k){return k.is("element","li")}function Ie(k,d,I,N=lt(I,d)){return k.createAttributeElement(mt(I),null,{priority:2*d/100-100,id:N})}function De(k,d,I){return k.createAttributeElement("li",null,{priority:(2*d+1)/100-100,id:I})}function mt(k){return k=="numbered"?"ol":"ul"}function lt(k,d){return`list-${k}-${d}`}function ut(k,d){const I=k.nodeBefore;if(B(I)){let N=I;for(const{node:J}of l(N,"backward"))if(N=J,d.has(N))return;d.set(I,N)}else{const N=k.nodeAfter;B(N)&&d.set(N,N)}}function dt(){return(k,d,I)=>{const{writer:N,schema:J}=I;if(!d.modelRange)return;const ce=Array.from(d.modelRange.getItems({shallow:!0})).filter(Ye=>J.checkAttribute(Ye,"listItemId"));if(!ce.length)return;const pe=L.next(),he=function(Ye){let pt=0,Ct=Ye.parent;for(;Ct;){if(je(Ct))pt++;else{const St=Ct.previousSibling;St&&je(St)&&pt++}Ct=Ct.parent}return pt}(d.viewItem);let ve=d.viewItem.parent&&d.viewItem.parent.is("element","ol")?"numbered":"bulleted";const Re=ce[0].getAttribute("listType");Re&&(ve=Re);const We={listItemId:pe,listIndent:he,listType:ve};for(const Ye of ce)Ye.hasAttribute("listItemId")||N.setAttributes(We,Ye);ce.length>1&&ce[1].getAttribute("listItemId")!=We.listItemId&&I.keepEmptyElement(ce[0])}}function vt(){return(k,d,I)=>{if(!I.consumable.test(d.viewItem,{name:!0}))return;const N=new oe.UpcastWriter(d.viewItem.document);for(const J of Array.from(d.viewItem.getChildren()))je(J)||Se(J)||N.remove(J)}}function bt(k,d,I,{dataPipeline:N}={}){const J=function(ce){return(pe,he)=>{const ve=[];for(const Re of ce)pe.hasAttribute(Re)&&ve.push(`attribute:${Re}`);return!!ve.every(Re=>he.test(pe,Re)!==!1)&&(ve.forEach(Re=>he.consume(pe,Re)),!0)}}(k);return(ce,pe,he)=>{const{writer:ve,mapper:Re,consumable:We}=he,Ye=pe.item;if(!k.includes(pe.attributeKey)||!J(Ye,We))return;const pt=function(St,xt,ii){const Jt=ii.createRangeOn(St);return xt.toViewRange(Jt).getTrimmed().end.nodeBefore}(Ye,Re,I);(function(St,xt,ii){for(;St.parent.is("attributeElement")&&St.parent.getCustomProperty("listItemWrapper");)xt.unwrap(xt.createRangeIn(St.parent),St.parent);const Jt=xt.createPositionBefore(St).getWalker({direction:"backward"}),bi=[];for(const{item:Si}of Jt){if(Si.is("element")&&ii.toModelElement(Si))break;Si.is("element")&&Si.getCustomProperty("listItemMarker")&&bi.push(Si)}for(const Si of bi)xt.remove(Si)})(pt,ve,Re),function(St,xt){let ii=St.parent;for(;ii.is("attributeElement")&&["ul","ol","li"].includes(ii.name);){const Jt=ii.parent;xt.unwrap(xt.createRangeOn(St),ii),ii=Jt}}(pt,ve);const Ct=function(St,xt,ii,Jt,{dataPipeline:bi}){let Si=Jt.createRangeOn(xt);if(!q(St))return Si;for(const Hi of ii){if(Hi.scope!="itemMarker")continue;const sn=Hi.createElement(Jt,St,{dataPipeline:bi});if(!sn||(Jt.setCustomProperty("listItemMarker",!0,sn),Jt.insert(Si.start,sn),Si=Jt.createRange(Jt.createPositionBefore(sn),Jt.createPositionAfter(xt)),!Hi.createWrapperElement||!Hi.canWrapElement))continue;const mn=Hi.createWrapperElement(Jt,St,{dataPipeline:bi});Jt.setCustomProperty("listItemWrapper",!0,mn),Hi.canWrapElement(St)?Si=Jt.wrap(Si,mn):(Si=Jt.wrap(Jt.createRangeOn(sn),mn),Si=Jt.createRange(Si.start,Jt.createPositionAfter(xt)))}return Si}(Ye,pt,d,ve,{dataPipeline:N});(function(St,xt,ii,Jt){if(!St.hasAttribute("listIndent"))return;const bi=St.getAttribute("listIndent");let Si=St;for(let Hi=bi;Hi>=0;Hi--){const sn=De(Jt,Hi,Si.getAttribute("listItemId")),mn=Ie(Jt,Hi,Si.getAttribute("listType"));for(const Cn of ii)Cn.scope!="list"&&Cn.scope!="item"||!Si.hasAttribute(Cn.attributeName)||Cn.setAttributeOnDowncast(Jt,Si.getAttribute(Cn.attributeName),Cn.scope=="list"?mn:sn);if(xt=Jt.wrap(xt,sn),xt=Jt.wrap(xt,mn),Hi==0||(Si=C.first(Si,{lowerIndent:!0}),!Si))break}})(Ye,Ct,d,ve)}}function Qe(k,{dataPipeline:d}={}){return(I,{writer:N})=>{if(!ft(I,k))return null;if(!d)return N.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const J=N.createContainerElement("p");return N.setCustomProperty("dataPipeline:transparentRendering",!0,J),J}}function ft(k,d,I=y(k)){if(!B(k))return!1;for(const N of k.getAttributeKeys())if(!N.startsWith("selection:")&&!d.includes(N))return!1;return I.length<2}var Ve=te(945),Te=te(62),Q=te.n(Te),xe=te(118),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(xe.Z,Oe),xe.Z.locals;var Je=te(479),$e={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(Je.Z,$e),Je.Z.locals;const tt=["listType","listIndent","listItemId"];class st extends g.Plugin{static get pluginName(){return"DocumentListEditing"}static get requires(){return[E.Enter,R.Delete,D,Ve.ClipboardPipeline]}constructor(d){super(d),this._downcastStrategies=[],d.config.define("list.multiBlock",!0)}init(){const d=this.editor,I=d.model,N=d.config.get("list.multiBlock");if(d.plugins.has("ListEditing"))throw new w.CKEditorError("document-list-feature-conflict",this,{conflictPlugin:"ListEditing"});I.schema.register("$listItem",{allowAttributes:tt}),N?(I.schema.extend("$container",{allowAttributesOf:"$listItem"}),I.schema.extend("$block",{allowAttributesOf:"$listItem"}),I.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):I.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const J of tt)I.schema.setAttributeProperties(J,{copyOnReplace:!0});d.commands.add("numberedList",new f(d,"numbered")),d.commands.add("bulletedList",new f(d,"bulleted")),d.commands.add("indentList",new $(d,"forward")),d.commands.add("outdentList",new $(d,"backward")),d.commands.add("splitListItemBefore",new Z(d,"before")),d.commands.add("splitListItemAfter",new Z(d,"after")),N&&(d.commands.add("mergeListItemBackward",new j(d,"backward")),d.commands.add("mergeListItemForward",new j(d,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration()}afterInit(){const d=this.editor.commands,I=d.get("indent"),N=d.get("outdent");I&&I.registerChildCommand(d.get("indentList"),{priority:"high"}),N&&N.registerChildCommand(d.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(d){this._downcastStrategies.push(d)}getListAttributeNames(){return[...tt,...this._downcastStrategies.map(d=>d.attributeName)]}_setupDeleteIntegration(){const d=this.editor,I=d.commands.get("mergeListItemBackward"),N=d.commands.get("mergeListItemForward");this.listenTo(d.editing.view.document,"delete",(J,ce)=>{const pe=d.model.document.selection;T(d.model)||d.model.change(()=>{const he=pe.getFirstPosition();if(pe.isCollapsed&&ce.direction=="backward"){if(!he.isAtStart)return;const ve=he.parent;if(!B(ve))return;if(C.first(ve,{sameAttributes:"listType",sameIndent:!0})||ve.getAttribute("listIndent")!==0){if(!I||!I.isEnabled)return;I.execute({shouldMergeOnBlocksContentLevel:Pt(d.model,"backward")})}else Y(ve)||d.execute("splitListItemAfter"),d.execute("outdentList");ce.preventDefault(),J.stop()}else{if(pe.isCollapsed&&!pe.getLastPosition().isAtEnd||!N||!N.isEnabled)return;N.execute({shouldMergeOnBlocksContentLevel:Pt(d.model,"forward")}),ce.preventDefault(),J.stop()}})},{context:"li"})}_setupEnterIntegration(){const d=this.editor,I=d.model,N=d.commands,J=N.get("enter");this.listenTo(d.editing.view.document,"enter",(ce,pe)=>{const he=I.document,ve=he.selection.getFirstPosition().parent;if(he.selection.isCollapsed&&B(ve)&&ve.isEmpty&&!pe.isSoft){const Re=q(ve),We=Y(ve);Re&&We?(d.execute("outdentList"),pe.preventDefault(),ce.stop()):Re&&!We?(d.execute("splitListItemAfter"),pe.preventDefault(),ce.stop()):We&&(d.execute("splitListItemBefore"),pe.preventDefault(),ce.stop())}},{context:"li"}),this.listenTo(J,"afterExecute",()=>{const ce=N.get("splitListItemBefore");ce.refresh(),ce.isEnabled&&y(d.model.document.selection.getLastPosition().parent).length===2&&ce.execute()})}_setupTabIntegration(){const d=this.editor;this.listenTo(d.editing.view.document,"tab",(I,N)=>{const J=N.shiftKey?"outdentList":"indentList";this.editor.commands.get(J).isEnabled&&(d.execute(J),N.stopPropagation(),N.preventDefault(),I.stop())},{context:"li"})}_setupConversion(){const d=this.editor,I=d.model,N=this.getListAttributeNames(),J=d.config.get("list.multiBlock"),ce=J?"paragraph":"listItem";d.conversion.for("upcast").elementToElement({view:"li",model:(pe,{writer:he})=>he.createElement(ce,{listType:""})}).elementToElement({view:"p",model:(pe,{writer:he})=>pe.parent&&pe.parent.is("element","li")?he.createElement(ce,{listType:""}):null,converterPriority:"high"}).add(pe=>{pe.on("element:li",dt()),pe.on("element:ul",vt(),{priority:"high"}),pe.on("element:ol",vt(),{priority:"high"})}),J||d.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),d.conversion.for("editingDowncast").elementToElement({model:ce,view:Qe(N),converterPriority:"high"}).add(pe=>{pe.on("attribute",bt(N,this._downcastStrategies,I))}),d.conversion.for("dataDowncast").elementToElement({model:ce,view:Qe(N,{dataPipeline:!0}),converterPriority:"high"}).add(pe=>{pe.on("attribute",bt(N,this._downcastStrategies,I,{dataPipeline:!0}))}),this.listenTo(I.document,"change:data",function(pe,he,ve,Re){return()=>{const Ct=pe.document.differ.getChanges(),St=[],xt=new Map,ii=new Set;for(const Jt of Ct)if(Jt.type=="insert"&&Jt.name!="$text")ut(Jt.position,xt),Jt.attributes.has("listItemId")?ii.add(Jt.position.nodeAfter):ut(Jt.position.getShiftedBy(Jt.length),xt);else if(Jt.type=="remove"&&Jt.attributes.has("listItemId"))ut(Jt.position,xt);else if(Jt.type=="attribute"){const bi=Jt.range.start.nodeAfter;ve.includes(Jt.attributeKey)?(ut(Jt.range.start,xt),Jt.attributeNewValue===null?(ut(Jt.range.start.getShiftedBy(1),xt),Ye(bi)&&St.push(bi)):ii.add(bi)):B(bi)&&Ye(bi)&&St.push(bi)}for(const Jt of xt.values())St.push(...We(Jt,ii));for(const Jt of new Set(St))he.reconvertItem(Jt)};function We(Ct,St){const xt=[],ii=new Set,Jt=[];for(const{node:bi,previous:Si}of l(Ct,"forward")){if(ii.has(bi))continue;const Hi=bi.getAttribute("listIndent");Si&&Hi<Si.getAttribute("listIndent")&&(Jt.length=Hi+1),Jt[Hi]=Object.fromEntries(Array.from(bi.getAttributes()).filter(([mn])=>ve.includes(mn)));const sn=h(bi,{direction:"forward"});for(const mn of sn)ii.add(mn),(Ye(mn,sn)||pt(mn,Jt,St))&&xt.push(mn)}return xt}function Ye(Ct,St){const xt=he.mapper.toViewElement(Ct);if(!xt)return!1;if(Re.fire("checkElement",{modelElement:Ct,viewElement:xt}))return!0;if(!Ct.is("element","paragraph")&&!Ct.is("element","listItem"))return!1;const ii=ft(Ct,ve,St);return!(!ii||!xt.is("element","p"))||!(ii||!xt.is("element","span"))}function pt(Ct,St,xt){if(xt.has(Ct))return!1;const ii=he.mapper.toViewElement(Ct);let Jt=St.length-1;for(let bi=ii.parent;!bi.is("editableElement");bi=bi.parent){const Si=je(bi),Hi=Se(bi);if(!Hi&&!Si)continue;const sn="checkAttributes:"+(Si?"item":"list");if(Re.fire(sn,{viewElement:bi,modelAttributes:St[Jt]}))break;if(Hi&&(Jt--,Jt<0))return!1}return!0}}(I,d.editing,N,this),{priority:"high"}),this.on("checkAttributes:item",(pe,{viewElement:he,modelAttributes:ve})=>{he.id!=ve.listItemId&&(pe.return=!0,pe.stop())}),this.on("checkAttributes:list",(pe,{viewElement:he,modelAttributes:ve})=>{he.name==mt(ve.listType)&&he.id==lt(ve.listType,ve.listIndent)||(pe.return=!0,pe.stop())})}_setupModelPostFixing(){const d=this.editor.model,I=this.getListAttributeNames();d.document.registerPostFixer(N=>function(J,ce,pe,he){const ve=J.document.differ.getChanges(),Re=new Map,We=he.editor.config.get("list.multiBlock");let Ye=!1;for(const Ct of ve){if(Ct.type=="insert"&&Ct.name!="$text"){const St=Ct.position.nodeAfter;if(!J.schema.checkAttribute(St,"listItemId"))for(const xt of Array.from(St.getAttributeKeys()))pe.includes(xt)&&(ce.removeAttribute(xt,St),Ye=!0);ut(Ct.position,Re),Ct.attributes.has("listItemId")||ut(Ct.position.getShiftedBy(Ct.length),Re);for(const{item:xt,previousPosition:ii}of J.createRangeIn(St))B(xt)&&ut(ii,Re)}else Ct.type=="remove"?ut(Ct.position,Re):Ct.type=="attribute"&&pe.includes(Ct.attributeKey)&&(ut(Ct.range.start,Re),Ct.attributeNewValue===null&&ut(Ct.range.start.getShiftedBy(1),Re));if(!We&&Ct.type=="attribute"&&tt.includes(Ct.attributeKey)){const St=Ct.range.start.nodeAfter;Ct.attributeNewValue===null&&St&&St.is("element","listItem")?(ce.rename(St,"paragraph"),Ye=!0):Ct.attributeOldValue===null&&St&&St.is("element")&&St.name!="listItem"&&(ce.rename(St,"listItem"),Ye=!0)}}const pt=new Set;for(const Ct of Re.values())Ye=he.fire("postFixer",{listNodes:new c(Ct),listHead:Ct,writer:ce,seenIds:pt})||Ye;return Ye}(d,N,I,this)),this.on("postFixer",(N,{listNodes:J,writer:ce})=>{N.return=function(pe,he){let ve=0,Re=-1,We=null,Ye=!1;for(const{node:pt}of pe){const Ct=pt.getAttribute("listIndent");if(Ct>ve){let St;We===null?(We=Ct-ve,St=ve):(We>Ct&&(We=Ct),St=Ct-We),St>Re+1&&(St=Re+1),he.setAttribute("listIndent",St,pt),Ye=!0,Re=St}else We=null,ve=Ct+1,Re=Ct}return Ye}(J,ce)||N.return},{priority:"high"}),this.on("postFixer",(N,{listNodes:J,writer:ce,seenIds:pe})=>{N.return=function(he,ve,Re){const We=new Set;let Ye=!1;for(const{node:pt}of he){if(We.has(pt))continue;let Ct=pt.getAttribute("listType"),St=pt.getAttribute("listItemId");if(ve.has(St)&&(St=L.next()),ve.add(St),pt.is("element","listItem"))pt.getAttribute("listItemId")!=St&&(Re.setAttribute("listItemId",St,pt),Ye=!0);else for(const xt of h(pt,{direction:"forward"}))We.add(xt),xt.getAttribute("listType")!=Ct&&(St=L.next(),Ct=xt.getAttribute("listType")),xt.getAttribute("listItemId")!=St&&(Re.setAttribute("listItemId",St,xt),Ye=!0)}return Ye}(J,pe,ce)||N.return},{priority:"high"})}_setupClipboardIntegration(){const d=this.editor.model,I=this.editor.plugins.get("ClipboardPipeline");this.listenTo(d,"insertContent",function(N){return(J,[ce,pe])=>{const he=ce.is("documentFragment")?Array.from(ce.getChildren()):[ce];if(!he.length)return;const ve=(pe?N.createSelection(pe):N.document.selection).getFirstPosition();let Re;if(B(ve.parent))Re=ve.parent;else{if(!B(ve.nodeBefore))return;Re=ve.nodeBefore}N.change(We=>{const Ye=Re.getAttribute("listType"),pt=Re.getAttribute("listIndent"),Ct=he[0].getAttribute("listIndent")||0,St=Math.max(pt-Ct,0);for(const xt of he){const ii=B(xt);Re.is("element","listItem")&&xt.is("element","paragraph")&&We.rename(xt,"listItem"),We.setAttributes({listIndent:(ii?xt.getAttribute("listIndent"):0)+St,listItemId:ii?xt.getAttribute("listItemId"):L.next(),listType:Ye},xt)}})}}(d),{priority:"high"}),this.listenTo(I,"outputTransformation",(N,J)=>{d.change(ce=>{const pe=Array.from(J.content.getChildren()),he=pe[pe.length-1];if(pe.length>1&&he.is("element")&&he.isEmpty&&pe.slice(0,-1).every(B)&&ce.remove(he),J.method=="copy"||J.method=="cut"){const ve=Array.from(J.content.getChildren());v(ve)&&p(ve,ce)}})})}}function Pt(k,d){const I=k.document.selection;if(!I.isCollapsed)return!T(k);if(d==="forward")return!0;const N=I.getFirstPosition().parent,J=N.previousSibling;return!k.schema.isObject(J)&&(!!J.isEmpty||v([N,J]))}var Ft=te(273);function Gt(k,d){const I=d.mapper,N=d.writer,J=k.getAttribute("listType")=="numbered"?"ol":"ul",ce=function(he){const ve=he.createContainerElement("li");return ve.getFillerOffset=ue,ve}(N),pe=N.createContainerElement(J,null);return N.insert(N.createPositionAt(pe,0),ce),I.bindElements(k,ce),ce}function ui(k,d,I,N){const J=d.parent,ce=I.mapper,pe=I.writer;let he=ce.toViewPosition(N.createPositionBefore(k));const ve=hi(k.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:k.getAttribute("listIndent")}),Re=k.previousSibling;if(ve&&ve.getAttribute("listIndent")==k.getAttribute("listIndent")){const We=ce.toViewElement(ve);he=pe.breakContainer(pe.createPositionAfter(We))}else if(Re&&Re.name=="listItem"){he=ce.toViewPosition(N.createPositionAt(Re,"end"));const We=ce.findMappedViewAncestor(he),Ye=Oi(We);he=Ye?pe.createPositionBefore(Ye):pe.createPositionAt(We,"end")}else he=ce.toViewPosition(N.createPositionBefore(k));if(he=ti(he),pe.insert(he,J),Re&&Re.name=="listItem"){const We=ce.toViewElement(Re),Ye=pe.createRange(pe.createPositionAt(We,0),he).getWalker({ignoreElementEnd:!0});for(const pt of Ye)if(pt.item.is("element","li")){const Ct=pe.breakContainer(pe.createPositionBefore(pt.item)),St=pt.item.parent,xt=pe.createPositionAt(d,"end");Vt(pe,xt.nodeBefore,xt.nodeAfter),pe.move(pe.createRangeOn(St),xt),Ye._position=Ct}}else{const We=J.nextSibling;if(We&&(We.is("element","ul")||We.is("element","ol"))){let Ye=null;for(const pt of We.getChildren()){const Ct=ce.toModelElement(pt);if(!(Ct&&Ct.getAttribute("listIndent")>k.getAttribute("listIndent")))break;Ye=pt}Ye&&(pe.breakContainer(pe.createPositionAfter(Ye)),pe.move(pe.createRangeOn(Ye.parent),pe.createPositionAt(d,"end")))}}Vt(pe,J,J.nextSibling),Vt(pe,J.previousSibling,J)}function Vt(k,d,I){return!d||!I||d.name!="ul"&&d.name!="ol"||d.name!=I.name||d.getAttribute("class")!==I.getAttribute("class")?null:k.mergeContainers(k.createPositionAfter(d))}function ti(k){return k.getLastMatchingPosition(d=>d.item.is("uiElement"))}function hi(k,d){const I=!!d.sameIndent,N=!!d.smallerIndent,J=d.listIndent;let ce=k;for(;ce&&ce.name=="listItem";){const pe=ce.getAttribute("listIndent");if(I&&J==pe||N&&J>pe)return ce;ce=d.direction==="forward"?ce.nextSibling:ce.previousSibling}return null}function Ci(k,d,I,N){k.ui.componentFactory.add(d,J=>{const ce=k.commands.get(d),pe=new Ft.ButtonView(J);return pe.set({label:I,icon:N,tooltip:!0,isToggleable:!0}),pe.bind("isOn","isEnabled").to(ce,"value","isEnabled"),pe.on("execute",()=>{k.execute(d),k.editing.view.focus()}),pe})}function Oi(k){for(const d of k.getChildren())if(d.name=="ul"||d.name=="ol")return d;return null}function Di(k,d){const I=[],N=k.parent,J={ignoreElementEnd:!1,startPosition:k,shallow:!0,direction:d},ce=N.getAttribute("listIndent"),pe=[...new oe.TreeWalker(J)].filter(he=>he.item.is("element")).map(he=>he.item);for(const he of pe){if(!he.is("element","listItem")||he.getAttribute("listIndent")<ce)break;if(!(he.getAttribute("listIndent")>ce)){if(he.getAttribute("listType")!==N.getAttribute("listType")||he.getAttribute("listStyle")!==N.getAttribute("listStyle")||he.getAttribute("listReversed")!==N.getAttribute("listReversed")||he.getAttribute("listStart")!==N.getAttribute("listStart"))break;d==="backward"?I.unshift(he):I.push(he)}}return I}function Vi(k){let d=[...k.document.selection.getSelectedBlocks()].filter(I=>I.is("element","listItem")).map(I=>{const N=k.change(J=>J.createPositionAt(I,0));return[...Di(N,"backward"),...Di(N,"forward")]}).flat();return d=[...new Set(d)],d}const Pi=["disc","circle","square"],Zi=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function at(k){return Pi.includes(k)?"bulleted":Zi.includes(k)?"numbered":null}function ue(){const k=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||k?0:oe.getFillerOffset.call(this)}const ye='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',Le='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class Ge extends g.Plugin{static get pluginName(){return"ListUI"}init(){const d=this.editor.t;Ci(this.editor,"numberedList",d("Numbered List"),ye),Ci(this.editor,"bulletedList",d("Bulleted List"),Le)}}class ot extends g.Plugin{static get requires(){return[st,Ge]}static get pluginName(){return"DocumentList"}}class gt extends g.Plugin{static get pluginName(){return"AdjacentListsSupport"}init(){const d=this.editor;d.model.schema.register("listSeparator",{allowWhere:"$block",isBlock:!0}),d.conversion.for("upcast").add(I=>{I.on("element:ol",Lt()),I.on("element:ul",Lt())}).elementToElement({model:"listSeparator",view:"ck-list-separator"}),d.conversion.for("editingDowncast").elementToElement({model:"listSeparator",view:{name:"div",classes:["ck-list-separator","ck-hidden"]}}),d.conversion.for("dataDowncast").elementToElement({model:"listSeparator",view:(I,N)=>{const J=N.writer.createContainerElement("ck-list-separator");return N.writer.setCustomProperty("dataPipeline:transparentRendering",!0,J),J.getFillerOffset=()=>null,J}})}}function Lt(){return(k,d,I)=>{const N=d.viewItem,J=N.nextSibling;if(!J||N.name!==J.name)return;d.modelRange||Object.assign(d,I.convertChildren(d.viewItem,d.modelCursor));const ce=I.writer,pe=ce.createElement("listSeparator");if(!I.safeInsert(pe,d.modelCursor))return;const he=I.getSplitParts(pe);d.modelRange=ce.createRange(d.modelRange.start,ce.createPositionAfter(he[he.length-1])),I.updateConversionResult(pe,d)}}class Ot extends g.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute({startIndex:d=1}={}){const I=this.editor.model,N=I.document;let J=Array.from(N.selection.getSelectedBlocks()).filter(ce=>B(ce)&&ce.getAttribute("listType")=="numbered");J=re(J),I.change(ce=>{for(const pe of J)ce.setAttribute("listStart",d>=0?d:1,pe)})}_getValue(){const d=this.editor.model.document,I=(0,w.first)(d.selection.getSelectedBlocks());return I&&B(I)&&I.getAttribute("listType")=="numbered"?I.getAttribute("listStart"):null}}const Ut={},oi={},ri={},wi=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:k,typeAttribute:d,listType:I}of wi)Ut[k]=I,oi[k]=d,d&&(ri[d]=k);function Ii(){return wi.map(k=>k.listStyle)}function Li(k){return Ut[k]||null}function yi(k){return ri[k]||null}function ji(k){return oi[k]||null}class Ki extends g.Command{constructor(d,I,N){super(d),this.defaultType=I,this._supportedTypes=N}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){const I=this.editor.model,N=I.document;I.change(J=>{this._tryToConvertItemsToList(d);let ce=Array.from(N.selection.getSelectedBlocks()).filter(pe=>pe.hasAttribute("listType"));if(ce.length){ce=re(ce);for(const pe of ce)J.setAttribute("listStyle",d.type||this.defaultType,pe)}})}isStyleTypeSupported(d){return!this._supportedTypes||this._supportedTypes.includes(d)}_getValue(){const d=(0,w.first)(this.editor.model.document.selection.getSelectedBlocks());return B(d)?d.getAttribute("listStyle"):null}_checkEnabled(){const d=this.editor,I=d.commands.get("numberedList"),N=d.commands.get("bulletedList");return I.isEnabled||N.isEnabled}_tryToConvertItemsToList(d){if(!d.type)return;const I=Li(d.type);if(!I)return;const N=this.editor,J=`${I}List`;N.commands.get(J).value||N.execute(J)}}class Mi extends g.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute(d={}){const I=this.editor.model,N=I.document;let J=Array.from(N.selection.getSelectedBlocks()).filter(ce=>B(ce)&&ce.getAttribute("listType")=="numbered");J=re(J),I.change(ce=>{for(const pe of J)ce.setAttribute("listReversed",!!d.reversed,pe)})}_getValue(){const d=this.editor.model.document,I=(0,w.first)(d.selection.getSelectedBlocks());return B(I)&&I.getAttribute("listType")=="numbered"?I.getAttribute("listReversed"):null}}function tn(k){return(d,I,N)=>{const{writer:J,schema:ce,consumable:pe}=N;if(pe.test(I.viewItem,k.viewConsumables)===!1)return;I.modelRange||Object.assign(I,N.convertChildren(I.viewItem,I.modelCursor));let he=!1;for(const ve of I.modelRange.getItems({shallow:!0}))ce.checkAttribute(ve,k.attributeName)&&k.appliesToListItem(ve)&&(ve.hasAttribute(k.attributeName)||(J.setAttribute(k.attributeName,k.getAttributeOnUpcast(I.viewItem),ve),he=!0));he&&pe.consume(I.viewItem,k.viewConsumables)}}class Zt extends g.Plugin{static get pluginName(){return"DocumentListPropertiesUtils"}getAllSupportedStyleTypes(){return Ii()}getListTypeFromListStyleType(d){return Li(d)}getListStyleTypeFromTypeAttribute(d){return yi(d)}getTypeAttributeFromListStyleType(d){return ji(d)}}const wn="default";class Ne extends g.Plugin{static get requires(){return[st,Zt]}static get pluginName(){return"DocumentListPropertiesEditing"}constructor(d){super(d),d.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1})}init(){const d=this.editor,I=d.model,N=d.plugins.get(st),J=function(ce){const pe=[];if(ce.styles){const he=typeof ce.styles=="object"&&ce.styles.useAttribute;pe.push({attributeName:"listStyle",defaultValue:wn,viewConsumables:{styles:"list-style-type"},addCommand(ve){let Re=Ii();he&&(Re=Re.filter(We=>!!ji(We))),ve.commands.add("listStyle",new Ki(ve,wn,Re))},appliesToListItem:ve=>ve.getAttribute("listType")=="numbered"||ve.getAttribute("listType")=="bulleted",hasValidAttribute(ve){if(!this.appliesToListItem(ve))return!ve.hasAttribute("listStyle");if(!ve.hasAttribute("listStyle"))return!1;const Re=ve.getAttribute("listStyle");return Re==wn||Li(Re)==ve.getAttribute("listType")},setAttributeOnDowncast(ve,Re,We){if(Re&&Re!==wn){if(!he)return void ve.setStyle("list-style-type",Re,We);{const Ye=ji(Re);if(Ye)return void ve.setAttribute("type",Ye,We)}}ve.removeStyle("list-style-type",We),ve.removeAttribute("type",We)},getAttributeOnUpcast(ve){const Re=ve.getStyle("list-style-type");if(Re)return Re;const We=ve.getAttribute("type");return We?yi(We):wn}})}return ce.reversed&&pe.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(he){he.commands.add("listReversed",new Mi(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",hasValidAttribute(he){return this.appliesToListItem(he)==he.hasAttribute("listReversed")},setAttributeOnDowncast(he,ve,Re){ve?he.setAttribute("reversed","reversed",Re):he.removeAttribute("reversed",Re)},getAttributeOnUpcast:he=>he.hasAttribute("reversed")}),ce.startIndex&&pe.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(he){he.commands.add("listStart",new Ot(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",hasValidAttribute(he){return this.appliesToListItem(he)==he.hasAttribute("listStart")},setAttributeOnDowncast(he,ve,Re){ve==0||ve>1?he.setAttribute("start",ve,Re):he.removeAttribute("start",Re)},getAttributeOnUpcast(he){const ve=he.getAttribute("start");return ve>=0?ve:1}}),pe}(d.config.get("list.properties"));for(const ce of J)ce.addCommand(d),I.schema.extend("$listItem",{allowAttributes:ce.attributeName}),N.registerDowncastStrategy({scope:"list",attributeName:ce.attributeName,setAttributeOnDowncast(pe,he,ve){ce.setAttributeOnDowncast(pe,he,ve)}});d.conversion.for("upcast").add(ce=>{for(const pe of J)ce.on("element:ol",tn(pe)),ce.on("element:ul",tn(pe))}),N.on("checkAttributes:list",(ce,{viewElement:pe,modelAttributes:he})=>{for(const ve of J)ve.getAttributeOnUpcast(pe)!=he[ve.attributeName]&&(ce.return=!0,ce.stop())}),this.listenTo(d.commands.get("indentList"),"afterExecute",(ce,pe)=>{I.change(he=>{for(const ve of pe)for(const Re of J)Re.appliesToListItem(ve)&&he.setAttribute(Re.attributeName,Re.defaultValue,ve)})}),N.on("postFixer",(ce,{listNodes:pe,writer:he})=>{for(const{node:ve}of pe)for(const Re of J)Re.hasValidAttribute(ve)||(Re.appliesToListItem(ve)?he.setAttribute(Re.attributeName,Re.defaultValue,ve):he.removeAttribute(Re.attributeName,ve),ce.return=!0)}),N.on("postFixer",(ce,{listNodes:pe,writer:he})=>{for(const{node:ve,previousNodeInList:Re}of pe)if(Re&&Re.getAttribute("listType")==ve.getAttribute("listType"))for(const We of J){const{attributeName:Ye}=We;if(!We.appliesToListItem(ve))continue;const pt=Re.getAttribute(Ye);ve.getAttribute(Ye)!=pt&&(he.setAttribute(Ye,pt,ve),ce.return=!0)}})}}var H=te(463),X={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(H.Z,X),H.Z.locals;class se extends Ft.View{constructor(d,{enabledProperties:I,styleButtonViews:N,styleGridAriaLabel:J}){super(d),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new w.FocusTracker,this.keystrokes=new w.KeystrokeHandler,this.focusables=new Ft.ViewCollection;const ce=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new Ft.FocusCycler({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),I.styles?(this.stylesView=this._createStylesView(N,J),this.children.add(this.stylesView)):ce.push("ck-list-properties_without-styles"),(I.startIndex||I.reversed)&&(this._addNumberedListPropertyViews(I),ce.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:ce},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const d of this.stylesView.children)this.stylesView.focusTracker.add(d.element);(0,Ft.addKeyboardHandlingForGrid)({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>w.global.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const d=I=>I.stopPropagation();this.keystrokes.set("arrowright",d),this.keystrokes.set("arrowleft",d),this.keystrokes.set("arrowup",d),this.keystrokes.set("arrowdown",d)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(d,I){const N=new Ft.View(this.locale);return N.children=N.createCollection(),N.children.addMany(d),N.setTemplate({tag:"div",attributes:{"aria-label":I,class:["ck","ck-list-styles-list"]},children:N.children}),N.children.delegate("execute").to(this),N.focus=function(){this.children.first.focus()},N.focusTracker=new w.FocusTracker,N.keystrokes=new w.KeystrokeHandler,N.render(),N.keystrokes.listenTo(N.element),N}_addNumberedListPropertyViews(d){const I=this.locale.t,N=[];d.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),N.push(this.startIndexFieldView)),d.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),N.push(this.reversedSwitchButtonView)),d.styles?(this.additionalPropertiesCollapsibleView=new Ft.CollapsibleView(this.locale,N),this.additionalPropertiesCollapsibleView.set({label:I("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(N,"isEnabled",(...J)=>J.some(ce=>ce)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(J,ce,pe)=>{pe||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(N)}_createStartIndexField(){const d=this.locale.t,I=new Ft.LabeledFieldView(this.locale,Ft.createLabeledInputNumber);return I.set({label:d("Start at"),class:"ck-numbered-list-properties__start-index"}),I.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),I.fieldView.on("input",()=>{const N=I.fieldView.element,J=N.valueAsNumber;Number.isNaN(J)||(N.checkValidity()?this.fire("listStart",{startIndex:J}):I.errorText=d("Start index must be greater than 0."))}),I}_createReversedSwitchButton(){const d=this.locale.t,I=new Ft.SwitchButtonView(this.locale);return I.set({withText:!0,label:d("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),I.delegate("execute").to(this,"listReversed"),I}}var be=te(989),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(be.Z,ht),be.Z.locals;class Rt extends g.Plugin{static get pluginName(){return"ListPropertiesUI"}init(){const d=this.editor,I=d.locale.t,N=d.config.get("list.properties");N.styles&&d.ui.componentFactory.add("bulletedList",Yt({editor:d,parentCommandName:"bulletedList",buttonLabel:I("Bulleted List"),buttonIcon:Le,styleGridAriaLabel:I("Bulleted list styles toolbar"),styleDefinitions:[{label:I("Toggle the disc list style"),tooltip:I("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:I("Toggle the circle list style"),tooltip:I("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:I("Toggle the square list style"),tooltip:I("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(N.styles||N.startIndex||N.reversed)&&d.ui.componentFactory.add("numberedList",Yt({editor:d,parentCommandName:"numberedList",buttonLabel:I("Numbered List"),buttonIcon:ye,styleGridAriaLabel:I("Numbered list styles toolbar"),styleDefinitions:[{label:I("Toggle the decimal list style"),tooltip:I("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:I("Toggle the decimal with leading zero list style"),tooltip:I("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the lower\u2013roman list style"),tooltip:I("Lower\u2013roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the upper\u2013roman list style"),tooltip:I("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the lower\u2013latin list style"),tooltip:I("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:I("Toggle the upper\u2013latin list style"),tooltip:I("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function Yt({editor:k,parentCommandName:d,buttonLabel:I,buttonIcon:N,styleGridAriaLabel:J,styleDefinitions:ce}){const pe=k.commands.get(d);return he=>{const ve=(0,Ft.createDropdown)(he,Ft.SplitButtonView),Re=ve.buttonView;return ve.bind("isEnabled").to(pe),ve.class="ck-list-styles-dropdown",Re.on("execute",()=>{k.execute(d),k.editing.view.focus()}),Re.set({label:I,icon:N,tooltip:!0,isToggleable:!0}),Re.bind("isOn").to(pe,"value",We=>!!We),ve.once("change:isOpen",()=>{const We=function({editor:Ye,dropdownView:pt,parentCommandName:Ct,styleDefinitions:St,styleGridAriaLabel:xt}){const ii=Ye.locale,Jt=Ye.config.get("list.properties");let bi=null;if(Ct!="numberedList"&&(Jt.startIndex=!1,Jt.reversed=!1),Jt.styles){const Hi=Ye.commands.get("listStyle"),sn=function({editor:Cn,listStyleCommand:pr,parentCommandName:$r}){const Dr=Cn.locale,Xr=Cn.commands.get($r);return({label:fr,type:Jn,icon:Ir,tooltip:zr})=>{const Fn=new Ft.ButtonView(Dr);return Fn.set({label:fr,icon:Ir,tooltip:zr}),pr.on("change:value",()=>{Fn.isOn=pr.value===Jn}),Fn.on("execute",()=>{Xr.value?pr.value!==Jn?Cn.execute("listStyle",{type:Jn}):Cn.execute("listStyle",{type:pr.defaultType}):Cn.model.change(()=>{Cn.execute("listStyle",{type:Jn})})}),Fn}}({editor:Ye,parentCommandName:Ct,listStyleCommand:Hi}),mn=typeof Hi.isStyleTypeSupported=="function"?Cn=>Hi.isStyleTypeSupported(Cn.type):()=>!0;bi=St.filter(mn).map(sn)}const Si=new se(ii,{styleGridAriaLabel:xt,enabledProperties:Jt,styleButtonViews:bi});if(Jt.styles&&(0,Ft.focusChildOnDropdownOpen)(pt,()=>Si.stylesView.children.find(Hi=>Hi.isOn)),Jt.startIndex){const Hi=Ye.commands.get("listStart");Si.startIndexFieldView.bind("isEnabled").to(Hi),Si.startIndexFieldView.fieldView.bind("value").to(Hi),Si.on("listStart",(sn,mn)=>Ye.execute("listStart",mn))}if(Jt.reversed){const Hi=Ye.commands.get("listReversed");Si.reversedSwitchButtonView.bind("isEnabled").to(Hi),Si.reversedSwitchButtonView.bind("isOn").to(Hi,"value",sn=>!!sn),Si.on("listReversed",()=>{const sn=Hi.value;Ye.execute("listReversed",{reversed:!sn})})}return Si.delegate("execute").to(pt),Si}({editor:k,dropdownView:ve,parentCommandName:d,styleGridAriaLabel:J,styleDefinitions:ce});ve.panelView.children.add(We)}),ve.on("execute",()=>{k.editing.view.focus()}),ve}}class _t extends g.Plugin{static get requires(){return[Ne,Rt]}static get pluginName(){return"DocumentListProperties"}}class Ce extends g.Command{constructor(d,I){super(d),this._indentBy=I=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const d=this.editor.model,I=d.document;let N=Array.from(I.selection.getSelectedBlocks());d.change(J=>{const ce=N[N.length-1];let pe=ce.nextSibling;for(;pe&&pe.name=="listItem"&&pe.getAttribute("listIndent")>ce.getAttribute("listIndent");)N.push(pe),pe=pe.nextSibling;this._indentBy<0&&(N=N.reverse());for(const he of N){const ve=he.getAttribute("listIndent")+this._indentBy;ve<0?J.rename(he,"paragraph"):J.setAttribute("listIndent",ve,he)}this.fire("_executeCleanup",N)})}_checkEnabled(){const d=(0,w.first)(this.editor.model.document.selection.getSelectedBlocks());if(!d||!d.is("element","listItem"))return!1;if(this._indentBy>0){const I=d.getAttribute("listIndent"),N=d.getAttribute("listType");let J=d.previousSibling;for(;J&&J.is("element","listItem")&&J.getAttribute("listIndent")>=I;){if(J.getAttribute("listIndent")==I)return J.getAttribute("listType")==N;J=J.previousSibling}return!1}return!0}}class ze extends g.Command{constructor(d,I){super(d),this.type=I}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){const I=this.editor.model,N=I.document,J=Array.from(N.selection.getSelectedBlocks()).filter(pe=>Ke(pe,I.schema)),ce=d.forceValue!==void 0?!d.forceValue:this.value;I.change(pe=>{if(ce){let he=J[J.length-1].nextSibling,ve=Number.POSITIVE_INFINITY,Re=[];for(;he&&he.name=="listItem"&&he.getAttribute("listIndent")!==0;){const We=he.getAttribute("listIndent");We<ve&&(ve=We);const Ye=We-ve;Re.push({element:he,listIndent:Ye}),he=he.nextSibling}Re=Re.reverse();for(const We of Re)pe.setAttribute("listIndent",We.listIndent,We.element)}if(!ce){let he=Number.POSITIVE_INFINITY;for(const ve of J)ve.is("element","listItem")&&ve.getAttribute("listIndent")<he&&(he=ve.getAttribute("listIndent"));he=he===0?1:he,nt(J,!0,he),nt(J,!1,he)}for(const he of J.reverse())ce&&he.name=="listItem"?pe.rename(he,"paragraph"):ce||he.name=="listItem"?ce||he.name!="listItem"||he.getAttribute("listType")==this.type||pe.setAttribute("listType",this.type,he):(pe.setAttributes({listType:this.type,listIndent:0},he),pe.rename(he,"listItem"));this.fire("_executeCleanup",J)})}_getValue(){const d=(0,w.first)(this.editor.model.document.selection.getSelectedBlocks());return!!d&&d.is("element","listItem")&&d.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const d=this.editor.model.document.selection,I=this.editor.model.schema,N=(0,w.first)(d.getSelectedBlocks());return!!N&&Ke(N,I)}}function nt(k,d,I){const N=d?k[0]:k[k.length-1];if(N.is("element","listItem")){let J=N[d?"previousSibling":"nextSibling"],ce=N.getAttribute("listIndent");for(;J&&J.is("element","listItem")&&J.getAttribute("listIndent")>=I;)ce>J.getAttribute("listIndent")&&(ce=J.getAttribute("listIndent")),J.getAttribute("listIndent")==ce&&k[d?"unshift":"push"](J),J=J[d?"previousSibling":"nextSibling"]}}function Ke(k,d){return d.checkChild(k.parent,"listItem")&&!d.isObject(k)}class yt extends g.Plugin{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(d){return at(d)}getSelectedListItems(d){return Vi(d)}getSiblingNodes(d,I){return Di(d,I)}}function si(k){return(d,I,N)=>{const J=N.consumable;if(!J.test(I.item,"insert")||!J.test(I.item,"attribute:listType")||!J.test(I.item,"attribute:listIndent"))return;J.consume(I.item,"insert"),J.consume(I.item,"attribute:listType"),J.consume(I.item,"attribute:listIndent");const ce=I.item;ui(ce,Gt(ce,N),N,k)}}const ni=(k,d,I)=>{if(!I.consumable.test(d.item,k.name))return;const N=I.mapper.toViewElement(d.item),J=I.writer;J.breakContainer(J.createPositionBefore(N)),J.breakContainer(J.createPositionAfter(N));const ce=N.parent,pe=d.attributeNewValue=="numbered"?"ol":"ul";J.rename(pe,ce)},ki=(k,d,I)=>{I.consumable.consume(d.item,k.name);const N=I.mapper.toViewElement(d.item).parent,J=I.writer;Vt(J,N,N.nextSibling),Vt(J,N.previousSibling,N)},di=(k,d,I)=>{if(I.consumable.test(d.item,k.name)&&d.item.name!="listItem"){let N=I.mapper.toViewPosition(d.range.start);const J=I.writer,ce=[];for(;(N.parent.name=="ul"||N.parent.name=="ol")&&(N=J.breakContainer(N),N.parent.name=="li");){const pe=N,he=J.createPositionAt(N.parent,"end");if(!pe.isEqual(he)){const ve=J.remove(J.createRange(pe,he));ce.push(ve)}N=J.createPositionAfter(N.parent)}if(ce.length>0){for(let pe=0;pe<ce.length;pe++){const he=N.nodeBefore;if(N=J.insert(N,ce[pe]).end,pe>0){const ve=Vt(J,he,he.nextSibling);ve&&ve.parent==he&&N.offset--}}Vt(J,N.nodeBefore,N.nodeAfter)}}},Ti=(k,d,I)=>{const N=I.mapper.toViewPosition(d.position),J=N.nodeBefore,ce=N.nodeAfter;Vt(I.writer,J,ce)},Ni=(k,d,I)=>{if(I.consumable.consume(d.viewItem,{name:!0})){const N=I.writer,J=N.createElement("listItem"),ce=function(ve){let Re=0,We=ve.parent;for(;We;){if(We.is("element","li"))Re++;else{const Ye=We.previousSibling;Ye&&Ye.is("element","li")&&Re++}We=We.parent}return Re}(d.viewItem);N.setAttribute("listIndent",ce,J);const pe=d.viewItem.parent&&d.viewItem.parent.name=="ol"?"numbered":"bulleted";if(N.setAttribute("listType",pe,J),!I.safeInsert(J,d.modelCursor))return;const he=function(ve,Re,We){const{writer:Ye,schema:pt}=We;let Ct=Ye.createPositionAfter(ve);for(const St of Re)if(St.name=="ul"||St.name=="ol")Ct=We.convertItem(St,Ct).modelCursor;else{const xt=We.convertItem(St,Ye.createPositionAt(ve,"end")),ii=xt.modelRange.start.nodeAfter;ii&&ii.is("element")&&!pt.checkChild(ve,ii.name)&&(ve=xt.modelCursor.parent.is("element","listItem")?xt.modelCursor.parent:kn(xt.modelCursor),Ct=Ye.createPositionAfter(ve))}return Ct}(J,d.viewItem.getChildren(),I);d.modelRange=N.createRange(d.modelCursor,he),I.updateConversionResult(J,d)}},Gi=(k,d,I)=>{if(I.consumable.test(d.viewItem,{name:!0})){const N=Array.from(d.viewItem.getChildren());for(const J of N)!(J.is("element","li")||on(J))&&J._remove()}},rn=(k,d,I)=>{if(I.consumable.test(d.viewItem,{name:!0})){if(d.viewItem.childCount===0)return;const N=[...d.viewItem.getChildren()];let J=!1;for(const ce of N)J&&!on(ce)&&ce._remove(),on(ce)&&(J=!0)}};function $i(k){return(d,I)=>{if(I.isPhantom)return;const N=I.modelPosition.nodeBefore;if(N&&N.is("element","listItem")){const J=I.mapper.toViewElement(N),ce=J.getAncestors().find(on),pe=k.createPositionAt(J,0).getWalker();for(const he of pe){if(he.type=="elementStart"&&he.item.is("element","li")){I.viewPosition=he.previousPosition;break}if(he.type=="elementEnd"&&he.item==ce){I.viewPosition=he.nextPosition;break}}}}}const hn=function(k,[d,I]){const N=this;let J,ce=d.is("documentFragment")?d.getChild(0):d;if(J=I?N.createSelection(I):N.document.selection,ce&&ce.is("element","listItem")){const pe=J.getFirstPosition();let he=null;if(pe.parent.is("element","listItem")?he=pe.parent:pe.nodeBefore&&pe.nodeBefore.is("element","listItem")&&(he=pe.nodeBefore),he){const ve=he.getAttribute("listIndent");if(ve>0)for(;ce&&ce.is("element","listItem");)ce._setAttribute("listIndent",ce.getAttribute("listIndent")+ve),ce=ce.nextSibling}}};function kn(k){const d=new oe.TreeWalker({startPosition:k});let I;do I=d.next();while(!I.value.item.is("element","listItem"));return I.value.item}function qn(k,d,I,N,J,ce){const pe=hi(d.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:k}),he=J.mapper,ve=J.writer,Re=pe?pe.getAttribute("listIndent"):null;let We;if(pe)if(Re==k){const Ye=he.toViewElement(pe).parent;We=ve.createPositionAfter(Ye)}else{const Ye=ce.createPositionAt(pe,"end");We=he.toViewPosition(Ye)}else We=I;We=ti(We);for(const Ye of[...N.getChildren()])on(Ye)&&(We=ve.move(ve.createRangeOn(Ye),We).end,Vt(ve,Ye,Ye.nextSibling),Vt(ve,Ye.previousSibling,Ye))}function on(k){return k.is("element","ol")||k.is("element","ul")}class En extends g.Plugin{static get pluginName(){return"ListEditing"}static get requires(){return[E.Enter,R.Delete,yt]}init(){const d=this.editor;d.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const I=d.data,N=d.editing;var J;d.model.document.registerPostFixer(pe=>function(he,ve){const Re=he.document.differ.getChanges(),We=new Map;let Ye=!1;for(const xt of Re)if(xt.type=="insert"&&xt.name=="listItem")pt(xt.position);else if(xt.type=="insert"&&xt.name!="listItem"){if(xt.name!="$text"){const ii=xt.position.nodeAfter;ii.hasAttribute("listIndent")&&(ve.removeAttribute("listIndent",ii),Ye=!0),ii.hasAttribute("listType")&&(ve.removeAttribute("listType",ii),Ye=!0),ii.hasAttribute("listStyle")&&(ve.removeAttribute("listStyle",ii),Ye=!0),ii.hasAttribute("listReversed")&&(ve.removeAttribute("listReversed",ii),Ye=!0),ii.hasAttribute("listStart")&&(ve.removeAttribute("listStart",ii),Ye=!0);for(const Jt of Array.from(he.createRangeIn(ii)).filter(bi=>bi.item.is("element","listItem")))pt(Jt.previousPosition)}pt(xt.position.getShiftedBy(xt.length))}else xt.type=="remove"&&xt.name=="listItem"?pt(xt.position):(xt.type=="attribute"&&xt.attributeKey=="listIndent"||xt.type=="attribute"&&xt.attributeKey=="listType")&&pt(xt.range.start);for(const xt of We.values())Ct(xt),St(xt);return Ye;function pt(xt){const ii=xt.nodeBefore;if(ii&&ii.is("element","listItem")){let Jt=ii;if(We.has(Jt))return;for(let bi=Jt.previousSibling;bi&&bi.is("element","listItem");bi=Jt.previousSibling)if(Jt=bi,We.has(Jt))return;We.set(ii,Jt)}else{const Jt=xt.nodeAfter;Jt&&Jt.is("element","listItem")&&We.set(Jt,Jt)}}function Ct(xt){let ii=0,Jt=null;for(;xt&&xt.is("element","listItem");){const bi=xt.getAttribute("listIndent");if(bi>ii){let Si;Jt===null?(Jt=bi-ii,Si=ii):(Jt>bi&&(Jt=bi),Si=bi-Jt),ve.setAttribute("listIndent",Si,xt),Ye=!0}else Jt=null,ii=xt.getAttribute("listIndent")+1;xt=xt.nextSibling}}function St(xt){let ii=[],Jt=null;for(;xt&&xt.is("element","listItem");){const bi=xt.getAttribute("listIndent");if(Jt&&Jt.getAttribute("listIndent")>bi&&(ii=ii.slice(0,bi+1)),bi!=0)if(ii[bi]){const Si=ii[bi];xt.getAttribute("listType")!=Si&&(ve.setAttribute("listType",Si,xt),Ye=!0)}else ii[bi]=xt.getAttribute("listType");Jt=xt,xt=xt.nextSibling}}}(d.model,pe)),N.mapper.registerViewToModelLength("li",In),I.mapper.registerViewToModelLength("li",In),N.mapper.on("modelToViewPosition",$i(N.view)),N.mapper.on("viewToModelPosition",(J=d.model,(pe,he)=>{const ve=he.viewPosition,Re=ve.parent,We=he.mapper;if(Re.name=="ul"||Re.name=="ol"){if(ve.isAtEnd){const Ye=We.toModelElement(ve.nodeBefore),pt=We.getModelLength(ve.nodeBefore);he.modelPosition=J.createPositionBefore(Ye).getShiftedBy(pt)}else{const Ye=We.toModelElement(ve.nodeAfter);he.modelPosition=J.createPositionBefore(Ye)}pe.stop()}else if(Re.name=="li"&&ve.nodeBefore&&(ve.nodeBefore.name=="ul"||ve.nodeBefore.name=="ol")){const Ye=We.toModelElement(Re);let pt=1,Ct=ve.nodeBefore;for(;Ct&&on(Ct);)pt+=We.getModelLength(Ct),Ct=Ct.previousSibling;he.modelPosition=J.createPositionBefore(Ye).getShiftedBy(pt),pe.stop()}})),I.mapper.on("modelToViewPosition",$i(N.view)),d.conversion.for("editingDowncast").add(pe=>{pe.on("insert",di,{priority:"high"}),pe.on("insert:listItem",si(d.model)),pe.on("attribute:listType:listItem",ni,{priority:"high"}),pe.on("attribute:listType:listItem",ki,{priority:"low"}),pe.on("attribute:listIndent:listItem",function(he){return(ve,Re,We)=>{if(!We.consumable.consume(Re.item,"attribute:listIndent"))return;const Ye=We.mapper.toViewElement(Re.item),pt=We.writer;pt.breakContainer(pt.createPositionBefore(Ye)),pt.breakContainer(pt.createPositionAfter(Ye));const Ct=Ye.parent,St=Ct.previousSibling,xt=pt.createRangeOn(Ct);pt.remove(xt),St&&St.nextSibling&&Vt(pt,St,St.nextSibling),qn(Re.attributeOldValue+1,Re.range.start,xt.start,Ye,We,he),ui(Re.item,Ye,We,he);for(const ii of Re.item.getChildren())We.consumable.consume(ii,"insert")}}(d.model)),pe.on("remove:listItem",function(he){return(ve,Re,We)=>{const Ye=We.mapper.toViewPosition(Re.position).getLastMatchingPosition(Jt=>!Jt.item.is("element","li")).nodeAfter,pt=We.writer;pt.breakContainer(pt.createPositionBefore(Ye)),pt.breakContainer(pt.createPositionAfter(Ye));const Ct=Ye.parent,St=Ct.previousSibling,xt=pt.createRangeOn(Ct),ii=pt.remove(xt);St&&St.nextSibling&&Vt(pt,St,St.nextSibling),qn(We.mapper.toModelElement(Ye).getAttribute("listIndent")+1,Re.position,xt.start,Ye,We,he);for(const Jt of pt.createRangeIn(ii).getItems())We.mapper.unbindViewElement(Jt);ve.stop()}}(d.model)),pe.on("remove",Ti,{priority:"low"})}),d.conversion.for("dataDowncast").add(pe=>{pe.on("insert",di,{priority:"high"}),pe.on("insert:listItem",si(d.model))}),d.conversion.for("upcast").add(pe=>{pe.on("element:ul",Gi,{priority:"high"}),pe.on("element:ol",Gi,{priority:"high"}),pe.on("element:li",rn,{priority:"high"}),pe.on("element:li",Ni)}),d.model.on("insertContent",hn,{priority:"high"}),d.commands.add("numberedList",new ze(d,"numbered")),d.commands.add("bulletedList",new ze(d,"bulleted")),d.commands.add("indentList",new Ce(d,"forward")),d.commands.add("outdentList",new Ce(d,"backward"));const ce=N.view.document;this.listenTo(ce,"enter",(pe,he)=>{const ve=this.editor.model.document,Re=ve.selection.getLastPosition().parent;ve.selection.isCollapsed&&Re.name=="listItem"&&Re.isEmpty&&(this.editor.execute("outdentList"),he.preventDefault(),pe.stop())},{context:"li"}),this.listenTo(ce,"delete",(pe,he)=>{if(he.direction!=="backward")return;const ve=this.editor.model.document.selection;if(!ve.isCollapsed)return;const Re=ve.getFirstPosition();if(!Re.isAtStart)return;const We=Re.parent;We.name==="listItem"&&(We.previousSibling&&We.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),he.preventDefault(),pe.stop()))},{context:"li"}),this.listenTo(d.editing.view.document,"tab",(pe,he)=>{const ve=he.shiftKey?"outdentList":"indentList";this.editor.commands.get(ve).isEnabled&&(d.execute(ve),he.stopPropagation(),he.preventDefault(),pe.stop())},{context:"li"})}afterInit(){const d=this.editor.commands,I=d.get("indent"),N=d.get("outdent");I&&I.registerChildCommand(d.get("indentList")),N&&N.registerChildCommand(d.get("outdentList"))}}function In(k){let d=1;for(const I of k.getChildren())if(I.name=="ul"||I.name=="ol")for(const N of I.getChildren())d+=In(N);return d}class Yn extends g.Plugin{static get requires(){return[En,Ge]}static get pluginName(){return"List"}}class ur extends g.Command{constructor(d,I){super(d),this.defaultType=I}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(d={}){this._tryToConvertItemsToList(d);const I=this.editor.model,N=Vi(I);N.length&&I.change(J=>{for(const ce of N)J.setAttribute("listStyle",d.type||this.defaultType,ce)})}_getValue(){const d=this.editor.model.document.selection.getFirstPosition().parent;return d&&d.is("element","listItem")?d.getAttribute("listStyle"):null}_checkEnabled(){const d=this.editor,I=d.commands.get("numberedList"),N=d.commands.get("bulletedList");return I.isEnabled||N.isEnabled}_tryToConvertItemsToList(d){if(!d.type)return;const I=at(d.type);if(!I)return;const N=this.editor,J=`${I}List`;N.commands.get(J).value||N.execute(J)}}class rr extends g.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute(d={}){const I=this.editor.model,N=Vi(I).filter(J=>J.getAttribute("listType")=="numbered");I.change(J=>{for(const ce of N)J.setAttribute("listReversed",!!d.reversed,ce)})}_getValue(){const d=this.editor.model.document.selection.getFirstPosition().parent;return d&&d.is("element","listItem")&&d.getAttribute("listType")=="numbered"?d.getAttribute("listReversed"):null}}class or extends g.Command{refresh(){const d=this._getValue();this.value=d,this.isEnabled=d!=null}execute({startIndex:d=1}={}){const I=this.editor.model,N=Vi(I).filter(J=>J.getAttribute("listType")=="numbered");I.change(J=>{for(const ce of N)J.setAttribute("listStart",d>=0?d:1,ce)})}_getValue(){const d=this.editor.model.document.selection.getFirstPosition().parent;return d&&d.is("element","listItem")&&d.getAttribute("listType")=="numbered"?d.getAttribute("listStart"):null}}const Ht="default";class K extends g.Plugin{static get requires(){return[En]}static get pluginName(){return"ListPropertiesEditing"}constructor(d){super(d),d.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const d=this.editor,I=d.model,N=function(ce){const pe=[];return ce.styles&&pe.push({attributeName:"listStyle",defaultValue:Ht,addCommand(he){he.commands.add("listStyle",new ur(he,Ht))},appliesToListItem:()=>!0,setAttributeOnDowncast(he,ve,Re){ve&&ve!==Ht?he.setStyle("list-style-type",ve,Re):he.removeStyle("list-style-type",Re)},getAttributeOnUpcast:he=>he.getStyle("list-style-type")||Ht}),ce.reversed&&pe.push({attributeName:"listReversed",defaultValue:!1,addCommand(he){he.commands.add("listReversed",new rr(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",setAttributeOnDowncast(he,ve,Re){ve?he.setAttribute("reversed","reversed",Re):he.removeAttribute("reversed",Re)},getAttributeOnUpcast:he=>he.hasAttribute("reversed")}),ce.startIndex&&pe.push({attributeName:"listStart",defaultValue:1,addCommand(he){he.commands.add("listStart",new or(he))},appliesToListItem:he=>he.getAttribute("listType")=="numbered",setAttributeOnDowncast(he,ve,Re){ve==0||ve>1?he.setAttribute("start",ve,Re):he.removeAttribute("start",Re)},getAttributeOnUpcast(he){const ve=he.getAttribute("start");return ve>=0?ve:1}}),pe}(d.config.get("list.properties"));I.schema.extend("listItem",{allowAttributes:N.map(ce=>ce.attributeName)});for(const ce of N)ce.addCommand(d);var J;this.listenTo(d.commands.get("indentList"),"_executeCleanup",function(ce,pe){return(he,ve)=>{const Re=ve[0],We=Re.getAttribute("listIndent"),Ye=ve.filter(Ct=>Ct.getAttribute("listIndent")===We);let pt=null;Re.previousSibling.getAttribute("listIndent")+1!==We&&(pt=hi(Re.previousSibling,{sameIndent:!0,direction:"backward",listIndent:We})),ce.model.change(Ct=>{for(const St of Ye)for(const xt of pe)if(xt.appliesToListItem(St)){const ii=pt==null?xt.defaultValue:pt.getAttribute(xt.attributeName);Ct.setAttribute(xt.attributeName,ii,St)}})}}(d,N)),this.listenTo(d.commands.get("outdentList"),"_executeCleanup",function(ce,pe){return(he,ve)=>{if(!(ve=ve.reverse().filter(pt=>pt.is("element","listItem"))).length)return;const Re=ve[0].getAttribute("listIndent"),We=ve[0].getAttribute("listType");let Ye=ve[0].previousSibling;if(Ye.is("element","listItem"))for(;Ye.getAttribute("listIndent")!==Re;)Ye=Ye.previousSibling;else Ye=null;Ye||(Ye=ve[ve.length-1].nextSibling),Ye&&Ye.is("element","listItem")&&Ye.getAttribute("listType")===We&&ce.model.change(pt=>{const Ct=ve.filter(St=>St.getAttribute("listIndent")===Re);for(const St of Ct)for(const xt of pe)if(xt.appliesToListItem(St)){const ii=xt.attributeName,Jt=Ye.getAttribute(ii);pt.setAttribute(ii,Jt,St)}})}}(d,N)),this.listenTo(d.commands.get("bulletedList"),"_executeCleanup",Be(d)),this.listenTo(d.commands.get("numberedList"),"_executeCleanup",Be(d)),I.document.registerPostFixer(function(ce,pe){return he=>{let ve=!1;const Re=et(ce.model.document.differ.getChanges()).filter(Ye=>Ye.getAttribute("listType")!=="todo");if(!Re.length)return ve;let We=Re[Re.length-1].nextSibling;if((!We||!We.is("element","listItem"))&&(We=Re[0].previousSibling,We)){const Ye=Re[0].getAttribute("listIndent");for(;We.is("element","listItem")&&We.getAttribute("listIndent")!==Ye&&(We=We.previousSibling,We););}for(const Ye of pe){const pt=Ye.attributeName;for(const Ct of Re)if(Ye.appliesToListItem(Ct))if(Ct.hasAttribute(pt)){const St=Ct.previousSibling;Ue(St,Ct,Ye.attributeName)&&(he.setAttribute(pt,St.getAttribute(pt),Ct),ve=!0)}else Ae(We,Ct,Ye)?he.setAttribute(pt,We.getAttribute(pt),Ct):he.setAttribute(pt,Ye.defaultValue,Ct),ve=!0;else he.removeAttribute(pt,Ct)}return ve}}(d,N)),d.conversion.for("upcast").add((J=N,ce=>{ce.on("element:li",(pe,he,ve)=>{if(!he.modelRange)return;const Re=he.viewItem.parent,We=he.modelRange.start.nodeAfter||he.modelRange.end.nodeBefore;for(const Ye of J)if(Ye.appliesToListItem(We)){const pt=Ye.getAttributeOnUpcast(Re);ve.writer.setAttribute(Ye.attributeName,pt,We)}},{priority:"low"})})),d.conversion.for("downcast").add(function(ce){return he=>{for(const ve of ce)he.on(`attribute:${ve.attributeName}:listItem`,(Re,We,Ye)=>{const pt=Ye.writer,Ct=We.item,St=hi(Ct.previousSibling,{sameIndent:!0,listIndent:Ct.getAttribute("listIndent"),direction:"backward"}),xt=Ye.mapper.toViewElement(Ct);pe(Ct,St)||pt.breakContainer(pt.createPositionBefore(xt)),ve.setAttributeOnDowncast(pt,We.attributeNewValue,xt.parent)},{priority:"low"})};function pe(he,ve){return ve&&he.getAttribute("listType")===ve.getAttribute("listType")&&he.getAttribute("listIndent")===ve.getAttribute("listIndent")&&he.getAttribute("listStyle")===ve.getAttribute("listStyle")&&he.getAttribute("listReversed")===ve.getAttribute("listReversed")&&he.getAttribute("listStart")===ve.getAttribute("listStart")}}(N)),this._mergeListAttributesWhileMergingLists(N)}afterInit(){const d=this.editor;d.commands.get("todoList")&&d.model.document.registerPostFixer(function(I){return N=>{const J=et(I.model.document.differ.getChanges()).filter(ce=>ce.getAttribute("listType")==="todo"&&(ce.hasAttribute("listStyle")||ce.hasAttribute("listReversed")||ce.hasAttribute("listStart")));if(!J.length)return!1;for(const ce of J)N.removeAttribute("listStyle",ce),N.removeAttribute("listReversed",ce),N.removeAttribute("listStart",ce);return!0}}(d))}_mergeListAttributesWhileMergingLists(d){const I=this.editor.model;let N;this.listenTo(I,"deleteContent",(J,[ce])=>{const pe=ce.getFirstPosition(),he=ce.getLastPosition();if(pe.parent===he.parent||!pe.parent.is("element","listItem"))return;const ve=he.parent.nextSibling;if(!ve||!ve.is("element","listItem"))return;const Re=hi(pe.parent,{sameIndent:!0,listIndent:ve.getAttribute("listIndent")});Re&&Re.getAttribute("listType")===ve.getAttribute("listType")&&(N=Re)},{priority:"high"}),this.listenTo(I,"deleteContent",()=>{N&&(I.change(J=>{const ce=hi(N.nextSibling,{sameIndent:!0,listIndent:N.getAttribute("listIndent"),direction:"forward"});if(!ce)return void(N=null);const pe=[ce,...Di(J.createPositionAt(ce,0),"forward")];for(const he of pe)for(const ve of d)if(ve.appliesToListItem(he)){const Re=ve.attributeName,We=N.getAttribute(Re);J.setAttribute(Re,We,he)}}),N=null)},{priority:"low"})}}function Ae(k,d,I){if(!k)return!1;const N=k.getAttribute(I.attributeName);return!!N&&N!=I.defaultValue&&k.getAttribute("listType")===d.getAttribute("listType")}function Ue(k,d,I){if(!k||!k.is("element","listItem")||d.getAttribute("listType")!==k.getAttribute("listType"))return!1;const N=k.getAttribute("listIndent");if(N<1||N!==d.getAttribute("listIndent"))return!1;const J=k.getAttribute(I);return!(!J||J===d.getAttribute(I))}function Be(k){return(d,I)=>{I=I.filter(N=>N.is("element","listItem")),k.model.change(N=>{for(const J of I)N.removeAttribute("listStyle",J)})}}function et(k){const d=[];for(const I of k){const N=Xe(I);N&&N.is("element","listItem")&&d.push(N)}return d}function Xe(k){return k.type==="attribute"?k.range.start.nodeAfter:k.type==="insert"?k.position.nodeAfter:null}class Et extends g.Plugin{static get requires(){return[K,Rt]}static get pluginName(){return"ListProperties"}}const kt="todoListChecked";class At extends g.Command{constructor(d){super(d),this._selectedElements=[],this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){this._selectedElements=this._getSelectedItems(),this.value=this._selectedElements.every(d=>!!d.getAttribute(kt)),this.isEnabled=!!this._selectedElements.length}_getSelectedItems(){const d=this.editor.model,I=d.schema,N=d.document.selection.getFirstRange(),J=N.start.parent,ce=[];I.checkAttribute(J,kt)&&ce.push(J);for(const pe of N.getItems())I.checkAttribute(pe,kt)&&!ce.includes(pe)&&ce.push(pe);return ce}execute(d={}){this.editor.model.change(I=>{for(const N of this._selectedElements)(d.forceValue===void 0?!this.value:d.forceValue)?I.setAttribute(kt,!0,N):I.removeAttribute(kt,N)})}}const Dt=(k,d,I)=>{const N=d.modelCursor,J=N.parent,ce=d.viewItem;if(ce.getAttribute("type")!="checkbox"||J.name!="listItem"||!N.isAtStart||!I.consumable.consume(ce,{name:!0}))return;const pe=I.writer;pe.setAttribute("listType","todo",J),d.viewItem.hasAttribute("checked")&&pe.setAttribute("todoListChecked",!0,J),d.modelRange=pe.createRange(N)};function Wt(k){return(d,I)=>{const N=I.modelPosition,J=N.parent;if(!J.is("element","listItem")||J.getAttribute("listType")!="todo")return;const ce=ai(I.mapper.toViewElement(J),k);ce&&(I.viewPosition=I.mapper.findPositionIn(ce,N.offset))}}function mi(k,d,I,N){return d.createUIElement("label",{class:"todo-list__label",contenteditable:!1},function(J){const ce=(0,w.createElement)(document,"input",{type:"checkbox",tabindex:"-1"});I&&ce.setAttribute("checked","checked"),ce.addEventListener("change",()=>N(k));const pe=this.toDomElement(J);return pe.appendChild(ce),pe})}function ai(k,d){const I=d.createRangeIn(k);for(const N of I)if(N.item.is("containerElement","span")&&N.item.hasClass("todo-list__label__description"))return N.item}const gi=(0,w.parseKeystroke)("Ctrl+Enter");class Ri extends g.Plugin{static get pluginName(){return"TodoListEditing"}static get requires(){return[En]}init(){const d=this.editor,{editing:I,data:N,model:J}=d;J.schema.extend("listItem",{allowAttributes:["todoListChecked"]}),J.schema.addAttributeCheck((Re,We)=>{const Ye=Re.last;if(We=="todoListChecked"&&Ye.name=="listItem"&&Ye.getAttribute("listType")!="todo")return!1}),d.commands.add("todoList",new ze(d,"todo"));const ce=new At(d);var pe,he;d.commands.add("checkTodoList",ce),d.commands.add("todoListCheck",ce),N.downcastDispatcher.on("insert:listItem",function(Re){return(We,Ye,pt)=>{const Ct=pt.consumable;if(!Ct.test(Ye.item,"insert")||!Ct.test(Ye.item,"attribute:listType")||!Ct.test(Ye.item,"attribute:listIndent")||Ye.item.getAttribute("listType")!="todo")return;const St=Ye.item;Ct.consume(St,"insert"),Ct.consume(St,"attribute:listType"),Ct.consume(St,"attribute:listIndent"),Ct.consume(St,"attribute:todoListChecked");const xt=pt.writer,ii=Gt(St,pt);xt.addClass("todo-list",ii.parent);const Jt=xt.createContainerElement("label",{class:"todo-list__label"}),bi=xt.createEmptyElement("input",{type:"checkbox",disabled:"disabled"}),Si=xt.createContainerElement("span",{class:"todo-list__label__description"});St.getAttribute("todoListChecked")&&xt.setAttribute("checked","checked",bi),xt.insert(xt.createPositionAt(ii,0),Jt),xt.insert(xt.createPositionAt(Jt,0),bi),xt.insert(xt.createPositionAfter(bi),Si),ui(St,ii,pt,Re)}}(J),{priority:"high"}),N.upcastDispatcher.on("element:input",Dt,{priority:"high"}),I.downcastDispatcher.on("insert:listItem",function(Re,We){return(Ye,pt,Ct)=>{const St=Ct.consumable;if(!St.test(pt.item,"insert")||!St.test(pt.item,"attribute:listType")||!St.test(pt.item,"attribute:listIndent")||pt.item.getAttribute("listType")!="todo")return;const xt=pt.item;St.consume(xt,"insert"),St.consume(xt,"attribute:listType"),St.consume(xt,"attribute:listIndent"),St.consume(xt,"attribute:todoListChecked");const ii=Ct.writer,Jt=Gt(xt,Ct),bi=!!xt.getAttribute("todoListChecked"),Si=mi(xt,ii,bi,We),Hi=ii.createContainerElement("span",{class:"todo-list__label__description"});ii.addClass("todo-list",Jt.parent),ii.insert(ii.createPositionAt(Jt,0),Si),ii.insert(ii.createPositionAfter(Si),Hi),ui(xt,Jt,Ct,Re)}}(J,Re=>this._handleCheckmarkChange(Re)),{priority:"high"}),I.downcastDispatcher.on("attribute:listType:listItem",(pe=Re=>this._handleCheckmarkChange(Re),he=I.view,(Re,We,Ye)=>{if(!Ye.consumable.consume(We.item,Re.name))return;const pt=Ye.mapper.toViewElement(We.item),Ct=Ye.writer,St=function(xt,ii){const Jt=ii.createRangeIn(xt);for(const bi of Jt)if(bi.item.is("uiElement","label"))return bi.item}(pt,he);if(We.attributeNewValue=="todo"){const xt=!!We.item.getAttribute("todoListChecked"),ii=mi(We.item,Ct,xt,pe),Jt=Ct.createContainerElement("span",{class:"todo-list__label__description"}),bi=Ct.createRangeIn(pt),Si=Oi(pt),Hi=ti(bi.start),sn=Si?Ct.createPositionBefore(Si):bi.end,mn=Ct.createRange(Hi,sn);Ct.addClass("todo-list",pt.parent),Ct.move(mn,Ct.createPositionAt(Jt,0)),Ct.insert(Ct.createPositionAt(pt,0),ii),Ct.insert(Ct.createPositionAfter(ii),Jt)}else if(We.attributeOldValue=="todo"){const xt=ai(pt,he);Ct.removeClass("todo-list",pt.parent),Ct.remove(St),Ct.move(Ct.createRangeIn(xt),Ct.createPositionBefore(xt)),Ct.remove(xt)}})),I.downcastDispatcher.on("attribute:todoListChecked:listItem",function(Re){return(We,Ye,pt)=>{if(Ye.item.getAttribute("listType")!="todo"||!pt.consumable.consume(Ye.item,"attribute:todoListChecked"))return;const{mapper:Ct,writer:St}=pt,xt=!!Ye.item.getAttribute("todoListChecked"),ii=Ct.toViewElement(Ye.item).getChild(0),Jt=mi(Ye.item,St,xt,Re);St.insert(St.createPositionAfter(ii),Jt),St.remove(ii)}}(Re=>this._handleCheckmarkChange(Re))),I.mapper.on("modelToViewPosition",Wt(I.view)),N.mapper.on("modelToViewPosition",Wt(I.view)),this.listenTo(I.view.document,"arrowKey",function(Re,We){return(Ye,pt)=>{if((0,w.getLocalizedArrowKeyCodeDirection)(pt.keyCode,We.contentLanguageDirection)!="left")return;const Ct=Re.schema,St=Re.document.selection;if(!St.isCollapsed)return;const xt=St.getFirstPosition(),ii=xt.parent;if(ii.name==="listItem"&&ii.getAttribute("listType")=="todo"&&xt.isAtStart){const Jt=Ct.getNearestSelectionRange(Re.createPositionBefore(ii),"backward");Jt&&Re.change(bi=>bi.setSelection(Jt)),pt.preventDefault(),pt.stopPropagation(),Ye.stop()}}}(J,d.locale),{context:"li"}),this.listenTo(I.view.document,"keydown",(Re,We)=>{(0,w.getCode)(We)===gi&&(d.execute("checkTodoList"),Re.stop())},{priority:"high"});const ve=new Set;this.listenTo(J,"applyOperation",(Re,We)=>{const Ye=We[0];if(Ye.type=="rename"&&Ye.oldName=="listItem"){const pt=Ye.position.nodeAfter;pt.hasAttribute("todoListChecked")&&ve.add(pt)}else if(Ye.type=="changeAttribute"&&Ye.key=="listType"&&Ye.oldValue==="todo")for(const pt of Ye.range.getItems())pt.hasAttribute("todoListChecked")&&pt.getAttribute("listType")!=="todo"&&ve.add(pt)}),J.document.registerPostFixer(Re=>{let We=!1;for(const Ye of ve)Re.removeAttribute("todoListChecked",Ye),We=!0;return ve.clear(),We})}_handleCheckmarkChange(d){const I=this.editor,N=I.model,J=Array.from(N.document.selection.getRanges());N.change(ce=>{ce.setSelection(d,"end"),I.execute("checkTodoList"),ce.setSelection(J)})}}class Qi extends g.Plugin{static get pluginName(){return"TodoListUI"}init(){const d=this.editor.t;Ci(this.editor,"todoList",d("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}var Pn=te(528),Mn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Q()(Pn.Z,Mn),Pn.Z.locals;class Qn extends g.Plugin{static get requires(){return[Ri,Qi]}static get pluginName(){return"TodoList"}}class Kn extends g.Command{constructor(d){super(d),this.on("execute",()=>{this.refresh()},{priority:"highest"})}refresh(){const d=this._getSelectedItems();this.value=this._getValue(d),this.isEnabled=!!d.length}execute(d={}){this.editor.model.change(I=>{const N=this._getSelectedItems(),J=d.forceValue===void 0?!this._getValue(N):d.forceValue;for(const ce of N)J?I.setAttribute("todoListChecked",!0,ce):I.removeAttribute("todoListChecked",ce)})}_getValue(d){return d.every(I=>I.getAttribute("todoListChecked"))}_getSelectedItems(){const d=this.editor.model,I=d.schema,N=d.document.selection.getFirstRange(),J=N.start.parent,ce=[];I.checkAttribute(J,"todoListChecked")&&ce.push(...y(J));for(const pe of N.getItems({shallow:!0}))I.checkAttribute(pe,"todoListChecked")&&!ce.includes(pe)&&ce.push(...y(pe));return ce}}class Rn extends oe.DomEventObserver{constructor(){super(...arguments),this.domEventType=["change"]}onDomEvent(d){if(d.target){const I=this.view.domConverter.mapDomToView(d.target);I&&I.is("element","input")&&I.getAttribute("type")=="checkbox"&&I.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",d)}}}const hr=(0,w.parseKeystroke)("Ctrl+Enter");class yr extends g.Plugin{static get pluginName(){return"TodoDocumentListEditing"}static get requires(){return[st]}init(){const d=this.editor,I=d.model,N=d.editing,J=d.plugins.get(st),ce=d.config.get("list.multiBlock")?"paragraph":"listItem";d.commands.add("todoList",new f(d,"todo")),d.commands.add("checkTodoList",new Kn(d)),N.view.addObserver(Rn),I.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),I.schema.addAttributeCheck((pe,he)=>{const ve=pe.last;if(he=="todoListChecked")return!(!ve.getAttribute("listItemId")||ve.getAttribute("listType")!="todo")&&void 0}),d.conversion.for("upcast").add(pe=>{pe.on("element:input",(he,ve,Re)=>{const We=ve.modelCursor,Ye=We.parent,pt=ve.viewItem;if(!Re.consumable.test(pt,{name:!0})||pt.getAttribute("type")!="checkbox"||!We.isAtStart||!Ye.hasAttribute("listType"))return;Re.consumable.consume(pt,{name:!0});const Ct=Re.writer;Ct.setAttribute("listType","todo",Ye),ve.viewItem.hasAttribute("checked")&&Ct.setAttribute("todoListChecked",!0,Ye),ve.modelRange=Ct.createRange(We)}),pe.on("element:label",Nn({name:"label",classes:"todo-list__label"})),pe.on("element:label",Nn({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),pe.on("element:span",Nn({name:"span",classes:"todo-list__label__description"})),pe.on("element:ul",function(he){const ve=new oe.Matcher(he);return(Re,We,Ye)=>{const pt=ve.match(We.viewItem);if(!pt)return;const Ct=pt.match;Ct.name=!1,Ye.consumable.consume(We.viewItem,Ct)}}({name:"ul",classes:"todo-list"}))}),d.conversion.for("downcast").elementToElement({model:ce,view:(pe,{writer:he})=>{if(sr(pe,J.getListAttributeNames()))return he.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),J.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(pe,he,ve){he=="todo"?pe.addClass("todo-list",ve):pe.removeClass("todo-list",ve)}}),J.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(pe,he,{dataPipeline:ve}){if(he.getAttribute("listType")!="todo")return null;const Re=pe.createEmptyElement("input",{type:"checkbox",...he.getAttribute("todoListChecked")?{checked:"checked"}:null,...ve?{disabled:"disabled"}:{tabindex:"-1"}});return ve?Re:pe.createContainerElement("span",{contenteditable:"false"},Re)},canWrapElement:pe=>sr(pe,J.getListAttributeNames()),createWrapperElement(pe,he,{dataPipeline:ve}){const Re=["todo-list__label"];return sr(he,J.getListAttributeNames())||Re.push("todo-list__label_without-description"),pe.createAttributeElement(ve?"label":"span",{class:Re.join(" ")})}}),N.mapper.registerViewToModelLength("input",pe=>pe.getAttribute("type")=="checkbox"&&pe.findAncestor({classes:"todo-list__label"})?0:N.mapper.toModelElement(pe)?1:0),J.on("checkElement",(pe,{modelElement:he,viewElement:ve})=>{const Re=sr(he,J.getListAttributeNames());ve.hasClass("todo-list__label__description")!=Re&&(pe.return=!0,pe.stop())}),J.on("checkElement",(pe,{modelElement:he,viewElement:ve})=>{const Re=he.getAttribute("listType")=="todo"&&q(he);let We=!1;const Ye=d.editing.view.createPositionBefore(ve).getWalker({direction:"backward"});for(const{item:pt}of Ye){if(pt.is("element")&&d.editing.mapper.toModelElement(pt))break;pt.is("element","input")&&pt.getAttribute("type")=="checkbox"&&(We=!0)}We!=Re&&(pe.return=!0,pe.stop())}),J.on("postFixer",(pe,{listNodes:he,writer:ve})=>{for(const{node:Re,previousNodeInList:We}of he){if(!We||We.getAttribute("listItemId")!=Re.getAttribute("listItemId"))continue;const Ye=We.hasAttribute("todoListChecked"),pt=Re.hasAttribute("todoListChecked");pt&&!Ye?(ve.removeAttribute("todoListChecked",Re),pe.return=!0):!pt&&Ye&&(ve.setAttribute("todoListChecked",!0,Re),pe.return=!0)}}),I.document.registerPostFixer(pe=>{const he=I.document.differ.getChanges();let ve=!1;for(const Re of he)if(Re.type=="attribute"&&Re.attributeKey=="listType"){const We=Re.range.start.nodeAfter;Re.attributeOldValue=="todo"&&We.hasAttribute("todoListChecked")&&(pe.removeAttribute("todoListChecked",We),ve=!0)}else if(Re.type=="insert"&&Re.name!="$text")for(const{item:We}of pe.createRangeOn(Re.position.nodeAfter))We.is("element")&&We.getAttribute("listType")!="todo"&&We.hasAttribute("todoListChecked")&&(pe.removeAttribute("todoListChecked",We),ve=!0);return ve}),this.listenTo(N.view.document,"keydown",(pe,he)=>{(0,w.getCode)(he)===hr&&(d.execute("checkTodoList"),pe.stop())},{priority:"high"}),this.listenTo(N.view.document,"todoCheckboxChange",(pe,he)=>{const ve=he.target;if(!ve||!ve.is("element","input"))return;const Re=N.view.createPositionAfter(ve),We=N.mapper.toModelPosition(Re).parent;We&&B(We)&&We.getAttribute("listType")=="todo"&&this._handleCheckmarkChange(We)}),this.listenTo(N.view.document,"arrowKey",function(pe,he){return(ve,Re)=>{const We=(0,w.getLocalizedArrowKeyCodeDirection)(Re.keyCode,he.contentLanguageDirection),Ye=pe.schema,pt=pe.document.selection;if(!pt.isCollapsed)return;const Ct=pt.getFirstPosition(),St=Ct.parent;if(We=="right"&&Ct.isAtEnd){const xt=Ye.getNearestSelectionRange(pe.createPositionAfter(St),"forward");if(!xt)return;const ii=xt.start.parent;ii&&B(ii)&&ii.getAttribute("listType")=="todo"&&(pe.change(Jt=>Jt.setSelection(xt)),Re.preventDefault(),Re.stopPropagation(),ve.stop())}else if(We=="left"&&Ct.isAtStart&&B(St)&&St.getAttribute("listType")=="todo"){const xt=Ye.getNearestSelectionRange(pe.createPositionBefore(St),"backward");if(!xt)return;pe.change(ii=>ii.setSelection(xt)),Re.preventDefault(),Re.stopPropagation(),ve.stop()}}}(I,d.locale),{context:"$text"}),this.listenTo(N.mapper,"viewToModelPosition",(pe,he)=>{const ve=he.viewPosition.parent,Re=ve.is("attributeElement","li")&&he.viewPosition.offset==0,We=zn(ve)&&he.viewPosition.offset<=1,Ye=ve.is("element","span")&&ve.getAttribute("contenteditable")=="false"&&zn(ve.parent);if(!Re&&!We&&!Ye)return;const pt=he.modelPosition.nodeAfter;pt&&pt.getAttribute("listType")=="todo"&&(he.modelPosition=I.createPositionAt(pt,0))},{priority:"low"})}_handleCheckmarkChange(d){const I=this.editor,N=I.model,J=Array.from(N.document.selection.getRanges());N.change(ce=>{ce.setSelection(d,"end"),I.execute("checkTodoList"),ce.setSelection(J)})}}function Nn(k){const d=new oe.Matcher(k);return(I,N,J)=>{const ce=d.match(N.viewItem);ce&&J.consumable.consume(N.viewItem,ce.match)&&Object.assign(N,J.convertChildren(N.viewItem,N.modelCursor))}}function sr(k,d){return(k.is("element","paragraph")||k.is("element","listItem"))&&k.getAttribute("listType")=="todo"&&q(k)&&function(I,N){for(const J of I.getAttributeKeys())if(!J.startsWith("selection:")&&!N.includes(J))return!1;return!0}(k,d)}function zn(k){return!!k&&k.is("attributeElement")&&k.hasClass("todo-list__label")}class _e extends g.Plugin{static get requires(){return[yr,Qi]}static get pluginName(){return"TodoDocumentList"}}})(),(window.CKEditor5=window.CKEditor5||{}).list=zt})()},35646:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Qt={945:(g,R,E)=>{g.exports=E(79)("./src/clipboard.js")},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},79:g=>{"use strict";g.exports=CKEditor5.dll},915:()=>{}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={exports:{}};return Qt[g](E,E.exports,te),E.exports}te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{Markdown:()=>Mi,PasteFromMarkdownExperimental:()=>wn});var g=te(704),R=te(492);function E(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let w={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const C=/[&<>"']/,l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,L=/[<>"']|&(?!#?\w+;)/g,B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=Ne=>B[Ne];function h(Ne,H){if(H){if(C.test(Ne))return Ne.replace(l,y)}else if(c.test(Ne))return Ne.replace(L,y);return Ne}const V=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function q(Ne){return Ne.replace(V,(H,X)=>(X=X.toLowerCase())==="colon"?":":X.charAt(0)==="#"?X.charAt(1)==="x"?String.fromCharCode(parseInt(X.substring(2),16)):String.fromCharCode(+X.substring(1)):"")}const Y=/(^|[^\[])\^/g;function ee(Ne,H){Ne=Ne.source||Ne,H=H||"";const X={replace:(se,be)=>(be=(be=be.source||be).replace(Y,"$1"),Ne=Ne.replace(se,be),X),getRegex:()=>new RegExp(Ne,H)};return X}const re=/[^\w:]/g,ie=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function u(Ne,H,X){if(Ne){let se;try{se=decodeURIComponent(q(X)).replace(re,"").toLowerCase()}catch{return null}if(se.indexOf("javascript:")===0||se.indexOf("vbscript:")===0||se.indexOf("data:")===0)return null}H&&!ie.test(X)&&(X=function(se,be){_[" "+se]||(p.test(se)?_[" "+se]=se+"/":_[" "+se]=$(se,"/",!0)),se=_[" "+se];const ht=se.indexOf(":")===-1;return be.substring(0,2)==="//"?ht?be:se.replace(v,"$1")+be:be.charAt(0)==="/"?ht?be:se.replace(A,"$1")+be:se+be}(H,X));try{X=encodeURI(X).replace(/%25/g,"%")}catch{return null}return X}const _={},p=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,A=/^([^:]+:\/*[^/]*)[\s\S]*$/,T={exec:function(){}};function S(Ne){let H,X,se=1;for(;se<arguments.length;se++)for(X in H=arguments[se],H)Object.prototype.hasOwnProperty.call(H,X)&&(Ne[X]=H[X]);return Ne}function ae(Ne,H){const X=Ne.replace(/\|/g,(be,ht,Rt)=>{let Yt=!1,_t=ht;for(;--_t>=0&&Rt[_t]==="\\";)Yt=!Yt;return Yt?"|":" |"}).split(/ \|/);let se=0;if(X[0].trim()||X.shift(),X.length>0&&!X[X.length-1].trim()&&X.pop(),X.length>H)X.splice(H);else for(;X.length<H;)X.push("");for(;se<X.length;se++)X[se]=X[se].trim().replace(/\\\|/g,"|");return X}function $(Ne,H,X){const se=Ne.length;if(se===0)return"";let be=0;for(;be<se;){const ht=Ne.charAt(se-be-1);if(ht!==H||X){if(ht===H||!X)break;be++}else be++}return Ne.substr(0,se-be)}function z(Ne){Ne&&Ne.sanitize&&!Ne.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function f(Ne,H){if(H<1)return"";let X="";for(;H>1;)1&H&&(X+=Ne),H>>=1,Ne+=Ne;return X+Ne}function j(Ne,H,X,se){const be=H.href,ht=H.title?h(H.title):null,Rt=Ne[1].replace(/\\([\[\]])/g,"$1");if(Ne[0].charAt(0)!=="!"){se.state.inLink=!0;const Yt={type:"link",raw:X,href:be,title:ht,text:Rt,tokens:se.inlineTokens(Rt,[])};return se.state.inLink=!1,Yt}return{type:"image",raw:X,href:be,title:ht,text:h(Rt)}}class Z{constructor(H){this.options=H||w}space(H){const X=this.rules.block.newline.exec(H);if(X&&X[0].length>0)return{type:"space",raw:X[0]}}code(H){const X=this.rules.block.code.exec(H);if(X){const se=X[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:X[0],codeBlockStyle:"indented",text:this.options.pedantic?se:$(se,`
`)}}}fences(H){const X=this.rules.block.fences.exec(H);if(X){const se=X[0],be=function(ht,Rt){const Yt=ht.match(/^(\s+)(?:```)/);if(Yt===null)return Rt;const _t=Yt[1];return Rt.split(`
`).map(Ce=>{const ze=Ce.match(/^\s+/);if(ze===null)return Ce;const[nt]=ze;return nt.length>=_t.length?Ce.slice(_t.length):Ce}).join(`
`)}(se,X[3]||"");return{type:"code",raw:se,lang:X[2]?X[2].trim():X[2],text:be}}}heading(H){const X=this.rules.block.heading.exec(H);if(X){let se=X[2].trim();if(/#$/.test(se)){const ht=$(se,"#");this.options.pedantic?se=ht.trim():ht&&!/ $/.test(ht)||(se=ht.trim())}const be={type:"heading",raw:X[0],depth:X[1].length,text:se,tokens:[]};return this.lexer.inline(be.text,be.tokens),be}}hr(H){const X=this.rules.block.hr.exec(H);if(X)return{type:"hr",raw:X[0]}}blockquote(H){const X=this.rules.block.blockquote.exec(H);if(X){const se=X[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:X[0],tokens:this.lexer.blockTokens(se,[]),text:se}}}list(H){let X=this.rules.block.list.exec(H);if(X){let se,be,ht,Rt,Yt,_t,Ce,ze,nt,Ke,yt,si,ni=X[1].trim();const ki=ni.length>1,di={type:"list",raw:"",ordered:ki,start:ki?+ni.slice(0,-1):"",loose:!1,items:[]};ni=ki?`\\d{1,9}\\${ni.slice(-1)}`:`\\${ni}`,this.options.pedantic&&(ni=ki?ni:"[*+-]");const Ti=new RegExp(`^( {0,3}${ni})((?: [^\\n]*)?(?:\\n|$))`);for(;H&&(si=!1,X=Ti.exec(H))&&!this.rules.block.hr.test(H);){if(se=X[0],H=H.substring(se.length),ze=X[2].split(`
`,1)[0],nt=H.split(`
`,1)[0],this.options.pedantic?(Rt=2,yt=ze.trimLeft()):(Rt=X[2].search(/[^ ]/),Rt=Rt>4?1:Rt,yt=ze.slice(Rt),Rt+=X[1].length),_t=!1,!ze&&/^ *$/.test(nt)&&(se+=nt+`
`,H=H.substring(nt.length+1),si=!0),!si){const Gi=new RegExp(`^ {0,${Math.min(3,Rt-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;H&&(Ke=H.split(`
`,1)[0],ze=Ke,this.options.pedantic&&(ze=ze.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Gi.test(ze));){if(ze.search(/[^ ]/)>=Rt||!ze.trim())yt+=`
`+ze.slice(Rt);else{if(_t)break;yt+=`
`+ze}_t||ze.trim()||(_t=!0),se+=Ke+`
`,H=H.substring(Ke.length+1)}}di.loose||(Ce?di.loose=!0:/\n *\n *$/.test(se)&&(Ce=!0)),this.options.gfm&&(be=/^\[[ xX]\] /.exec(yt),be&&(ht=be[0]!=="[ ] ",yt=yt.replace(/^\[[ xX]\] +/,""))),di.items.push({type:"list_item",raw:se,task:!!be,checked:ht,loose:!1,text:yt}),di.raw+=se}di.items[di.items.length-1].raw=se.trimRight(),di.items[di.items.length-1].text=yt.trimRight(),di.raw=di.raw.trimRight();const Ni=di.items.length;for(Yt=0;Yt<Ni;Yt++){this.lexer.state.top=!1,di.items[Yt].tokens=this.lexer.blockTokens(di.items[Yt].text,[]);const Gi=di.items[Yt].tokens.filter($i=>$i.type==="space"),rn=Gi.every($i=>{const hn=$i.raw.split("");let kn=0;for(const qn of hn)if(qn===`
`&&(kn+=1),kn>1)return!0;return!1});!di.loose&&Gi.length&&rn&&(di.loose=!0,di.items[Yt].loose=!0)}return di}}html(H){const X=this.rules.block.html.exec(H);if(X){const se={type:"html",raw:X[0],pre:!this.options.sanitizer&&(X[1]==="pre"||X[1]==="script"||X[1]==="style"),text:X[0]};return this.options.sanitize&&(se.type="paragraph",se.text=this.options.sanitizer?this.options.sanitizer(X[0]):h(X[0]),se.tokens=[],this.lexer.inline(se.text,se.tokens)),se}}def(H){const X=this.rules.block.def.exec(H);if(X)return X[3]&&(X[3]=X[3].substring(1,X[3].length-1)),{type:"def",tag:X[1].toLowerCase().replace(/\s+/g," "),raw:X[0],href:X[2],title:X[3]}}table(H){const X=this.rules.block.table.exec(H);if(X){const se={type:"table",header:ae(X[1]).map(be=>({text:be})),align:X[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:X[3]&&X[3].trim()?X[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(se.header.length===se.align.length){se.raw=X[0];let be,ht,Rt,Yt,_t=se.align.length;for(be=0;be<_t;be++)/^ *-+: *$/.test(se.align[be])?se.align[be]="right":/^ *:-+: *$/.test(se.align[be])?se.align[be]="center":/^ *:-+ *$/.test(se.align[be])?se.align[be]="left":se.align[be]=null;for(_t=se.rows.length,be=0;be<_t;be++)se.rows[be]=ae(se.rows[be],se.header.length).map(Ce=>({text:Ce}));for(_t=se.header.length,ht=0;ht<_t;ht++)se.header[ht].tokens=[],this.lexer.inlineTokens(se.header[ht].text,se.header[ht].tokens);for(_t=se.rows.length,ht=0;ht<_t;ht++)for(Yt=se.rows[ht],Rt=0;Rt<Yt.length;Rt++)Yt[Rt].tokens=[],this.lexer.inlineTokens(Yt[Rt].text,Yt[Rt].tokens);return se}}}lheading(H){const X=this.rules.block.lheading.exec(H);if(X){const se={type:"heading",raw:X[0],depth:X[2].charAt(0)==="="?1:2,text:X[1],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}paragraph(H){const X=this.rules.block.paragraph.exec(H);if(X){const se={type:"paragraph",raw:X[0],text:X[1].charAt(X[1].length-1)===`
`?X[1].slice(0,-1):X[1],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}text(H){const X=this.rules.block.text.exec(H);if(X){const se={type:"text",raw:X[0],text:X[0],tokens:[]};return this.lexer.inline(se.text,se.tokens),se}}escape(H){const X=this.rules.inline.escape.exec(H);if(X)return{type:"escape",raw:X[0],text:h(X[1])}}tag(H){const X=this.rules.inline.tag.exec(H);if(X)return!this.lexer.state.inLink&&/^<a /i.test(X[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(X[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(X[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(X[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:X[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(X[0]):h(X[0]):X[0]}}link(H){const X=this.rules.inline.link.exec(H);if(X){const se=X[2].trim();if(!this.options.pedantic&&/^</.test(se)){if(!/>$/.test(se))return;const Rt=$(se.slice(0,-1),"\\");if((se.length-Rt.length)%2==0)return}else{const Rt=function(Yt,_t){if(Yt.indexOf(_t[1])===-1)return-1;const Ce=Yt.length;let ze=0,nt=0;for(;nt<Ce;nt++)if(Yt[nt]==="\\")nt++;else if(Yt[nt]===_t[0])ze++;else if(Yt[nt]===_t[1]&&(ze--,ze<0))return nt;return-1}(X[2],"()");if(Rt>-1){const Yt=(X[0].indexOf("!")===0?5:4)+X[1].length+Rt;X[2]=X[2].substring(0,Rt),X[0]=X[0].substring(0,Yt).trim(),X[3]=""}}let be=X[2],ht="";if(this.options.pedantic){const Rt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(be);Rt&&(be=Rt[1],ht=Rt[3])}else ht=X[3]?X[3].slice(1,-1):"";return be=be.trim(),/^</.test(be)&&(be=this.options.pedantic&&!/>$/.test(se)?be.slice(1):be.slice(1,-1)),j(X,{href:be&&be.replace(this.rules.inline._escapes,"$1"),title:ht&&ht.replace(this.rules.inline._escapes,"$1")},X[0],this.lexer)}}reflink(H,X){let se;if((se=this.rules.inline.reflink.exec(H))||(se=this.rules.inline.nolink.exec(H))){let be=(se[2]||se[1]).replace(/\s+/g," ");if(be=X[be.toLowerCase()],!be||!be.href){const ht=se[0].charAt(0);return{type:"text",raw:ht,text:ht}}return j(se,be,se[0],this.lexer)}}emStrong(H,X,se=""){let be=this.rules.inline.emStrong.lDelim.exec(H);if(!be||be[3]&&se.match(/[\p{L}\p{N}]/u))return;const ht=be[1]||be[2]||"";if(!ht||ht&&(se===""||this.rules.inline.punctuation.exec(se))){const Rt=be[0].length-1;let Yt,_t,Ce=Rt,ze=0;const nt=be[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(nt.lastIndex=0,X=X.slice(-1*H.length+Rt);(be=nt.exec(X))!=null;){if(Yt=be[1]||be[2]||be[3]||be[4]||be[5]||be[6],!Yt)continue;if(_t=Yt.length,be[3]||be[4]){Ce+=_t;continue}if((be[5]||be[6])&&Rt%3&&!((Rt+_t)%3)){ze+=_t;continue}if(Ce-=_t,Ce>0)continue;if(_t=Math.min(_t,_t+Ce+ze),Math.min(Rt,_t)%2){const yt=H.slice(1,Rt+be.index+_t);return{type:"em",raw:H.slice(0,Rt+be.index+_t+1),text:yt,tokens:this.lexer.inlineTokens(yt,[])}}const Ke=H.slice(2,Rt+be.index+_t-1);return{type:"strong",raw:H.slice(0,Rt+be.index+_t+1),text:Ke,tokens:this.lexer.inlineTokens(Ke,[])}}}}codespan(H){const X=this.rules.inline.code.exec(H);if(X){let se=X[2].replace(/\n/g," ");const be=/[^ ]/.test(se),ht=/^ /.test(se)&&/ $/.test(se);return be&&ht&&(se=se.substring(1,se.length-1)),se=h(se,!0),{type:"codespan",raw:X[0],text:se}}}br(H){const X=this.rules.inline.br.exec(H);if(X)return{type:"br",raw:X[0]}}del(H){const X=this.rules.inline.del.exec(H);if(X)return{type:"del",raw:X[0],text:X[2],tokens:this.lexer.inlineTokens(X[2],[])}}autolink(H,X){const se=this.rules.inline.autolink.exec(H);if(se){let be,ht;return se[2]==="@"?(be=h(this.options.mangle?X(se[1]):se[1]),ht="mailto:"+be):(be=h(se[1]),ht=be),{type:"link",raw:se[0],text:be,href:ht,tokens:[{type:"text",raw:be,text:be}]}}}url(H,X){let se;if(se=this.rules.inline.url.exec(H)){let be,ht;if(se[2]==="@")be=h(this.options.mangle?X(se[0]):se[0]),ht="mailto:"+be;else{let Rt;do Rt=se[0],se[0]=this.rules.inline._backpedal.exec(se[0])[0];while(Rt!==se[0]);be=h(se[0]),ht=se[1]==="www."?"http://"+be:be}return{type:"link",raw:se[0],text:be,href:ht,tokens:[{type:"text",raw:be,text:be}]}}}inlineText(H,X){const se=this.rules.inline.text.exec(H);if(se){let be;return be=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(se[0]):h(se[0]):se[0]:h(this.options.smartypants?X(se[0]):se[0]),{type:"text",raw:se[0],text:be}}}}const D={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:T,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};D.def=ee(D.def).replace("label",D._label).replace("title",D._title).getRegex(),D.bullet=/(?:[*+-]|\d{1,9}[.)])/,D.listItemStart=ee(/^( *)(bull) */).replace("bull",D.bullet).getRegex(),D.list=ee(D.list).replace(/bull/g,D.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+D.def.source+")").getRegex(),D._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,D.html=ee(D.html,"i").replace("comment",D._comment).replace("tag",D._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),D.paragraph=ee(D._paragraph).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex(),D.blockquote=ee(D.blockquote).replace("paragraph",D.paragraph).getRegex(),D.normal=S({},D),D.gfm=S({},D.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),D.gfm.table=ee(D.gfm.table).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex(),D.gfm.paragraph=ee(D._paragraph).replace("hr",D.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",D.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",D._tag).getRegex(),D.pedantic=S({},D.normal,{html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:T,paragraph:ee(D.normal._paragraph).replace("hr",D.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",D.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const oe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:T,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:T,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Se(Ne){return Ne.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function je(Ne){let H,X,se="";const be=Ne.length;for(H=0;H<be;H++)X=Ne.charCodeAt(H),Math.random()>.5&&(X="x"+X.toString(16)),se+="&#"+X+";";return se}oe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",oe.punctuation=ee(oe.punctuation).replace(/punctuation/g,oe._punctuation).getRegex(),oe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,oe.escapedEmSt=/\\\*|\\_/g,oe._comment=ee(D._comment).replace("(?:-->|$)","-->").getRegex(),oe.emStrong.lDelim=ee(oe.emStrong.lDelim).replace(/punct/g,oe._punctuation).getRegex(),oe.emStrong.rDelimAst=ee(oe.emStrong.rDelimAst,"g").replace(/punct/g,oe._punctuation).getRegex(),oe.emStrong.rDelimUnd=ee(oe.emStrong.rDelimUnd,"g").replace(/punct/g,oe._punctuation).getRegex(),oe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,oe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,oe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,oe.autolink=ee(oe.autolink).replace("scheme",oe._scheme).replace("email",oe._email).getRegex(),oe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,oe.tag=ee(oe.tag).replace("comment",oe._comment).replace("attribute",oe._attribute).getRegex(),oe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,oe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,oe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,oe.link=ee(oe.link).replace("label",oe._label).replace("href",oe._href).replace("title",oe._title).getRegex(),oe.reflink=ee(oe.reflink).replace("label",oe._label).replace("ref",D._label).getRegex(),oe.nolink=ee(oe.nolink).replace("ref",D._label).getRegex(),oe.reflinkSearch=ee(oe.reflinkSearch,"g").replace("reflink",oe.reflink).replace("nolink",oe.nolink).getRegex(),oe.normal=S({},oe),oe.pedantic=S({},oe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",oe._label).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",oe._label).getRegex()}),oe.gfm=S({},oe.normal,{escape:ee(oe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),oe.gfm.url=ee(oe.gfm.url,"i").replace("email",oe.gfm._extended_email).getRegex(),oe.breaks=S({},oe.gfm,{br:ee(oe.br).replace("{2,}","*").getRegex(),text:ee(oe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ie{constructor(H){this.tokens=[],this.tokens.links=Object.create(null),this.options=H||w,this.options.tokenizer=this.options.tokenizer||new Z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const X={block:D.normal,inline:oe.normal};this.options.pedantic?(X.block=D.pedantic,X.inline=oe.pedantic):this.options.gfm&&(X.block=D.gfm,this.options.breaks?X.inline=oe.breaks:X.inline=oe.gfm),this.tokenizer.rules=X}static get rules(){return{block:D,inline:oe}}static lex(H,X){return new Ie(X).lex(H)}static lexInline(H,X){return new Ie(X).inlineTokens(H)}lex(H){let X;for(H=H.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(H,this.tokens);X=this.inlineQueue.shift();)this.inlineTokens(X.src,X.tokens);return this.tokens}blockTokens(H,X=[]){let se,be,ht,Rt;for(this.options.pedantic&&(H=H.replace(/^ +$/gm,""));H;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Yt=>!!(se=Yt.call({lexer:this},H,X))&&(H=H.substring(se.raw.length),X.push(se),!0))))if(se=this.tokenizer.space(H))H=H.substring(se.raw.length),se.raw.length===1&&X.length>0?X[X.length-1].raw+=`
`:X.push(se);else if(se=this.tokenizer.code(H))H=H.substring(se.raw.length),be=X[X.length-1],!be||be.type!=="paragraph"&&be.type!=="text"?X.push(se):(be.raw+=`
`+se.raw,be.text+=`
`+se.text,this.inlineQueue[this.inlineQueue.length-1].src=be.text);else if(se=this.tokenizer.fences(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.heading(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.hr(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.blockquote(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.list(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.html(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.def(H))H=H.substring(se.raw.length),be=X[X.length-1],!be||be.type!=="paragraph"&&be.type!=="text"?this.tokens.links[se.tag]||(this.tokens.links[se.tag]={href:se.href,title:se.title}):(be.raw+=`
`+se.raw,be.text+=`
`+se.raw,this.inlineQueue[this.inlineQueue.length-1].src=be.text);else if(se=this.tokenizer.table(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.lheading(H))H=H.substring(se.raw.length),X.push(se);else{if(ht=H,this.options.extensions&&this.options.extensions.startBlock){let Yt=1/0;const _t=H.slice(1);let Ce;this.options.extensions.startBlock.forEach(function(ze){Ce=ze.call({lexer:this},_t),typeof Ce=="number"&&Ce>=0&&(Yt=Math.min(Yt,Ce))}),Yt<1/0&&Yt>=0&&(ht=H.substring(0,Yt+1))}if(this.state.top&&(se=this.tokenizer.paragraph(ht)))be=X[X.length-1],Rt&&be.type==="paragraph"?(be.raw+=`
`+se.raw,be.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):X.push(se),Rt=ht.length!==H.length,H=H.substring(se.raw.length);else if(se=this.tokenizer.text(H))H=H.substring(se.raw.length),be=X[X.length-1],be&&be.type==="text"?(be.raw+=`
`+se.raw,be.text+=`
`+se.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=be.text):X.push(se);else if(H){const Yt="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(Yt);break}throw new Error(Yt)}}return this.state.top=!0,X}inline(H,X){this.inlineQueue.push({src:H,tokens:X})}inlineTokens(H,X=[]){let se,be,ht,Rt,Yt,_t,Ce=H;if(this.tokens.links){const ze=Object.keys(this.tokens.links);if(ze.length>0)for(;(Rt=this.tokenizer.rules.inline.reflinkSearch.exec(Ce))!=null;)ze.includes(Rt[0].slice(Rt[0].lastIndexOf("[")+1,-1))&&(Ce=Ce.slice(0,Rt.index)+"["+f("a",Rt[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Rt=this.tokenizer.rules.inline.blockSkip.exec(Ce))!=null;)Ce=Ce.slice(0,Rt.index)+"["+f("a",Rt[0].length-2)+"]"+Ce.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Rt=this.tokenizer.rules.inline.escapedEmSt.exec(Ce))!=null;)Ce=Ce.slice(0,Rt.index)+"++"+Ce.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;H;)if(Yt||(_t=""),Yt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(ze=>!!(se=ze.call({lexer:this},H,X))&&(H=H.substring(se.raw.length),X.push(se),!0))))if(se=this.tokenizer.escape(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.tag(H))H=H.substring(se.raw.length),be=X[X.length-1],be&&se.type==="text"&&be.type==="text"?(be.raw+=se.raw,be.text+=se.text):X.push(se);else if(se=this.tokenizer.link(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.reflink(H,this.tokens.links))H=H.substring(se.raw.length),be=X[X.length-1],be&&se.type==="text"&&be.type==="text"?(be.raw+=se.raw,be.text+=se.text):X.push(se);else if(se=this.tokenizer.emStrong(H,Ce,_t))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.codespan(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.br(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.del(H))H=H.substring(se.raw.length),X.push(se);else if(se=this.tokenizer.autolink(H,je))H=H.substring(se.raw.length),X.push(se);else if(this.state.inLink||!(se=this.tokenizer.url(H,je))){if(ht=H,this.options.extensions&&this.options.extensions.startInline){let ze=1/0;const nt=H.slice(1);let Ke;this.options.extensions.startInline.forEach(function(yt){Ke=yt.call({lexer:this},nt),typeof Ke=="number"&&Ke>=0&&(ze=Math.min(ze,Ke))}),ze<1/0&&ze>=0&&(ht=H.substring(0,ze+1))}if(se=this.tokenizer.inlineText(ht,Se))H=H.substring(se.raw.length),se.raw.slice(-1)!=="_"&&(_t=se.raw.slice(-1)),Yt=!0,be=X[X.length-1],be&&be.type==="text"?(be.raw+=se.raw,be.text+=se.text):X.push(se);else if(H){const ze="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(ze);break}throw new Error(ze)}}else H=H.substring(se.raw.length),X.push(se);return X}}class De{constructor(H){this.options=H||w}code(H,X,se){const be=(X||"").match(/\S*/)[0];if(this.options.highlight){const ht=this.options.highlight(H,be);ht!=null&&ht!==H&&(se=!0,H=ht)}return H=H.replace(/\n$/,"")+`
`,be?'<pre><code class="'+this.options.langPrefix+h(be,!0)+'">'+(se?H:h(H,!0))+`</code></pre>
`:"<pre><code>"+(se?H:h(H,!0))+`</code></pre>
`}blockquote(H){return`<blockquote>
`+H+`</blockquote>
`}html(H){return H}heading(H,X,se,be){return this.options.headerIds?"<h"+X+' id="'+this.options.headerPrefix+be.slug(se)+'">'+H+"</h"+X+`>
`:"<h"+X+">"+H+"</h"+X+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(H,X,se){const be=X?"ol":"ul";return"<"+be+(X&&se!==1?' start="'+se+'"':"")+`>
`+H+"</"+be+`>
`}listitem(H){return"<li>"+H+`</li>
`}checkbox(H){return"<input "+(H?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(H){return"<p>"+H+`</p>
`}table(H,X){return X&&(X="<tbody>"+X+"</tbody>"),`<table>
<thead>
`+H+`</thead>
`+X+`</table>
`}tablerow(H){return`<tr>
`+H+`</tr>
`}tablecell(H,X){const se=X.header?"th":"td";return(X.align?"<"+se+' align="'+X.align+'">':"<"+se+">")+H+"</"+se+`>
`}strong(H){return"<strong>"+H+"</strong>"}em(H){return"<em>"+H+"</em>"}codespan(H){return"<code>"+H+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(H){return"<del>"+H+"</del>"}link(H,X,se){if((H=u(this.options.sanitize,this.options.baseUrl,H))===null)return se;let be='<a href="'+h(H)+'"';return X&&(be+=' title="'+X+'"'),be+=">"+se+"</a>",be}image(H,X,se){if((H=u(this.options.sanitize,this.options.baseUrl,H))===null)return se;let be='<img src="'+H+'" alt="'+se+'"';return X&&(be+=' title="'+X+'"'),be+=this.options.xhtml?"/>":">",be}text(H){return H}}class mt{strong(H){return H}em(H){return H}codespan(H){return H}del(H){return H}html(H){return H}text(H){return H}link(H,X,se){return""+se}image(H,X,se){return""+se}br(){return""}}class lt{constructor(){this.seen={}}serialize(H){return H.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(H,X){let se=H,be=0;if(this.seen.hasOwnProperty(se)){be=this.seen[H];do be++,se=H+"-"+be;while(this.seen.hasOwnProperty(se))}return X||(this.seen[H]=be,this.seen[se]=0),se}slug(H,X={}){const se=this.serialize(H);return this.getNextSafeSlug(se,X.dryrun)}}class ut{constructor(H){this.options=H||w,this.options.renderer=this.options.renderer||new De,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new mt,this.slugger=new lt}static parse(H,X){return new ut(X).parse(H)}static parseInline(H,X){return new ut(X).parseInline(H)}parse(H,X=!0){let se,be,ht,Rt,Yt,_t,Ce,ze,nt,Ke,yt,si,ni,ki,di,Ti,Ni,Gi,rn,$i="";const hn=H.length;for(se=0;se<hn;se++)if(Ke=H[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ke.type]&&(rn=this.options.extensions.renderers[Ke.type].call({parser:this},Ke),rn!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ke.type)))$i+=rn||"";else switch(Ke.type){case"space":continue;case"hr":$i+=this.renderer.hr();continue;case"heading":$i+=this.renderer.heading(this.parseInline(Ke.tokens),Ke.depth,q(this.parseInline(Ke.tokens,this.textRenderer)),this.slugger);continue;case"code":$i+=this.renderer.code(Ke.text,Ke.lang,Ke.escaped);continue;case"table":for(ze="",Ce="",Rt=Ke.header.length,be=0;be<Rt;be++)Ce+=this.renderer.tablecell(this.parseInline(Ke.header[be].tokens),{header:!0,align:Ke.align[be]});for(ze+=this.renderer.tablerow(Ce),nt="",Rt=Ke.rows.length,be=0;be<Rt;be++){for(_t=Ke.rows[be],Ce="",Yt=_t.length,ht=0;ht<Yt;ht++)Ce+=this.renderer.tablecell(this.parseInline(_t[ht].tokens),{header:!1,align:Ke.align[ht]});nt+=this.renderer.tablerow(Ce)}$i+=this.renderer.table(ze,nt);continue;case"blockquote":nt=this.parse(Ke.tokens),$i+=this.renderer.blockquote(nt);continue;case"list":for(yt=Ke.ordered,si=Ke.start,ni=Ke.loose,Rt=Ke.items.length,nt="",be=0;be<Rt;be++)di=Ke.items[be],Ti=di.checked,Ni=di.task,ki="",di.task&&(Gi=this.renderer.checkbox(Ti),ni?di.tokens.length>0&&di.tokens[0].type==="paragraph"?(di.tokens[0].text=Gi+" "+di.tokens[0].text,di.tokens[0].tokens&&di.tokens[0].tokens.length>0&&di.tokens[0].tokens[0].type==="text"&&(di.tokens[0].tokens[0].text=Gi+" "+di.tokens[0].tokens[0].text)):di.tokens.unshift({type:"text",text:Gi}):ki+=Gi),ki+=this.parse(di.tokens,ni),nt+=this.renderer.listitem(ki,Ni,Ti);$i+=this.renderer.list(nt,yt,si);continue;case"html":$i+=this.renderer.html(Ke.text);continue;case"paragraph":$i+=this.renderer.paragraph(this.parseInline(Ke.tokens));continue;case"text":for(nt=Ke.tokens?this.parseInline(Ke.tokens):Ke.text;se+1<hn&&H[se+1].type==="text";)Ke=H[++se],nt+=`
`+(Ke.tokens?this.parseInline(Ke.tokens):Ke.text);$i+=X?this.renderer.paragraph(nt):nt;continue;default:{const kn='Token with "'+Ke.type+'" type was not found.';if(this.options.silent)return void console.error(kn);throw new Error(kn)}}return $i}parseInline(H,X){X=X||this.renderer;let se,be,ht,Rt="";const Yt=H.length;for(se=0;se<Yt;se++)if(be=H[se],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[be.type]&&(ht=this.options.extensions.renderers[be.type].call({parser:this},be),ht!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(be.type)))Rt+=ht||"";else switch(be.type){case"escape":case"text":Rt+=X.text(be.text);break;case"html":Rt+=X.html(be.text);break;case"link":Rt+=X.link(be.href,be.title,this.parseInline(be.tokens,X));break;case"image":Rt+=X.image(be.href,be.title,be.text);break;case"strong":Rt+=X.strong(this.parseInline(be.tokens,X));break;case"em":Rt+=X.em(this.parseInline(be.tokens,X));break;case"codespan":Rt+=X.codespan(be.text);break;case"br":Rt+=X.br();break;case"del":Rt+=X.del(this.parseInline(be.tokens,X));break;default:{const _t='Token with "'+be.type+'" type was not found.';if(this.options.silent)return void console.error(_t);throw new Error(_t)}}return Rt}}function dt(Ne,H,X){if(Ne==null)throw new Error("marked(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");if(typeof H=="function"&&(X=H,H=null),z(H=S({},dt.defaults,H||{})),X){const se=H.highlight;let be;try{be=Ie.lex(Ne,H)}catch(Yt){return X(Yt)}const ht=function(Yt){let _t;if(!Yt)try{H.walkTokens&&dt.walkTokens(be,H.walkTokens),_t=ut.parse(be,H)}catch(Ce){Yt=Ce}return H.highlight=se,Yt?X(Yt):X(null,_t)};if(!se||se.length<3||(delete H.highlight,!be.length))return ht();let Rt=0;return dt.walkTokens(be,function(Yt){Yt.type==="code"&&(Rt++,setTimeout(()=>{se(Yt.text,Yt.lang,function(_t,Ce){if(_t)return ht(_t);Ce!=null&&Ce!==Yt.text&&(Yt.text=Ce,Yt.escaped=!0),Rt--,Rt===0&&ht()})},0))}),void(Rt===0&&ht())}try{const se=Ie.lex(Ne,H);return H.walkTokens&&dt.walkTokens(se,H.walkTokens),ut.parse(se,H)}catch(se){if(se.message+=`
Please report this to https://github.com/markedjs/marked.`,H.silent)return"<p>An error occurred:</p><pre>"+h(se.message+"",!0)+"</pre>";throw se}}dt.options=dt.setOptions=function(Ne){var H;return S(dt.defaults,Ne),H=dt.defaults,w=H,dt},dt.getDefaults=E,dt.defaults=w,dt.use=function(...Ne){const H=S({},...Ne),X=dt.defaults.extensions||{renderers:{},childTokens:{}};let se;Ne.forEach(be=>{if(be.extensions&&(se=!0,be.extensions.forEach(ht=>{if(!ht.name)throw new Error("extension name required");if(ht.renderer){const Rt=X.renderers?X.renderers[ht.name]:null;X.renderers[ht.name]=Rt?function(...Yt){let _t=ht.renderer.apply(this,Yt);return _t===!1&&(_t=Rt.apply(this,Yt)),_t}:ht.renderer}if(ht.tokenizer){if(!ht.level||ht.level!=="block"&&ht.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");X[ht.level]?X[ht.level].unshift(ht.tokenizer):X[ht.level]=[ht.tokenizer],ht.start&&(ht.level==="block"?X.startBlock?X.startBlock.push(ht.start):X.startBlock=[ht.start]:ht.level==="inline"&&(X.startInline?X.startInline.push(ht.start):X.startInline=[ht.start]))}ht.childTokens&&(X.childTokens[ht.name]=ht.childTokens)})),be.renderer){const ht=dt.defaults.renderer||new De;for(const Rt in be.renderer){const Yt=ht[Rt];ht[Rt]=(..._t)=>{let Ce=be.renderer[Rt].apply(ht,_t);return Ce===!1&&(Ce=Yt.apply(ht,_t)),Ce}}H.renderer=ht}if(be.tokenizer){const ht=dt.defaults.tokenizer||new Z;for(const Rt in be.tokenizer){const Yt=ht[Rt];ht[Rt]=(..._t)=>{let Ce=be.tokenizer[Rt].apply(ht,_t);return Ce===!1&&(Ce=Yt.apply(ht,_t)),Ce}}H.tokenizer=ht}if(be.walkTokens){const ht=dt.defaults.walkTokens;H.walkTokens=function(Rt){be.walkTokens.call(this,Rt),ht&&ht.call(this,Rt)}}se&&(H.extensions=X),dt.setOptions(H)})},dt.walkTokens=function(Ne,H){for(const X of Ne)switch(H.call(dt,X),X.type){case"table":for(const se of X.header)dt.walkTokens(se.tokens,H);for(const se of X.rows)for(const be of se)dt.walkTokens(be.tokens,H);break;case"list":dt.walkTokens(X.items,H);break;default:dt.defaults.extensions&&dt.defaults.extensions.childTokens&&dt.defaults.extensions.childTokens[X.type]?dt.defaults.extensions.childTokens[X.type].forEach(function(se){dt.walkTokens(X[se],H)}):X.tokens&&dt.walkTokens(X.tokens,H)}},dt.parseInline=function(Ne,H){if(Ne==null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Ne!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Ne)+", string expected");z(H=S({},dt.defaults,H||{}));try{const X=Ie.lexInline(Ne,H);return H.walkTokens&&dt.walkTokens(X,H.walkTokens),ut.parseInline(X,H)}catch(X){if(X.message+=`
Please report this to https://github.com/markedjs/marked.`,H.silent)return"<p>An error occurred:</p><pre>"+h(X.message+"",!0)+"</pre>";throw X}},dt.Parser=ut,dt.parser=ut.parse,dt.Renderer=De,dt.TextRenderer=mt,dt.Lexer=Ie,dt.lexer=Ie.lex,dt.Tokenizer=Z,dt.Slugger=lt,dt.parse=dt,dt.options,dt.setOptions,dt.use,dt.walkTokens,dt.parseInline,ut.parse,Ie.lex;function vt(Ne,H){return Array(H+1).join(Ne)}dt.use({tokenizer:{autolink:()=>null,url:()=>null},renderer:{checkbox(...Ne){return Object.getPrototypeOf(this).checkbox.call(this,...Ne).trimRight()},code(...Ne){return Object.getPrototypeOf(this).code.call(this,...Ne).replace(`
</code>`,"</code>")}}});var bt=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function Qe(Ne){return bt.indexOf(Ne.nodeName.toLowerCase())!==-1}var ft=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function Ve(Ne){return ft.indexOf(Ne.nodeName.toLowerCase())!==-1}var Te=ft.join(),Q={};function xe(Ne){for(var H in this.options=Ne,this._keep=[],this._remove=[],this.blankRule={replacement:Ne.blankReplacement},this.keepReplacement=Ne.keepReplacement,this.defaultRule={replacement:Ne.defaultReplacement},this.array=[],Ne.rules)this.array.push(Ne.rules[H])}function Oe(Ne,H,X){for(var se=0;se<Ne.length;se++){var be=Ne[se];if(Je(be,H,X))return be}}function Je(Ne,H,X){var se=Ne.filter;if(typeof se=="string"){if(se===H.nodeName.toLowerCase())return!0}else if(Array.isArray(se)){if(se.indexOf(H.nodeName.toLowerCase())>-1)return!0}else{if(typeof se!="function")throw new TypeError("`filter` needs to be a string, array, or function");if(se.call(Ne,H,X))return!0}}function $e(Ne){var H=Ne.nextSibling||Ne.parentNode;return Ne.parentNode.removeChild(Ne),H}function tt(Ne,H,X){return Ne&&Ne.parentNode===H||X(H)?H.nextSibling||H.parentNode:H.firstChild||H.nextSibling||H.parentNode}Q.paragraph={filter:"p",replacement:function(Ne){return`

`+Ne+`

`}},Q.lineBreak={filter:"br",replacement:function(Ne,H,X){return X.br+`
`}},Q.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(Ne,H,X){var se=Number(H.nodeName.charAt(1));return X.headingStyle==="setext"&&se<3?`

`+Ne+`
`+vt(se===1?"=":"-",Ne.length)+`

`:`

`+vt("#",se)+" "+Ne+`

`}},Q.blockquote={filter:"blockquote",replacement:function(Ne){return`

`+(Ne=(Ne=Ne.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+`

`}},Q.list={filter:["ul","ol"],replacement:function(Ne,H){var X=H.parentNode;return X.nodeName==="LI"&&X.lastElementChild===H?`
`+Ne:`

`+Ne+`

`}},Q.listItem={filter:"li",replacement:function(Ne,H,X){Ne=Ne.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var se=X.bulletListMarker+"   ",be=H.parentNode;if(be.nodeName==="OL"){var ht=be.getAttribute("start"),Rt=Array.prototype.indexOf.call(be.children,H);se=(ht?Number(ht)+Rt:Rt+1)+".  "}return se+Ne+(H.nextSibling&&!/\n$/.test(Ne)?`
`:"")}},Q.indentedCodeBlock={filter:function(Ne,H){return H.codeBlockStyle==="indented"&&Ne.nodeName==="PRE"&&Ne.firstChild&&Ne.firstChild.nodeName==="CODE"},replacement:function(Ne,H,X){return`

    `+H.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},Q.fencedCodeBlock={filter:function(Ne,H){return H.codeBlockStyle==="fenced"&&Ne.nodeName==="PRE"&&Ne.firstChild&&Ne.firstChild.nodeName==="CODE"},replacement:function(Ne,H,X){for(var se,be=((H.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1],ht=H.firstChild.textContent,Rt=X.fence.charAt(0),Yt=3,_t=new RegExp("^"+Rt+"{3,}","gm");se=_t.exec(ht);)se[0].length>=Yt&&(Yt=se[0].length+1);var Ce=vt(Rt,Yt);return`

`+Ce+be+`
`+ht.replace(/\n$/,"")+`
`+Ce+`

`}},Q.horizontalRule={filter:"hr",replacement:function(Ne,H,X){return`

`+X.hr+`

`}},Q.inlineLink={filter:function(Ne,H){return H.linkStyle==="inlined"&&Ne.nodeName==="A"&&Ne.getAttribute("href")},replacement:function(Ne,H){return"["+Ne+"]("+H.getAttribute("href")+(H.title?' "'+H.title+'"':"")+")"}},Q.referenceLink={filter:function(Ne,H){return H.linkStyle==="referenced"&&Ne.nodeName==="A"&&Ne.getAttribute("href")},replacement:function(Ne,H,X){var se,be,ht=H.getAttribute("href"),Rt=H.title?' "'+H.title+'"':"";switch(X.linkReferenceStyle){case"collapsed":se="["+Ne+"][]",be="["+Ne+"]: "+ht+Rt;break;case"shortcut":se="["+Ne+"]",be="["+Ne+"]: "+ht+Rt;break;default:var Yt=this.references.length+1;se="["+Ne+"]["+Yt+"]",be="["+Yt+"]: "+ht+Rt}return this.references.push(be),se},references:[],append:function(Ne){var H="";return this.references.length&&(H=`

`+this.references.join(`
`)+`

`,this.references=[]),H}},Q.emphasis={filter:["em","i"],replacement:function(Ne,H,X){return Ne.trim()?X.emDelimiter+Ne+X.emDelimiter:""}},Q.strong={filter:["strong","b"],replacement:function(Ne,H,X){return Ne.trim()?X.strongDelimiter+Ne+X.strongDelimiter:""}},Q.code={filter:function(Ne){var H=Ne.previousSibling||Ne.nextSibling,X=Ne.parentNode.nodeName==="PRE"&&!H;return Ne.nodeName==="CODE"&&!X},replacement:function(Ne){if(!Ne.trim())return"";var H="`",X="",se="",be=Ne.match(/`+/gm);if(be)for(/^`/.test(Ne)&&(X=" "),/`$/.test(Ne)&&(se=" ");be.indexOf(H)!==-1;)H+="`";return H+X+Ne+se+H}},Q.image={filter:"img",replacement:function(Ne,H){var X=H.alt||"",se=H.getAttribute("src")||"",be=H.title||"";return se?"!["+X+"]("+se+(be?' "'+be+'"':"")+")":""}},xe.prototype={add:function(Ne,H){this.array.unshift(H)},keep:function(Ne){this._keep.unshift({filter:Ne,replacement:this.keepReplacement})},remove:function(Ne){this._remove.unshift({filter:Ne,replacement:function(){return""}})},forNode:function(Ne){return Ne.isBlank?this.blankRule:(H=Oe(this.array,Ne,this.options))||(H=Oe(this._keep,Ne,this.options))||(H=Oe(this._remove,Ne,this.options))?H:this.defaultRule;var H},forEach:function(Ne){for(var H=0;H<this.array.length;H++)Ne(this.array[H],H)}};var st=typeof window<"u"?window:{},Pt,Ft=function(){var Ne=st.DOMParser,H=!1;try{new Ne().parseFromString("","text/html")&&(H=!0)}catch{}return H}()?st.DOMParser:function(){var Ne=function(){},H=te(915).JSDOM;return Ne.prototype.parseFromString=function(X){return new H(X).window.document},Ne}();function Gt(Ne){var H;return typeof Ne=="string"?H=(Pt=Pt||new Ft).parseFromString('<x-turndown id="turndown-root">'+Ne+"</x-turndown>","text/html").getElementById("turndown-root"):H=Ne.cloneNode(!0),function(X){var se=X.element,be=X.isBlock,ht=X.isVoid,Rt=X.isPre||function(yt){return yt.nodeName==="PRE"};if(se.firstChild&&!Rt(se)){for(var Yt=null,_t=!1,Ce=null,ze=tt(Ce,se,Rt);ze!==se;){if(ze.nodeType===3||ze.nodeType===4){var nt=ze.data.replace(/[ \r\n\t]+/g," ");if(Yt&&!/ $/.test(Yt.data)||_t||nt[0]!==" "||(nt=nt.substr(1)),!nt){ze=$e(ze);continue}ze.data=nt,Yt=ze}else{if(ze.nodeType!==1){ze=$e(ze);continue}be(ze)||ze.nodeName==="BR"?(Yt&&(Yt.data=Yt.data.replace(/ $/,"")),Yt=null,_t=!1):ht(ze)&&(Yt=null,_t=!0)}var Ke=tt(Ce,ze,Rt);Ce=ze,ze=Ke}Yt&&(Yt.data=Yt.data.replace(/ $/,""),Yt.data||$e(Yt))}}({element:H,isBlock:Qe,isVoid:Ve}),H}function ui(Ne){return Ne.isBlock=Qe(Ne),Ne.isCode=Ne.nodeName.toLowerCase()==="code"||Ne.parentNode.isCode,Ne.isBlank=function(H){return["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(H.nodeName)===-1&&/^\s*$/i.test(H.textContent)&&!Ve(H)&&!function(X){return X.querySelector&&X.querySelector(Te)}(H)}(Ne),Ne.flankingWhitespace=function(H){var X="",se="";if(!H.isBlock){var be=/^\s/.test(H.textContent),ht=/\s$/.test(H.textContent),Rt=H.isBlank&&be&&ht;be&&!Vt("left",H)&&(X=" "),Rt||!ht||Vt("right",H)||(se=" ")}return{leading:X,trailing:se}}(Ne),Ne}function Vt(Ne,H){var X,se,be;return Ne==="left"?(X=H.previousSibling,se=/ $/):(X=H.nextSibling,se=/^ /),X&&(X.nodeType===3?be=se.test(X.nodeValue):X.nodeType!==1||Qe(X)||(be=se.test(X.textContent))),be}var ti=Array.prototype.reduce,hi=/^\n*/,Ci=/\n*$/,Oi=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Di(Ne){if(!(this instanceof Di))return new Di(Ne);var H={rules:Q,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(X,se){return se.isBlock?`

`:""},keepReplacement:function(X,se){return se.isBlock?`

`+se.outerHTML+`

`:se.outerHTML},defaultReplacement:function(X,se){return se.isBlock?`

`+X+`

`:X}};this.options=function(X){for(var se=1;se<arguments.length;se++){var be=arguments[se];for(var ht in be)be.hasOwnProperty(ht)&&(X[ht]=be[ht])}return X}({},H,Ne),this.rules=new xe(this.options)}function Vi(Ne){var H=this;return ti.call(Ne.childNodes,function(X,se){var be="";return(se=new ui(se)).nodeType===3?be=se.isCode?se.nodeValue:H.escape(se.nodeValue):se.nodeType===1&&(be=Zi.call(H,se)),at(X,be)},"")}function Pi(Ne){var H=this;return this.rules.forEach(function(X){typeof X.append=="function"&&(Ne=at(Ne,X.append(H.options)))}),Ne.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Zi(Ne){var H=this.rules.forNode(Ne),X=Vi.call(this,Ne),se=Ne.flankingWhitespace;return(se.leading||se.trailing)&&(X=X.trim()),se.leading+H.replacement(X,Ne,this.options)+se.trailing}function at(Ne,H){var X,se,be,ht=(X=H,se=[Ne.match(Ci)[0],X.match(hi)[0]].sort(),(be=se[se.length-1]).length<2?be:`

`);return(Ne=Ne.replace(Ci,""))+ht+(H=H.replace(hi,""))}Di.prototype={turndown:function(Ne){if(!function(X){return X!=null&&(typeof X=="string"||X.nodeType&&(X.nodeType===1||X.nodeType===9||X.nodeType===11))}(Ne))throw new TypeError(Ne+" is not a string, or an element/document/fragment node.");if(Ne==="")return"";var H=Vi.call(this,new Gt(Ne));return Pi.call(this,H)},use:function(Ne){if(Array.isArray(Ne))for(var H=0;H<Ne.length;H++)this.use(Ne[H]);else{if(typeof Ne!="function")throw new TypeError("plugin must be a Function or an Array of Functions");Ne(this)}return this},addRule:function(Ne,H){return this.rules.add(Ne,H),this},keep:function(Ne){return this.rules.keep(Ne),this},remove:function(Ne){return this.rules.remove(Ne),this},escape:function(Ne){return Oi.reduce(function(H,X){return H.replace(X[0],X[1])},Ne)}};const ue=Di;var ye=/highlight-(?:text|source)-([a-z0-9]+)/;function Le(Ne){Ne.addRule("highlightedCodeBlock",{filter:function(H){var X=H.firstChild;return H.nodeName==="DIV"&&ye.test(H.className)&&X&&X.nodeName==="PRE"},replacement:function(H,X,se){var be=((X.className||"").match(ye)||[null,""])[1];return`

`+se.fence+be+`
`+X.firstChild.textContent+`
`+se.fence+`

`}})}function Ge(Ne){Ne.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(H){return"~"+H+"~"}})}var ot=Array.prototype.indexOf,gt=Array.prototype.every,Lt={};function Ot(Ne){var H,X,se=Ne.parentNode;return se.nodeName==="THEAD"||se.firstChild===Ne&&(se.nodeName==="TABLE"||(X=(H=se).previousSibling,H.nodeName==="TBODY"&&(!X||X.nodeName==="THEAD"&&/^\s*$/i.test(X.textContent))))&&gt.call(Ne.childNodes,function(be){return be.nodeName==="TH"})}function Ut(Ne,H){var X=" ";return ot.call(H.parentNode.childNodes,H)===0&&(X="| "),X+Ne+" |"}function oi(Ne){for(var H in Ne.keep(function(X){return X.nodeName==="TABLE"&&!Ot(X.rows[0])}),Lt)Ne.addRule(H,Lt[H])}function ri(Ne){Ne.addRule("taskListItems",{filter:function(H){return H.type==="checkbox"&&H.parentNode.nodeName==="LI"},replacement:function(H,X){return(X.checked?"[x]":"[ ]")+" "}})}Lt.tableCell={filter:["th","td"],replacement:function(Ne,H){return Ut(Ne,H)}},Lt.tableRow={filter:"tr",replacement:function(Ne,H){var X="",se={left:":--",right:"--:",center:":-:"};if(Ot(H))for(var be=0;be<H.childNodes.length;be++){var ht="---",Rt=(H.childNodes[be].getAttribute("align")||"").toLowerCase();Rt&&(ht=se[Rt]||ht),X+=Ut(ht,H.childNodes[be])}return`
`+Ne+(X?`
`+X:"")}},Lt.table={filter:function(Ne){return Ne.nodeName==="TABLE"&&Ot(Ne.rows[0])},replacement:function(Ne){return`

`+(Ne=Ne.replace(`

`,`
`))+`

`}},Lt.tableSection={filter:["thead","tbody","tfoot"],replacement:function(Ne){return Ne}};const wi=ue.prototype.escape;function Ii(Ne){return Ne=(Ne=wi(Ne)).replace(/</g,"\\<")}ue.prototype.escape=function(Ne){let H="",X=0;for(const se of function*(be){for(const ht of be.matchAll(yi)){const Rt=ht[0],Yt=ji(Rt);yield Object.assign([Rt.substring(0,Yt)],{index:ht.index})}}(Ne)){const be=se.index;be>X&&(H+=Ii(Ne.substring(X,be)));const ht=se[0];H+=ht,X=be+ht.length}return X<Ne.length&&(H+=Ii(Ne.substring(X,Ne.length))),H};const Li=new ue({codeBlockStyle:"fenced",hr:"---",headingStyle:"atx"});Li.use([function(Ne){Ne.use([Le,Ge,oi,ri])},function(Ne){Ne.addRule("taskListItems",{filter:H=>H.type==="checkbox"&&(H.parentNode.nodeName==="LI"||H.parentNode.parentNode.nodeName==="LI"),replacement:(H,X)=>(X.checked?"[x]":"[ ]")+" "})}]);const yi=new RegExp(/\b(?:(?:https?|ftp):\/\/|www\.)/.source+/(?![-_])(?:[-_a-z0-9\u00a1-\uffff]{1,63}\.)+(?:[a-z\u00a1-\uffff]{2,63})/.source+/(?:[^\s<>]*)/.source,"gi");function ji(Ne){let H=Ne.length;for(;H>0;){const X=Ne[H-1];if(`?!.,:*_~'"`.includes(X))H--;else{if(X!=")")break;{let se=0;for(let be=0;be<H;be++)Ne[be]=="("?se++:Ne[be]==")"&&se--;if(!(se<0))break;H--}}}return H}class Ki{constructor(H){this._htmlDP=new R.HtmlDataProcessor(H)}keepHtml(H){Li.keep([H])}toView(H){const X=(se=H,dt.parse(se,{gfm:!0,breaks:!0,tables:!0,xhtml:!0,headerIds:!1}));var se;return this._htmlDP.toView(X)}toData(H){return function(X){return Li.turndown(X)}(this._htmlDP.toData(H))}registerRawContentMatcher(H){this._htmlDP.registerRawContentMatcher(H)}useFillerType(){}}class Mi extends g.Plugin{constructor(H){super(H),H.data.processor=new Ki(H.data.viewDocument)}static get pluginName(){return"Markdown"}}var tn=te(945);const Zt=["SPAN","BR","PRE","CODE"];class wn extends g.Plugin{constructor(H){super(H),this._gfmDataProcessor=new Ki(H.data.viewDocument)}static get pluginName(){return"PasteFromMarkdownExperimental"}static get requires(){return[tn.ClipboardPipeline]}init(){const H=this.editor,X=H.editing.view.document,se=H.plugins.get("ClipboardPipeline");let be=!1;this.listenTo(X,"keydown",(ht,Rt)=>{be=Rt.shiftKey}),this.listenTo(se,"inputTransformation",(ht,Rt)=>{if(be)return;const Yt=Rt.dataTransfer.getData("text/html");if(!Yt){const Ce=Rt.dataTransfer.getData("text/plain");return void(Rt.content=this._gfmDataProcessor.toView(Ce))}const _t=this._parseMarkdownFromHtml(Yt);_t&&(Rt.content=this._gfmDataProcessor.toView(_t))})}_parseMarkdownFromHtml(H){const X=this._removeOsSpecificTags(H);if(!this._containsOnlyAllowedFirstLevelTags(X))return null;const se=this._removeFirstLevelWrapperTagsAndBrs(X);return this._containsAnyRemainingHtmlTags(se)?null:this._replaceHtmlReservedEntitiesWithCharacters(se)}_removeOsSpecificTags(H){return H.replace(/^<meta\b[^>]*>/,"").trim().replace(/^<html>/,"").replace(/<\/html>$/,"").trim().replace(/^<body>/,"").replace(/<\/body>$/,"").trim().replace(/^<!--StartFragment-->/,"").replace(/<!--EndFragment-->$/,"").trim()}_containsOnlyAllowedFirstLevelTags(H){const X=new DOMParser,{body:se}=X.parseFromString(H,"text/html");return Array.from(se.children).map(be=>be.tagName).every(be=>Zt.includes(be))}_removeFirstLevelWrapperTagsAndBrs(H){const X=new DOMParser,{body:se}=X.parseFromString(H,"text/html"),be=se.querySelectorAll("br");for(const Rt of be)Rt.replaceWith(`
`);const ht=se.querySelectorAll(":scope > *");for(const Rt of ht){const Yt=Rt.cloneNode(!0);Rt.replaceWith(...Yt.childNodes)}return se.innerHTML}_containsAnyRemainingHtmlTags(H){return H.includes("<")}_replaceHtmlReservedEntitiesWithCharacters(H){return H.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&nbsp;/g," ")}}})(),(window.CKEditor5=window.CKEditor5||{}).markdownGfm=zt})()},34047:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Insert media":"Insert media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Open media in new tab":"Open media in new tab","Paste the media URL in the input.":"Paste the media URL in the input.","The URL must not be empty.":"The URL must not be empty.","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster."})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={487:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',""]);const l=C},199:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}",""]);const l=C},835:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',""]);const l=C},708:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},945:(g,R,E)=>{g.exports=E(79)("./src/clipboard.js")},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},254:(g,R,E)=>{g.exports=E(79)("./src/undo.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},995:(g,R,E)=>{g.exports=E(79)("./src/widget.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{AutoMediaEmbed:()=>T,MediaEmbed:()=>oe,MediaEmbedEditing:()=>ie,MediaEmbedToolbar:()=>Se,MediaEmbedUI:()=>j});var g=te(704),R=te(995),E=te(209);function w(je,Ie){const De=(mt,lt,ut)=>{if(!ut.consumable.consume(lt.item,mt.name))return;const dt=lt.attributeNewValue,vt=ut.writer,bt=ut.mapper.toViewElement(lt.item),Qe=[...bt.getChildren()].find(Ve=>Ve.getCustomProperty("media-content"));vt.remove(Qe);const ft=je.getMediaViewElement(vt,dt,Ie);vt.insert(vt.createPositionAt(bt,0),ft)};return mt=>{mt.on("attribute:url:media",De)}}function C(je){const Ie=je.getSelectedElement();return Ie&&function(De){return!!De.getCustomProperty("media")&&(0,R.isWidget)(De)}(Ie)?Ie:null}function l(je,Ie,De,mt){return je.createContainerElement("figure",{class:"media"},[Ie.getMediaViewElement(je,De,mt),je.createSlot()])}function c(je){const Ie=je.getSelectedElement();return Ie&&Ie.is("element","media")?Ie:null}function L(je,Ie,De,mt){je.change(lt=>{const ut=lt.createElement("media",{url:Ie});je.insertObject(ut,De,null,{setSelection:"on",findOptimalPosition:mt?"auto":void 0})})}class B extends g.Command{refresh(){const Ie=this.editor.model,De=Ie.document.selection,mt=c(De);this.value=mt?mt.getAttribute("url"):void 0,this.isEnabled=function(lt){const ut=lt.getSelectedElement();return!!ut&&ut.name==="media"}(De)||function(lt,ut){let vt=(0,R.findOptimalInsertionRange)(lt,ut).start.parent;return vt.isEmpty&&!ut.schema.isLimit(vt)&&(vt=vt.parent),ut.schema.checkChild(vt,"media")}(De,Ie)}execute(Ie){const De=this.editor.model,mt=De.document.selection,lt=c(mt);lt?De.change(ut=>{ut.setAttribute("url",Ie,lt)}):L(De,Ie,mt,!0)}}var y=te(273);class h{constructor(Ie,De){const mt=De.providers,lt=De.extraProviders||[],ut=new Set(De.removeProviders),dt=mt.concat(lt).filter(vt=>{const bt=vt.name;return bt?!ut.has(bt):((0,E.logWarning)("media-embed-no-provider-name",{provider:vt}),!1)});this.locale=Ie,this.providerDefinitions=dt}hasMedia(Ie){return!!this._getMedia(Ie)}getMediaViewElement(Ie,De,mt){return this._getMedia(De).getViewElement(Ie,mt)}_getMedia(Ie){if(!Ie)return new V(this.locale);Ie=Ie.trim();for(const De of this.providerDefinitions){const mt=De.html,lt=(0,E.toArray)(De.url);for(const ut of lt){const dt=this._getUrlMatches(Ie,ut);if(dt)return new V(this.locale,Ie,dt,mt)}}return null}_getUrlMatches(Ie,De){let mt=Ie.match(De);if(mt)return mt;let lt=Ie.replace(/^https?:\/\//,"");return mt=lt.match(De),mt||(lt=lt.replace(/^www\./,""),mt=lt.match(De),mt||null)}}class V{constructor(Ie,De,mt,lt){this.url=this._getValidUrl(De),this._locale=Ie,this._match=mt,this._previewRenderer=lt}getViewElement(Ie,De){const mt={};let lt;if(De.renderForEditingView||De.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(mt["data-oembed-url"]=this.url),De.renderForEditingView&&(mt.class="ck-media__wrapper");const ut=this._getPreviewHtml(De);lt=Ie.createRawElement("div",mt,(dt,vt)=>{vt.setContentOf(dt,ut)})}else this.url&&(mt.url=this.url),lt=Ie.createEmptyElement(De.elementName,mt);return Ie.setCustomProperty("media-content",!0,lt),lt}_getPreviewHtml(Ie){return this._previewRenderer?this._previewRenderer(this._match):this.url&&Ie.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const Ie=new y.IconView,De=this._locale.t;return Ie.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',Ie.viewBox="0 0 64 42",new y.Template({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[Ie]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":De("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(Ie){return Ie?Ie.match(/^https?/)?Ie:"https://"+Ie:null}}var q=te(62),Y=te.n(q),ee=te(835),re={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(ee.Z,re),ee.Z.locals;class ie extends g.Plugin{static get pluginName(){return"MediaEmbedEditing"}constructor(Ie){super(Ie),Ie.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:De=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${De[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:De=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${De[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:De=>{const mt=De[1],lt=De[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${mt}${lt?`?start=${lt}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:De=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${De[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new h(Ie.locale,Ie.config.get("mediaEmbed"))}init(){const Ie=this.editor,De=Ie.model.schema,mt=Ie.t,lt=Ie.conversion,ut=Ie.config.get("mediaEmbed.previewsInData"),dt=Ie.config.get("mediaEmbed.elementName"),vt=this.registry;Ie.commands.add("mediaEmbed",new B(Ie)),De.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),lt.for("dataDowncast").elementToStructure({model:"media",view:(bt,{writer:Qe})=>{const ft=bt.getAttribute("url");return l(Qe,vt,ft,{elementName:dt,renderMediaPreview:!!ft&&ut})}}),lt.for("dataDowncast").add(w(vt,{elementName:dt,renderMediaPreview:ut})),lt.for("editingDowncast").elementToStructure({model:"media",view:(bt,{writer:Qe})=>{const ft=bt.getAttribute("url");return function(Ve,Te,Q){return Te.setCustomProperty("media",!0,Ve),(0,R.toWidget)(Ve,Te,{label:Q})}(l(Qe,vt,ft,{elementName:dt,renderForEditingView:!0}),Qe,mt("media widget"))}}),lt.for("editingDowncast").add(w(vt,{elementName:dt,renderForEditingView:!0})),lt.for("upcast").elementToElement({view:bt=>["oembed",dt].includes(bt.name)&&bt.getAttribute("url")?{name:!0}:null,model:(bt,{writer:Qe})=>{const ft=bt.getAttribute("url");return vt.hasMedia(ft)?Qe.createElement("media",{url:ft}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(bt,{writer:Qe})=>{const ft=bt.getAttribute("data-oembed-url");return vt.hasMedia(ft)?Qe.createElement("media",{url:ft}):null}}).add(bt=>{bt.on("element:figure",(Qe,ft,Ve)=>{if(!Ve.consumable.consume(ft.viewItem,{name:!0,classes:"media"}))return;const{modelRange:Te,modelCursor:Q}=Ve.convertChildren(ft.viewItem,ft.modelCursor);ft.modelRange=Te,ft.modelCursor=Q,(0,E.first)(Te.getItems())||Ve.consumable.revert(ft.viewItem,{name:!0,classes:"media"})})})}}var u=te(492),_=te(945),p=te(181),v=te(254);const A=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class T extends g.Plugin{static get requires(){return[_.Clipboard,p.Delete,v.Undo]}static get pluginName(){return"AutoMediaEmbed"}constructor(Ie){super(Ie),this._timeoutId=null,this._positionToInsert=null}init(){const Ie=this.editor,De=Ie.model.document,mt=Ie.plugins.get("ClipboardPipeline");this.listenTo(mt,"inputTransformation",()=>{const lt=De.selection.getFirstRange(),ut=u.LivePosition.fromPosition(lt.start);ut.stickiness="toPrevious";const dt=u.LivePosition.fromPosition(lt.end);dt.stickiness="toNext",De.once("change:data",()=>{this._embedMediaBetweenPositions(ut,dt),ut.detach(),dt.detach()},{priority:"high"})}),Ie.commands.get("undo").on("execute",()=>{this._timeoutId&&(E.global.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(Ie,De){const mt=this.editor,lt=mt.plugins.get(ie).registry,ut=new u.LiveRange(Ie,De),dt=ut.getWalker({ignoreElementEnd:!0});let vt="";for(const bt of dt)bt.item.is("$textProxy")&&(vt+=bt.item.data);if(vt=vt.trim(),!vt.match(A)||!lt.hasMedia(vt))return void ut.detach();mt.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=u.LivePosition.fromPosition(Ie),this._timeoutId=E.global.window.setTimeout(()=>{mt.model.change(bt=>{this._timeoutId=null,bt.remove(ut),ut.detach();let Qe=null;this._positionToInsert.root.rootName!=="$graveyard"&&(Qe=this._positionToInsert),L(mt.model,vt,Qe,!1),this._positionToInsert.detach(),this._positionToInsert=null}),mt.plugins.get(p.Delete).requestUndoOnBackspace()},100)):ut.detach()}}var S=te(487),ae={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(S.Z,ae),S.Z.locals;var $=te(708),z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()($.Z,z),$.Z.locals;class f extends y.View{constructor(Ie,De){super(De);const mt=De.t;this.focusTracker=new E.FocusTracker,this.keystrokes=new E.KeystrokeHandler,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(mt("Save"),g.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",lt=>!!lt),this.cancelButtonView=this._createButton(mt("Cancel"),g.icons.cancel,"ck-button-cancel","cancel"),this._focusables=new y.ViewCollection,this._focusCycler=new y.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=Ie,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),(0,y.submitHandler)({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(De=>{this._focusables.add(De),this.focusTracker.add(De.element)}),this.keystrokes.listenTo(this.element);const Ie=De=>De.stopPropagation();this.keystrokes.set("arrowright",Ie),this.keystrokes.set("arrowleft",Ie),this.keystrokes.set("arrowup",Ie),this.keystrokes.set("arrowdown",Ie)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(Ie){this.urlInputView.fieldView.element.value=Ie.trim()}isValid(){this.resetFormStatus();for(const Ie of this._validators){const De=Ie(this);if(De)return this.urlInputView.errorText=De,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const Ie=this.locale.t,De=new y.LabeledFieldView(this.locale,y.createLabeledInputText),mt=De.fieldView;return this._urlInputViewInfoDefault=Ie("Paste the media URL in the input."),this._urlInputViewInfoTip=Ie("Tip: Paste the URL into the content to embed faster."),De.label=Ie("Media URL"),De.infoText=this._urlInputViewInfoDefault,mt.on("input",()=>{De.infoText=mt.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=mt.element.value.trim()}),De}_createButton(Ie,De,mt,lt){const ut=new y.ButtonView(this.locale);return ut.set({label:Ie,icon:De,tooltip:!0}),ut.extendTemplate({attributes:{class:mt}}),lt&&ut.delegate("execute").to(this,lt),ut}}class j extends g.Plugin{static get requires(){return[ie]}static get pluginName(){return"MediaEmbedUI"}init(){const Ie=this.editor,De=Ie.commands.get("mediaEmbed");Ie.ui.componentFactory.add("mediaEmbed",mt=>{const lt=(0,y.createDropdown)(mt);return this._setUpDropdown(lt,De),lt})}_setUpDropdown(Ie,De){const mt=this.editor,lt=mt.t,ut=Ie.buttonView,dt=mt.plugins.get(ie).registry;Ie.once("change:isOpen",()=>{const vt=new((0,y.CssTransitionDisablerMixin)(f))(function(bt,Qe){return[ft=>{if(!ft.url.length)return bt("The URL must not be empty.")},ft=>{if(!Qe.hasMedia(ft.url))return bt("This media URL is not supported.")}]}(mt.t,dt),mt.locale);Ie.panelView.children.add(vt),ut.on("open",()=>{vt.disableCssTransitions(),vt.url=De.value||"",vt.urlInputView.fieldView.select(),vt.enableCssTransitions()},{priority:"low"}),Ie.on("submit",()=>{vt.isValid()&&(mt.execute("mediaEmbed",vt.url),mt.editing.view.focus())}),Ie.on("change:isOpen",()=>vt.resetFormStatus()),Ie.on("cancel",()=>{mt.editing.view.focus()}),vt.delegate("submit","cancel").to(Ie),vt.urlInputView.fieldView.bind("value").to(De,"value"),vt.urlInputView.bind("isEnabled").to(De,"isEnabled")}),Ie.bind("isEnabled").to(De),ut.set({label:lt("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var Z=te(199),D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Y()(Z.Z,D),Z.Z.locals;class oe extends g.Plugin{static get requires(){return[ie,j,T,R.Widget]}static get pluginName(){return"MediaEmbed"}}class Se extends g.Plugin{static get requires(){return[R.WidgetToolbarRepository]}static get pluginName(){return"MediaEmbedToolbar"}afterInit(){const Ie=this.editor,De=Ie.t;Ie.plugins.get(R.WidgetToolbarRepository).register("mediaEmbed",{ariaLabel:De("Media toolbar"),items:Ie.config.get("mediaEmbed.toolbar")||[],getRelatedElement:C})}}})(),(window.CKEditor5=window.CKEditor5||{}).mediaEmbed=zt})()},33055:()=>{/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var Qt={945:(g,R,E)=>{g.exports=E(79)("./src/clipboard.js")},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},492:(g,R,E)=>{g.exports=E(79)("./src/engine.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={exports:{}};return Qt[g](E,E.exports,te),E.exports}te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{MSWordNormalizer:()=>V,PasteFromOffice:()=>v,parseHtml:()=>p});var g=te(704),R=te(945),E=te(492);function w(A,T){if(!A.childCount)return;const S=new E.UpcastWriter(A.document),ae=function(f,j){const Z=j.createRangeIn(f),D=new E.Matcher({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),oe=[];for(const Se of Z)if(Se.type==="elementStart"&&D.match(Se.item)){const je=c(Se.item);oe.push({element:Se.item,id:je.id,order:je.order,indent:je.indent})}return oe}(A,S);if(!ae.length)return;let $=null,z=1;ae.forEach((f,j)=>{const Z=function(De,mt){if(!De)return!0;if(De.id!==mt.id)return mt.indent-De.indent!=1;const lt=mt.element.previousSibling;if(!lt)return!0;return ut=lt,!(ut.is("element","ol")||ut.is("element","ul"));var ut}(ae[j-1],f),D=Z?null:ae[j-1],oe=(je=f,(Se=D)?je.indent-Se.indent:je.indent-1);var Se,je;if(Z&&($=null,z=1),!$||oe!==0){const De=function(mt,lt){const ut=new RegExp(`@list l${mt.id}:level${mt.indent}\\s*({[^}]*)`,"gi"),dt=/mso-level-number-format:([^;]{0,100});/gi,vt=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,bt=ut.exec(lt);let Qe="decimal",ft="ol",Ve=null;if(bt&&bt[1]){const Te=dt.exec(bt[1]);if(Te&&Te[1]&&(Qe=Te[1].trim(),ft=Qe!=="bullet"&&Qe!=="image"?"ol":"ul"),Qe==="bullet"){const Q=function(xe){const Oe=function($e){if($e.getChild(0).is("$text"))return null;for(const tt of $e.getChildren()){if(!tt.is("element","span"))continue;const st=tt.getChild(0);if(st)return st.is("$text")?st:st.getChild(0)}return null}(xe);if(!Oe)return null;const Je=Oe._data;return Je==="o"?"circle":Je==="\xB7"?"disc":Je==="\xA7"?"square":null}(mt.element);Q&&(Qe=Q)}else{const Q=vt.exec(bt[1]);Q&&Q[1]&&(Ve=parseInt(Q[1]))}}return{type:ft,startIndex:Ve,style:C(Qe)}}(f,T);if($){if(f.indent>z){const mt=$.getChild($.childCount-1),lt=mt.getChild(mt.childCount-1);$=l(De,lt,S),z+=1}else if(f.indent<z){const mt=z-f.indent;$=function(lt,ut){const dt=lt.getAncestors({parentFirst:!0});let vt=null,bt=0;for(const Qe of dt)if((Qe.is("element","ul")||Qe.is("element","ol"))&&bt++,bt===ut){vt=Qe;break}return vt}($,mt),z=f.indent}}else $=l(De,f.element,S);f.indent<=z&&($.is("element",De.type)||($=S.rename(De.type,$)))}const Ie=function(De,mt){return function(lt,ut){const dt=new E.Matcher({name:"span",styles:{"mso-list":"Ignore"}}),vt=ut.createRangeIn(lt);for(const bt of vt)bt.type==="elementStart"&&dt.match(bt.item)&&ut.remove(bt.item)}(De,mt),mt.removeStyle("text-indent",De),mt.rename("li",De)}(f.element,S);S.appendChild(Ie,$)})}function C(A){if(A.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(A){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return A;default:return null}}function l(A,T,S){const ae=T.parent,$=S.createElement(A.type),z=ae.getChildIndex(T)+1;return S.insertChild(z,$,ae),A.style&&S.setStyle("list-style-type",A.style,$),A.startIndex&&A.startIndex>1&&S.setAttribute("start",A.startIndex,$),$}function c(A){const T={},S=A.getStyle("mso-list");if(S){const ae=S.match(/(^|\s{1,100})l(\d+)/i),$=S.match(/\s{0,100}lfo(\d+)/i),z=S.match(/\s{0,100}level(\d+)/i);ae&&$&&z&&(T.id=ae[2],T.order=$[1],T.indent=parseInt(z[1]))}return T}function L(A,T){if(!A.childCount)return;const S=new E.UpcastWriter(A.document),ae=function(z,f){const j=f.createRangeIn(z),Z=new E.Matcher({name:/v:(.+)/}),D=[];for(const oe of j){if(oe.type!="elementStart")continue;const Se=oe.item,je=Se.previousSibling,Ie=je&&je.is("element")?je.name:null;Z.match(Se)&&Se.getAttribute("o:gfxdata")&&Ie!=="v:shapetype"&&D.push(oe.item.getAttribute("id"))}return D}(A,S);(function(z,f,j){const Z=j.createRangeIn(f),D=new E.Matcher({name:"img"}),oe=[];for(const Se of Z)if(Se.item.is("element")&&D.match(Se.item)){const je=Se.item,Ie=je.getAttribute("v:shapes")?je.getAttribute("v:shapes").split(" "):[];Ie.length&&Ie.every(De=>z.indexOf(De)>-1)?oe.push(je):je.getAttribute("src")||oe.push(je)}for(const Se of oe)j.remove(Se)})(ae,A,S),function(z,f,j){const Z=j.createRangeIn(f),D=[];for(const je of Z)if(je.type=="elementStart"&&je.item.is("element","v:shape")){const Ie=je.item.getAttribute("id");if(z.includes(Ie))continue;oe(je.item.parent.getChildren(),Ie)||D.push(je.item)}for(const je of D){const Ie={src:Se(je)};je.hasAttribute("alt")&&(Ie.alt=je.getAttribute("alt"));const De=j.createElement("img",Ie);j.insertChild(je.index+1,De,je.parent)}function oe(je,Ie){for(const De of je)if(De.is("element")&&(De.name=="img"&&De.getAttribute("v:shapes")==Ie||oe(De.getChildren(),Ie)))return!0;return!1}function Se(je){for(const Ie of je.getChildren())if(Ie.is("element")&&Ie.getAttribute("src"))return Ie.getAttribute("src")}}(ae,A,S),function(z,f){const j=f.createRangeIn(z),Z=new E.Matcher({name:/v:(.+)/}),D=[];for(const oe of j)oe.type=="elementStart"&&Z.match(oe.item)&&D.push(oe.item);for(const oe of D)f.remove(oe)}(A,S);const $=function(z,f){const j=f.createRangeIn(z),Z=new E.Matcher({name:"img"}),D=[];for(const oe of j)oe.item.is("element")&&Z.match(oe.item)&&oe.item.getAttribute("src").startsWith("file://")&&D.push(oe.item);return D}(A,S);$.length&&function(z,f,j){if(z.length===f.length)for(let Z=0;Z<z.length;Z++){const D=`data:${f[Z].type};base64,${B(f[Z].hex)}`;j.setAttribute("src",D,z[Z])}}($,function(z){if(!z)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,j=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),Z=z.match(j),D=[];if(Z)for(const oe of Z){let Se=!1;oe.includes("\\pngblip")?Se="image/png":oe.includes("\\jpegblip")&&(Se="image/jpeg"),Se&&D.push({hex:oe.replace(f,"").replace(/[^\da-fA-F]/g,""),type:Se})}return D}(T),S)}function B(A){return btoa(A.match(/\w{2}/g).map(T=>String.fromCharCode(parseInt(T,16))).join(""))}const y=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,h=/xmlns:o="urn:schemas-microsoft-com/i;class V{constructor(T){this.document=T}isActive(T){return y.test(T)||h.test(T)}execute(T){const{body:S,stylesString:ae}=T._parsedData;w(S,ae),L(S,T.dataTransfer.getData("text/rtf")),function($){const z=[],f=new E.UpcastWriter($.document);for(const{item:j}of f.createRangeIn($))if(j.is("element")){for(const Z of j.getClassNames())/\bmso/gi.exec(Z)&&f.removeClass(Z,j);for(const Z of j.getStyleNames())/\bmso/gi.exec(Z)&&f.removeStyle(Z,j);j.is("element","w:sdt")&&z.push(j)}for(const j of z){const Z=j.parent,D=Z.getChildIndex(j);f.insertChild(D,j.getChildren(),Z),f.remove(j)}}(S),T.content=S}}function q(A,T,S,{blockElements:ae,inlineObjectElements:$}){let z=S.createPositionAt(A,T=="forward"?"after":"before");return z=z.getLastMatchingPosition(({item:f})=>f.is("element")&&!ae.includes(f.name)&&!$.includes(f.name),{direction:T}),T=="forward"?z.nodeAfter:z.nodeBefore}function Y(A,T){return!!A&&A.is("element")&&T.includes(A.name)}const ee=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class re{constructor(T){this.document=T}isActive(T){return ee.test(T)}execute(T){const S=new E.UpcastWriter(this.document),{body:ae}=T._parsedData;(function($,z){for(const f of $.getChildren())if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){const j=$.getChildIndex(f);z.remove(f),z.insertChild(j,f.getChildren(),$)}})(ae,S),function($,z){for(const f of z.createRangeIn($)){const j=f.item;if(j.is("element","li")){const Z=j.getChild(0);Z&&Z.is("element","p")&&z.unwrapElement(Z)}}}(ae,S),function($,z){const f=new E.ViewDocument(z.document.stylesProcessor),j=new E.DomConverter(f,{renderingMode:"data"}),Z=j.blockElements,D=j.inlineObjectElements,oe=[];for(const Se of z.createRangeIn($)){const je=Se.item;if(je.is("element","br")){const Ie=q(je,"forward",z,{blockElements:Z,inlineObjectElements:D}),De=q(je,"backward",z,{blockElements:Z,inlineObjectElements:D}),mt=Y(Ie,Z);(Y(De,Z)||mt)&&oe.push(je)}}for(const Se of oe)Se.hasClass("Apple-interchange-newline")?z.remove(Se):z.replace(Se,z.createElement("p"))}(ae,S),T.content=ae}}const ie=/<google-sheets-html-origin/i;class u{constructor(T){this.document=T}isActive(T){return ie.test(T)}execute(T){const S=new E.UpcastWriter(this.document),{body:ae}=T._parsedData;(function($,z){for(const f of $.getChildren())if(f.is("element","google-sheets-html-origin")){const j=$.getChildIndex(f);z.remove(f),z.insertChild(j,f.getChildren(),$)}})(ae,S),function($,z){for(const f of $.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&z.removeAttribute("xmlns",f)}(ae,S),function($,z){for(const f of $.getChildren())f.is("element","table")&&f.getStyle("width")==="0px"&&z.removeStyle("width",f)}(ae,S),function($,z){for(const f of Array.from($.getChildren()))f.is("element","style")&&z.remove(f)}(ae,S),T.content=ae}}function _(A){return A.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(T,S)=>S.length===1?" ":Array(S.length+1).join("\xA0 ").substr(0,S.length))}function p(A,T){const S=new DOMParser,ae=function(Z){return _(_(Z)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(Z){const D="</body>",oe="</html>",Se=Z.indexOf(D);if(Se<0)return Z;const je=Z.indexOf(oe,Se+D.length);return Z.substring(0,Se+D.length)+(je>=0?Z.substring(je):"")}(A=(A=A.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),$=S.parseFromString(ae,"text/html");(function(Z){Z.querySelectorAll("span[style*=spacerun]").forEach(D=>{const oe=D,Se=oe.innerText.length||0;oe.innerText=Array(Se+1).join("\xA0 ").substr(0,Se)})})($);const z=$.body.innerHTML,f=function(Z,D){const oe=new E.ViewDocument(D),Se=new E.DomConverter(oe,{renderingMode:"data"}),je=Z.createDocumentFragment(),Ie=Z.body.childNodes;for(;Ie.length>0;)je.appendChild(Ie[0]);return Se.domToView(je,{skipComments:!0})}($,T),j=function(Z){const D=[],oe=[],Se=Array.from(Z.getElementsByTagName("style"));for(const je of Se)je.sheet&&je.sheet.cssRules&&je.sheet.cssRules.length&&(D.push(je.sheet),oe.push(je.innerHTML));return{styles:D,stylesString:oe.join(" ")}}($);return{body:f,bodyString:z,styles:j.styles,stylesString:j.stylesString}}class v extends g.Plugin{static get pluginName(){return"PasteFromOffice"}static get requires(){return[R.ClipboardPipeline]}init(){const T=this.editor,S=T.plugins.get("ClipboardPipeline"),ae=T.editing.view.document,$=[];$.push(new V(ae)),$.push(new re(ae)),$.push(new u(ae)),S.on("inputTransformation",(z,f)=>{if(f._isTransformedWithPasteFromOffice||T.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const j=f.dataTransfer.getData("text/html"),Z=$.find(D=>D.isActive(j));Z&&(f._parsedData||(f._parsedData=p(j,ae.stylesProcessor)),Z.execute(f),f._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}})(),(window.CKEditor5=window.CKEditor5||{}).pasteFromOffice=zt})()},15515:(Qt,It,te)=>{Qt=te.nmd(Qt);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(zt,g){Qt.exports=g(te(27279))})(self,zt=>(()=>{var g={703:(C,l,c)=>{"use strict";var L=c(414);function B(){}function y(){}y.resetWarningCache=B,C.exports=function(){function h(Y,ee,re,ie,u,_){if(_!==L){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}function V(){return h}h.isRequired=h;var q={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:V,element:h,elementType:h,instanceOf:V,node:h,objectOf:V,oneOf:V,oneOfType:V,shape:V,exact:V,checkPropTypes:y,resetWarningCache:B};return q.PropTypes=q,q}},697:(C,l,c)=>{C.exports=c(703)()},414:C=>{"use strict";C.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:C=>{"use strict";C.exports=zt}},R={};function E(C){var l=R[C];if(l!==void 0)return l.exports;var c=R[C]={exports:{}};return g[C](c,c.exports,E),c.exports}E.n=C=>{var l=C&&C.__esModule?()=>C.default:()=>C;return E.d(l,{a:l}),l},E.d=(C,l)=>{for(var c in l)E.o(l,c)&&!E.o(C,c)&&Object.defineProperty(C,c,{enumerable:!0,get:l[c]})},E.o=(C,l)=>Object.prototype.hasOwnProperty.call(C,l),E.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var w={};return(()=>{"use strict";E.r(w),E.d(w,{CKEditor:()=>Ar,CKEditorContext:()=>wo,useMultiRootEditor:()=>so});var C=E(787),l=E.n(C),c=E(697),L=E.n(c);const B=new Array(256).fill("").map((me,ge)=>("0"+ge.toString(16)).slice(-2));class y{constructor(ge){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof ge.crashNumberLimit=="number"?ge.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof ge.minimumNonErrorTimePeriod=="number"?ge.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=qe=>{const Tt="error"in qe?qe.error:qe.reason;Tt instanceof Error&&this._handleError(Tt,qe)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(ge,qe){this._listeners[ge]||(this._listeners[ge]=[]),this._listeners[ge].push(qe)}off(ge,qe){this._listeners[ge]=this._listeners[ge].filter(Tt=>Tt!==qe)}_fire(ge,...qe){const Tt=this._listeners[ge]||[];for(const li of Tt)li.apply(this,[null,...qe])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(ge,qe){if(this._shouldReactToError(ge)){this.crashes.push({message:ge.message,stack:ge.stack,filename:qe instanceof ErrorEvent?qe.filename:void 0,lineno:qe instanceof ErrorEvent?qe.lineno:void 0,colno:qe instanceof ErrorEvent?qe.colno:void 0,date:this._now()});const Tt=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:ge,causesRestart:Tt}),Tt?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(ge){return ge.is&&ge.is("CKEditorError")&&ge.context!==void 0&&ge.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(ge)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function h(me,ge=new Set){const qe=[me],Tt=new Set;let li=0;for(;qe.length>li;){const _i=qe[li++];if(!Tt.has(_i)&&V(_i)&&!ge.has(_i))if(Tt.add(_i),Symbol.iterator in _i)try{for(const Ai of _i)qe.push(Ai)}catch{}else for(const Ai in _i)Ai!=="defaultValue"&&qe.push(_i[Ai])}return Tt}function V(me){const ge=Object.prototype.toString.call(me),qe=typeof me;return!(qe==="number"||qe==="boolean"||qe==="string"||qe==="symbol"||qe==="function"||ge==="[object Date]"||ge==="[object RegExp]"||ge==="[object Module]"||me==null||me._watchdogExcluded||me instanceof EventTarget||me instanceof Event)}function q(me,ge,qe=new Set){if(me===ge&&typeof(Tt=me)=="object"&&Tt!==null)return!0;var Tt;const li=h(me,qe),_i=h(ge,qe);for(const Ai of li)if(_i.has(Ai))return!0;return!1}const Y=function(me){var ge=typeof me;return me!=null&&(ge=="object"||ge=="function")},ee=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g;var re=typeof self=="object"&&self&&self.Object===Object&&self;const ie=ee||re||Function("return this")(),u=function(){return ie.Date.now()};var _=/\s/;const p=function(me){for(var ge=me.length;ge--&&_.test(me.charAt(ge)););return ge};var v=/^\s+/;const A=function(me){return me&&me.slice(0,p(me)+1).replace(v,"")},T=ie.Symbol;var S=Object.prototype,ae=S.hasOwnProperty,$=S.toString,z=T?T.toStringTag:void 0;const f=function(me){var ge=ae.call(me,z),qe=me[z];try{me[z]=void 0;var Tt=!0}catch{}var li=$.call(me);return Tt&&(ge?me[z]=qe:delete me[z]),li};var j=Object.prototype.toString;const Z=function(me){return j.call(me)};var D=T?T.toStringTag:void 0;const oe=function(me){return me==null?me===void 0?"[object Undefined]":"[object Null]":D&&D in Object(me)?f(me):Z(me)},Se=function(me){return me!=null&&typeof me=="object"},je=function(me){return typeof me=="symbol"||Se(me)&&oe(me)=="[object Symbol]"};var Ie=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,mt=/^0o[0-7]+$/i,lt=parseInt;const ut=function(me){if(typeof me=="number")return me;if(je(me))return NaN;if(Y(me)){var ge=typeof me.valueOf=="function"?me.valueOf():me;me=Y(ge)?ge+"":ge}if(typeof me!="string")return me===0?me:+me;me=A(me);var qe=De.test(me);return qe||mt.test(me)?lt(me.slice(2),qe?2:8):Ie.test(me)?NaN:+me};var dt=Math.max,vt=Math.min;const bt=function(me,ge,qe){var Tt,li,_i,Ai,Ei,Yi,qi=0,ar=!1,Zn=!1,cn=!0;if(typeof me!="function")throw new TypeError("Expected a function");function lr(An){var Gn=Tt,kr=li;return Tt=li=void 0,qi=An,Ai=me.apply(kr,Gn)}function Lr(An){var Gn=An-Yi;return Yi===void 0||Gn>=ge||Gn<0||Zn&&An-qi>=_i}function er(){var An=u();if(Lr(An))return vn(An);Ei=setTimeout(er,function(Gn){var kr=ge-(Gn-Yi);return Zn?vt(kr,_i-(Gn-qi)):kr}(An))}function vn(An){return Ei=void 0,cn&&Tt?lr(An):(Tt=li=void 0,Ai)}function tr(){var An=u(),Gn=Lr(An);if(Tt=arguments,li=this,Yi=An,Gn){if(Ei===void 0)return function(kr){return qi=kr,Ei=setTimeout(er,ge),ar?lr(kr):Ai}(Yi);if(Zn)return clearTimeout(Ei),Ei=setTimeout(er,ge),lr(Yi)}return Ei===void 0&&(Ei=setTimeout(er,ge)),Ai}return ge=ut(ge)||0,Y(qe)&&(ar=!!qe.leading,_i=(Zn="maxWait"in qe)?dt(ut(qe.maxWait)||0,ge):_i,cn="trailing"in qe?!!qe.trailing:cn),tr.cancel=function(){Ei!==void 0&&clearTimeout(Ei),qi=0,Tt=Yi=li=Ei=void 0},tr.flush=function(){return Ei===void 0?Ai:vn(u())},tr},Qe=function(me,ge,qe){var Tt=!0,li=!0;if(typeof me!="function")throw new TypeError("Expected a function");return Y(qe)&&(Tt="leading"in qe?!!qe.leading:Tt,li="trailing"in qe?!!qe.trailing:li),bt(me,ge,{leading:Tt,maxWait:ge,trailing:li})},ft=function(me,ge){return function(qe){return me(ge(qe))}},Ve=ft(Object.getPrototypeOf,Object);var Te=Function.prototype,Q=Object.prototype,xe=Te.toString,Oe=Q.hasOwnProperty,Je=xe.call(Object);const $e=function(me){if(!Se(me)||oe(me)!="[object Object]")return!1;var ge=Ve(me);if(ge===null)return!0;var qe=Oe.call(ge,"constructor")&&ge.constructor;return typeof qe=="function"&&qe instanceof qe&&xe.call(qe)==Je},tt=function(me){return Se(me)&&me.nodeType===1&&!$e(me)},st=function(){this.__data__=[],this.size=0},Pt=function(me,ge){return me===ge||me!=me&&ge!=ge},Ft=function(me,ge){for(var qe=me.length;qe--;)if(Pt(me[qe][0],ge))return qe;return-1};var Gt=Array.prototype.splice;const ui=function(me){var ge=this.__data__,qe=Ft(ge,me);return!(qe<0)&&(qe==ge.length-1?ge.pop():Gt.call(ge,qe,1),--this.size,!0)},Vt=function(me){var ge=this.__data__,qe=Ft(ge,me);return qe<0?void 0:ge[qe][1]},ti=function(me){return Ft(this.__data__,me)>-1},hi=function(me,ge){var qe=this.__data__,Tt=Ft(qe,me);return Tt<0?(++this.size,qe.push([me,ge])):qe[Tt][1]=ge,this};function Ci(me){var ge=-1,qe=me==null?0:me.length;for(this.clear();++ge<qe;){var Tt=me[ge];this.set(Tt[0],Tt[1])}}Ci.prototype.clear=st,Ci.prototype.delete=ui,Ci.prototype.get=Vt,Ci.prototype.has=ti,Ci.prototype.set=hi;const Oi=Ci,Di=function(){this.__data__=new Oi,this.size=0},Vi=function(me){var ge=this.__data__,qe=ge.delete(me);return this.size=ge.size,qe},Pi=function(me){return this.__data__.get(me)},Zi=function(me){return this.__data__.has(me)},at=function(me){if(!Y(me))return!1;var ge=oe(me);return ge=="[object Function]"||ge=="[object GeneratorFunction]"||ge=="[object AsyncFunction]"||ge=="[object Proxy]"},ue=ie["__core-js_shared__"];var ye=function(){var me=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return me?"Symbol(src)_1."+me:""}();const Le=function(me){return!!ye&&ye in me};var Ge=Function.prototype.toString;const ot=function(me){if(me!=null){try{return Ge.call(me)}catch{}try{return me+""}catch{}}return""};var gt=/^\[object .+?Constructor\]$/,Lt=Function.prototype,Ot=Object.prototype,Ut=Lt.toString,oi=Ot.hasOwnProperty,ri=RegExp("^"+Ut.call(oi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const wi=function(me){return!(!Y(me)||Le(me))&&(at(me)?ri:gt).test(ot(me))},Ii=function(me,ge){return me?.[ge]},Li=function(me,ge){var qe=Ii(me,ge);return wi(qe)?qe:void 0},yi=Li(ie,"Map"),ji=Li(Object,"create"),Ki=function(){this.__data__=ji?ji(null):{},this.size=0},Mi=function(me){var ge=this.has(me)&&delete this.__data__[me];return this.size-=ge?1:0,ge};var tn=Object.prototype.hasOwnProperty;const Zt=function(me){var ge=this.__data__;if(ji){var qe=ge[me];return qe==="__lodash_hash_undefined__"?void 0:qe}return tn.call(ge,me)?ge[me]:void 0};var wn=Object.prototype.hasOwnProperty;const Ne=function(me){var ge=this.__data__;return ji?ge[me]!==void 0:wn.call(ge,me)},H=function(me,ge){var qe=this.__data__;return this.size+=this.has(me)?0:1,qe[me]=ji&&ge===void 0?"__lodash_hash_undefined__":ge,this};function X(me){var ge=-1,qe=me==null?0:me.length;for(this.clear();++ge<qe;){var Tt=me[ge];this.set(Tt[0],Tt[1])}}X.prototype.clear=Ki,X.prototype.delete=Mi,X.prototype.get=Zt,X.prototype.has=Ne,X.prototype.set=H;const se=X,be=function(){this.size=0,this.__data__={hash:new se,map:new(yi||Oi),string:new se}},ht=function(me){var ge=typeof me;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?me!=="__proto__":me===null},Rt=function(me,ge){var qe=me.__data__;return ht(ge)?qe[typeof ge=="string"?"string":"hash"]:qe.map},Yt=function(me){var ge=Rt(this,me).delete(me);return this.size-=ge?1:0,ge},_t=function(me){return Rt(this,me).get(me)},Ce=function(me){return Rt(this,me).has(me)},ze=function(me,ge){var qe=Rt(this,me),Tt=qe.size;return qe.set(me,ge),this.size+=qe.size==Tt?0:1,this};function nt(me){var ge=-1,qe=me==null?0:me.length;for(this.clear();++ge<qe;){var Tt=me[ge];this.set(Tt[0],Tt[1])}}nt.prototype.clear=be,nt.prototype.delete=Yt,nt.prototype.get=_t,nt.prototype.has=Ce,nt.prototype.set=ze;const Ke=nt,yt=function(me,ge){var qe=this.__data__;if(qe instanceof Oi){var Tt=qe.__data__;if(!yi||Tt.length<199)return Tt.push([me,ge]),this.size=++qe.size,this;qe=this.__data__=new Ke(Tt)}return qe.set(me,ge),this.size=qe.size,this};function si(me){var ge=this.__data__=new Oi(me);this.size=ge.size}si.prototype.clear=Di,si.prototype.delete=Vi,si.prototype.get=Pi,si.prototype.has=Zi,si.prototype.set=yt;const ni=si,ki=function(me,ge){for(var qe=-1,Tt=me==null?0:me.length;++qe<Tt&&ge(me[qe],qe,me)!==!1;);return me},di=function(){try{var me=Li(Object,"defineProperty");return me({},"",{}),me}catch{}}(),Ti=function(me,ge,qe){ge=="__proto__"&&di?di(me,ge,{configurable:!0,enumerable:!0,value:qe,writable:!0}):me[ge]=qe};var Ni=Object.prototype.hasOwnProperty;const Gi=function(me,ge,qe){var Tt=me[ge];Ni.call(me,ge)&&Pt(Tt,qe)&&(qe!==void 0||ge in me)||Ti(me,ge,qe)},rn=function(me,ge,qe,Tt){var li=!qe;qe||(qe={});for(var _i=-1,Ai=ge.length;++_i<Ai;){var Ei=ge[_i],Yi=Tt?Tt(qe[Ei],me[Ei],Ei,qe,me):void 0;Yi===void 0&&(Yi=me[Ei]),li?Ti(qe,Ei,Yi):Gi(qe,Ei,Yi)}return qe},$i=function(me,ge){for(var qe=-1,Tt=Array(me);++qe<me;)Tt[qe]=ge(qe);return Tt},hn=function(me){return Se(me)&&oe(me)=="[object Arguments]"};var kn=Object.prototype,qn=kn.hasOwnProperty,on=kn.propertyIsEnumerable;const En=hn(function(){return arguments}())?hn:function(me){return Se(me)&&qn.call(me,"callee")&&!on.call(me,"callee")},In=Array.isArray,Yn=function(){return!1};var ur=It&&!It.nodeType&&It,rr=ur&&!0&&Qt&&!Qt.nodeType&&Qt,or=rr&&rr.exports===ur?ie.Buffer:void 0;const Ht=(or?or.isBuffer:void 0)||Yn;var K=/^(?:0|[1-9]\d*)$/;const Ae=function(me,ge){var qe=typeof me;return!!(ge=ge??9007199254740991)&&(qe=="number"||qe!="symbol"&&K.test(me))&&me>-1&&me%1==0&&me<ge},Ue=function(me){return typeof me=="number"&&me>-1&&me%1==0&&me<=9007199254740991};var Be={};Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Arguments]"]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object Boolean]"]=Be["[object DataView]"]=Be["[object Date]"]=Be["[object Error]"]=Be["[object Function]"]=Be["[object Map]"]=Be["[object Number]"]=Be["[object Object]"]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object WeakMap]"]=!1;const et=function(me){return Se(me)&&Ue(me.length)&&!!Be[oe(me)]},Xe=function(me){return function(ge){return me(ge)}};var Et=It&&!It.nodeType&&It,kt=Et&&!0&&Qt&&!Qt.nodeType&&Qt,At=kt&&kt.exports===Et&&ee.process;const Dt=function(){try{var me=kt&&kt.require&&kt.require("util").types;return me||At&&At.binding&&At.binding("util")}catch{}}();var Wt=Dt&&Dt.isTypedArray;const mi=Wt?Xe(Wt):et;var ai=Object.prototype.hasOwnProperty;const gi=function(me,ge){var qe=In(me),Tt=!qe&&En(me),li=!qe&&!Tt&&Ht(me),_i=!qe&&!Tt&&!li&&mi(me),Ai=qe||Tt||li||_i,Ei=Ai?$i(me.length,String):[],Yi=Ei.length;for(var qi in me)!ge&&!ai.call(me,qi)||Ai&&(qi=="length"||li&&(qi=="offset"||qi=="parent")||_i&&(qi=="buffer"||qi=="byteLength"||qi=="byteOffset")||Ae(qi,Yi))||Ei.push(qi);return Ei};var Ri=Object.prototype;const Qi=function(me){var ge=me&&me.constructor;return me===(typeof ge=="function"&&ge.prototype||Ri)},Pn=ft(Object.keys,Object);var Mn=Object.prototype.hasOwnProperty;const Qn=function(me){if(!Qi(me))return Pn(me);var ge=[];for(var qe in Object(me))Mn.call(me,qe)&&qe!="constructor"&&ge.push(qe);return ge},Kn=function(me){return me!=null&&Ue(me.length)&&!at(me)},Rn=function(me){return Kn(me)?gi(me):Qn(me)},hr=function(me,ge){return me&&rn(ge,Rn(ge),me)},yr=function(me){var ge=[];if(me!=null)for(var qe in Object(me))ge.push(qe);return ge};var Nn=Object.prototype.hasOwnProperty;const sr=function(me){if(!Y(me))return yr(me);var ge=Qi(me),qe=[];for(var Tt in me)(Tt!="constructor"||!ge&&Nn.call(me,Tt))&&qe.push(Tt);return qe},zn=function(me){return Kn(me)?gi(me,!0):sr(me)},_e=function(me,ge){return me&&rn(ge,zn(ge),me)};var k=It&&!It.nodeType&&It,d=k&&!0&&Qt&&!Qt.nodeType&&Qt,I=d&&d.exports===k?ie.Buffer:void 0,N=I?I.allocUnsafe:void 0;const J=function(me,ge){if(ge)return me.slice();var qe=me.length,Tt=N?N(qe):new me.constructor(qe);return me.copy(Tt),Tt},ce=function(me,ge){var qe=-1,Tt=me.length;for(ge||(ge=Array(Tt));++qe<Tt;)ge[qe]=me[qe];return ge},pe=function(me,ge){for(var qe=-1,Tt=me==null?0:me.length,li=0,_i=[];++qe<Tt;){var Ai=me[qe];ge(Ai,qe,me)&&(_i[li++]=Ai)}return _i},he=function(){return[]};var ve=Object.prototype.propertyIsEnumerable,Re=Object.getOwnPropertySymbols;const We=Re?function(me){return me==null?[]:(me=Object(me),pe(Re(me),function(ge){return ve.call(me,ge)}))}:he,Ye=function(me,ge){return rn(me,We(me),ge)},pt=function(me,ge){for(var qe=-1,Tt=ge.length,li=me.length;++qe<Tt;)me[li+qe]=ge[qe];return me},Ct=Object.getOwnPropertySymbols?function(me){for(var ge=[];me;)pt(ge,We(me)),me=Ve(me);return ge}:he,St=function(me,ge){return rn(me,Ct(me),ge)},xt=function(me,ge,qe){var Tt=ge(me);return In(me)?Tt:pt(Tt,qe(me))},ii=function(me){return xt(me,Rn,We)},Jt=function(me){return xt(me,zn,Ct)},bi=Li(ie,"DataView"),Si=Li(ie,"Promise"),Hi=Li(ie,"Set"),sn=Li(ie,"WeakMap");var mn="[object Map]",Cn="[object Promise]",pr="[object Set]",$r="[object WeakMap]",Dr="[object DataView]",Xr=ot(bi),fr=ot(yi),Jn=ot(Si),Ir=ot(Hi),zr=ot(sn),Fn=oe;(bi&&Fn(new bi(new ArrayBuffer(1)))!=Dr||yi&&Fn(new yi)!=mn||Si&&Fn(Si.resolve())!=Cn||Hi&&Fn(new Hi)!=pr||sn&&Fn(new sn)!=$r)&&(Fn=function(me){var ge=oe(me),qe=ge=="[object Object]"?me.constructor:void 0,Tt=qe?ot(qe):"";if(Tt)switch(Tt){case Xr:return Dr;case fr:return mn;case Jn:return Cn;case Ir:return pr;case zr:return $r}return ge});const Xn=Fn;var Do=Object.prototype.hasOwnProperty;const eo=function(me){var ge=me.length,qe=new me.constructor(ge);return ge&&typeof me[0]=="string"&&Do.call(me,"index")&&(qe.index=me.index,qe.input=me.input),qe},ho=ie.Uint8Array,Fr=function(me){var ge=new me.constructor(me.byteLength);return new ho(ge).set(new ho(me)),ge},mo=function(me,ge){var qe=ge?Fr(me.buffer):me.buffer;return new me.constructor(qe,me.byteOffset,me.byteLength)};var qr=/\w*$/;const zo=function(me){var ge=new me.constructor(me.source,qr.exec(me));return ge.lastIndex=me.lastIndex,ge};var Eo=T?T.prototype:void 0,to=Eo?Eo.valueOf:void 0;const So=function(me){return to?Object(to.call(me)):{}},Io=function(me,ge){var qe=ge?Fr(me.buffer):me.buffer;return new me.constructor(qe,me.byteOffset,me.length)},go=function(me,ge,qe){var Tt=me.constructor;switch(ge){case"[object ArrayBuffer]":return Fr(me);case"[object Boolean]":case"[object Date]":return new Tt(+me);case"[object DataView]":return mo(me,qe);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Io(me,qe);case"[object Map]":case"[object Set]":return new Tt;case"[object Number]":case"[object String]":return new Tt(me);case"[object RegExp]":return zo(me);case"[object Symbol]":return So(me)}};var Ji=Object.create;const xr=function(){function me(){}return function(ge){if(!Y(ge))return{};if(Ji)return Ji(ge);me.prototype=ge;var qe=new me;return me.prototype=void 0,qe}}(),Cr=function(me){return typeof me.constructor!="function"||Qi(me)?{}:xr(Ve(me))},Pr=function(me){return Se(me)&&Xn(me)=="[object Map]"};var br=Dt&&Dt.isMap;const Ln=br?Xe(br):Pr,an=function(me){return Se(me)&&Xn(me)=="[object Set]"};var Wn=Dt&&Dt.isSet;const ln=Wn?Xe(Wn):an;var wr="[object Arguments]",Tr="[object Function]",Xt="[object Object]",nn={};nn[wr]=nn["[object Array]"]=nn["[object ArrayBuffer]"]=nn["[object DataView]"]=nn["[object Boolean]"]=nn["[object Date]"]=nn["[object Float32Array]"]=nn["[object Float64Array]"]=nn["[object Int8Array]"]=nn["[object Int16Array]"]=nn["[object Int32Array]"]=nn["[object Map]"]=nn["[object Number]"]=nn[Xt]=nn["[object RegExp]"]=nn["[object Set]"]=nn["[object String]"]=nn["[object Symbol]"]=nn["[object Uint8Array]"]=nn["[object Uint8ClampedArray]"]=nn["[object Uint16Array]"]=nn["[object Uint32Array]"]=!0,nn["[object Error]"]=nn[Tr]=nn["[object WeakMap]"]=!1;const Kr=function me(ge,qe,Tt,li,_i,Ai){var Ei,Yi=1&qe,qi=2&qe,ar=4&qe;if(Tt&&(Ei=_i?Tt(ge,li,_i,Ai):Tt(ge)),Ei!==void 0)return Ei;if(!Y(ge))return ge;var Zn=In(ge);if(Zn){if(Ei=eo(ge),!Yi)return ce(ge,Ei)}else{var cn=Xn(ge),lr=cn==Tr||cn=="[object GeneratorFunction]";if(Ht(ge))return J(ge,Yi);if(cn==Xt||cn==wr||lr&&!_i){if(Ei=qi||lr?{}:Cr(ge),!Yi)return qi?St(ge,_e(Ei,ge)):Ye(ge,hr(Ei,ge))}else{if(!nn[cn])return _i?ge:{};Ei=go(ge,cn,Yi)}}Ai||(Ai=new ni);var Lr=Ai.get(ge);if(Lr)return Lr;Ai.set(ge,Ei),ln(ge)?ge.forEach(function(vn){Ei.add(me(vn,qe,Tt,vn,ge,Ai))}):Ln(ge)&&ge.forEach(function(vn,tr){Ei.set(tr,me(vn,qe,Tt,tr,ge,Ai))});var er=Zn?void 0:(ar?qi?Jt:ii:qi?zn:Rn)(ge);return ki(er||ge,function(vn,tr){er&&(vn=ge[tr=vn]),Gi(Ei,tr,me(vn,qe,Tt,tr,ge,Ai))}),Ei},po=function(me,ge){return Kr(me,5,ge=typeof ge=="function"?ge:void 0)};class io extends y{constructor(ge,qe={}){super(qe),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Qe(this._save.bind(this),typeof qe.saveInterval=="number"?qe.saveInterval:5e3),ge&&(this._creator=(Tt,li)=>ge.create(Tt,li)),this._destructor=Tt=>Tt.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(ge){this._creator=ge}setDestructor(ge){this._destructor=ge}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(ge=>{console.error("An error happened during the editor destroying.",ge)}).then(()=>{const ge={},qe=[],Tt=this._config.rootsAttributes||{},li={};for(const[Ai,Ei]of Object.entries(this._data.roots))Ei.isLoaded?(ge[Ai]="",li[Ai]=Tt[Ai]||{}):qe.push(Ai);const _i={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:qe,rootsAttributes:li,_watchdogInitialData:this._data};return delete _i.initialData,_i.extraPlugins.push(no),this._initUsingData?this.create(ge,_i,_i.context):tt(this._elementOrData)?this.create(this._elementOrData,_i,_i.context):this.create(this._editables,_i,_i.context)}).then(()=>{this._fire("restart")})}create(ge=this._elementOrData,qe=this._config,Tt){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=ge,this._initUsingData=typeof ge=="string"||Object.keys(ge).length>0&&typeof Object.values(ge)[0]=="string",this._config=this._cloneEditorConfiguration(qe)||{},this._config.context=Tt,this._creator(ge,this._config))).then(li=>{this._editor=li,li.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=li.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const ge=this._editor;return this._editor=null,ge.model.document.off("change:data",this._throttledSave),this._destructor(ge)})}_save(){const ge=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=ge}catch(qe){console.error(qe,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(ge){this._excludedProps=ge}_getData(){const ge=this._editor,qe=ge.model.document.roots.filter(Ei=>Ei.isAttached()&&Ei.rootName!="$graveyard"),{plugins:Tt}=ge,li=Tt.has("CommentsRepository")&&Tt.get("CommentsRepository"),_i=Tt.has("TrackChanges")&&Tt.get("TrackChanges"),Ai={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};qe.forEach(Ei=>{Ai.roots[Ei.rootName]={content:JSON.stringify(Array.from(Ei.getChildren())),attributes:JSON.stringify(Array.from(Ei.getAttributes())),isLoaded:Ei._isLoaded}});for(const Ei of ge.model.markers)Ei._affectsData&&(Ai.markers[Ei.name]={rangeJSON:Ei.getRange().toJSON(),usingOperation:Ei._managedUsingOperations,affectsData:Ei._affectsData});return li&&(Ai.commentThreads=JSON.stringify(li.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),_i&&(Ai.suggestions=JSON.stringify(_i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),Ai}_getEditables(){const ge={};for(const qe of this.editor.model.document.getRootNames()){const Tt=this.editor.ui.getEditableElement(qe);Tt&&(ge[qe]=Tt)}return ge}_isErrorComingFromThisItem(ge){return q(this._editor,ge.context,this._excludedProps)}_cloneEditorConfiguration(ge){return po(ge,(qe,Tt)=>tt(qe)||Tt==="context"?qe:void 0)}}class no{constructor(ge){this.editor=ge,this._data=ge.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",ge=>{ge.stop(),this.editor.model.enqueueChange({isUndoable:!1},qe=>{this._restoreCollaborationData(),this._restoreEditorData(qe)}),this.editor.data.fire("ready")},{priority:999})}_createNode(ge,qe){if("name"in qe){const Tt=ge.createElement(qe.name,qe.attributes);if(qe.children)for(const li of qe.children)Tt._appendChild(this._createNode(ge,li));return Tt}return ge.createText(qe.data,qe.attributes)}_restoreEditorData(ge){const qe=this.editor;Object.entries(this._data.roots).forEach(([Tt,{content:li,attributes:_i}])=>{const Ai=JSON.parse(li),Ei=JSON.parse(_i),Yi=qe.model.document.getRoot(Tt);for(const[qi,ar]of Ei)ge.setAttribute(qi,ar,Yi);for(const qi of Ai){const ar=this._createNode(ge,qi);ge.insert(ar,Yi,"end")}}),Object.entries(this._data.markers).forEach(([Tt,li])=>{const{document:_i}=qe.model,{rangeJSON:{start:Ai,end:Ei},...Yi}=li,qi=_i.getRoot(Ai.root),ar=ge.createPositionFromPath(qi,Ai.path,Ai.stickiness),Zn=ge.createPositionFromPath(qi,Ei.path,Ei.stickiness),cn=ge.createRange(ar,Zn);ge.addMarker(Tt,{range:cn,...Yi})})}_restoreCollaborationData(){const ge=JSON.parse(this._data.commentThreads),qe=JSON.parse(this._data.suggestions);ge.forEach(Tt=>{const li=this.editor.config.get("collaboration.channelId"),_i=this.editor.plugins.get("CommentsRepository");_i.hasCommentThread(Tt.threadId)&&_i.getCommentThread(Tt.threadId).remove(),_i.addCommentThread({channelId:li,...Tt})}),qe.forEach(Tt=>{const li=this.editor.plugins.get("TrackChangesEditing");li.hasSuggestion(Tt.id)?li.getSuggestion(Tt.id).attributes=Tt.attributes:li.addSuggestionData(Tt)})}}const Bt=Symbol("MainQueueId");class Vr extends y{constructor(ge,qe={}){super(qe),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new fo,this._watchdogConfig=qe,this._creator=Tt=>ge.create(Tt),this._destructor=Tt=>Tt.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(ge){this._creator=ge}setDestructor(ge){this._destructor=ge}get context(){return this._context}create(ge={}){return this._actionQueues.enqueue(Bt,()=>(this._contextConfig=ge,this._create()))}getItem(ge){return this._getWatchdog(ge)._item}getItemState(ge){return this._getWatchdog(ge).state}add(ge){const qe=Hr(ge);return Promise.all(qe.map(Tt=>this._actionQueues.enqueue(Tt.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let li;if(this._watchdogs.has(Tt.id))throw new Error(`Item with the given id is already added: '${Tt.id}'.`);if(Tt.type==="editor")return li=new io(null,this._watchdogConfig),li.setCreator(Tt.creator),li._setExcludedProperties(this._contextProps),Tt.destructor&&li.setDestructor(Tt.destructor),this._watchdogs.set(Tt.id,li),li.on("error",(_i,{error:Ai,causesRestart:Ei})=>{this._fire("itemError",{itemId:Tt.id,error:Ai}),Ei&&this._actionQueues.enqueue(Tt.id,()=>new Promise(Yi=>{const qi=()=>{li.off("restart",qi),this._fire("itemRestart",{itemId:Tt.id}),Yi()};li.on("restart",qi)}))}),li.create(Tt.sourceElementOrData,Tt.config,this._context);throw new Error(`Not supported item type: '${Tt.type}'.`)})))}remove(ge){const qe=Hr(ge);return Promise.all(qe.map(Tt=>this._actionQueues.enqueue(Tt,()=>{const li=this._getWatchdog(Tt);return this._watchdogs.delete(Tt),li.destroy()})))}destroy(){return this._actionQueues.enqueue(Bt,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Bt,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(ge=>{console.error("An error happened during destroying the context or items.",ge)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(ge=>(this._context=ge,this._contextProps=h(this._context),Promise.all(Array.from(this._watchdogs.values()).map(qe=>(qe._setExcludedProperties(this._contextProps),qe.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const ge=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(qe=>qe.destroy())).then(()=>this._destructor(ge))})}_getWatchdog(ge){const qe=this._watchdogs.get(ge);if(!qe)throw new Error(`Item with the given id was not registered: ${ge}.`);return qe}_isErrorComingFromThisItem(ge){for(const qe of this._watchdogs.values())if(qe._isErrorComingFromThisItem(ge))return!1;return q(this._context,ge.context)}}class fo{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(ge){this._onEmptyCallbacks.push(ge)}enqueue(ge,qe){const Tt=ge===Bt;this._activeActions++,this._queues.get(ge)||this._queues.set(ge,Promise.resolve());const li=(Tt?Promise.all(this._queues.values()):Promise.all([this._queues.get(Bt),this._queues.get(ge)])).then(qe),_i=li.catch(()=>{});return this._queues.set(ge,_i),li.finally(()=>{this._activeActions--,this._queues.get(ge)===_i&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Ai=>Ai())})}}function Hr(me){return Array.isArray(me)?me:[me]}const bo=l().createContext("contextWatchdog");class wo extends l().Component{constructor(ge,qe){super(ge,qe),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(ge){return this._shouldComponentUpdate(ge)}async _shouldComponentUpdate(ge){return ge.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(ge.config)),ge.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(ge.config),!0):this.props.children!==ge.children}render(){return l().createElement(bo.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(ge){this.contextWatchdog=new Vr(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(qe,Tt)=>{this.props.onError(Tt.error,{phase:"runtime",willContextRestart:Tt.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(ge).catch(qe=>{this.props.onError(qe,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}wo.defaultProps={isLayoutReady:!0,onError:(me,ge)=>console.error(me,ge)},wo.propTypes={id:L().string,isLayoutReady:L().bool,context:L().func,watchdogConfig:L().object,config:L().object,onReady:L().func,onError:L().func};const ro="Lock from React integration (@ckeditor/ckeditor5-react)";class Ar extends l().Component{constructor(ge){super(ge),this.editorDestructionInProgress=null,this.domContainer=l().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:qe}=window;if(qe){const[Tt]=qe.split(".").map(Number);Tt<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(ge){return!!this.editor&&(ge.id!==this.props.id||ge.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(ge)&&this.editor.data.set(ge.data),"disabled"in ge&&(ge.disabled?this.editor.enableReadOnlyMode(ro):this.editor.disableReadOnlyMode(ro)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return l().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Vr?this.watchdog=new Po(this.context):this.watchdog=new Ar._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((ge,qe)=>this._createEditor(ge,qe)),this.watchdog.on("error",(ge,{error:qe,causesRestart:Tt})=>{(this.props.onError||console.error)(qe,{phase:"runtime",willEditorRestart:Tt})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(ge=>{(this.props.onError||console.error)(ge,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(ge,qe){return this.props.editor.create(ge,qe).then(Tt=>{"disabled"in this.props&&this.props.disabled&&Tt.enableReadOnlyMode(ro);const li=Tt.model.document,_i=Tt.editing.view.document;return li.on("change:data",Ai=>{this.props.onChange&&this.props.onChange(Ai,Tt)}),_i.on("focus",Ai=>{this.props.onFocus&&this.props.onFocus(Ai,Tt)}),_i.on("blur",Ai=>{this.props.onBlur&&this.props.onBlur(Ai,Tt)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Tt)}),Tt})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(ge=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,ge()):this.instance?(await this.instance.destroy(),this.instance=null,ge()):void ge())})}_shouldUpdateEditor(ge){return this.props.data!==ge.data&&this.editor.data.get()!==ge.data}_getConfig(){const ge=this.props.config||{};return this.props.data&&ge.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...ge,initialData:ge.initialData||this.props.data||""}}}Ar.contextType=bo,Ar.propTypes={editor:L().func.isRequired,data:L().string,config:L().object,disableWatchdog:L().bool,watchdogConfig:L().object,onChange:L().func,onReady:L().func,onFocus:L().func,onBlur:L().func,onError:L().func,disabled:L().bool,id:L().any},Ar._EditorWatchdog=io;class Po{constructor(ge){this._contextWatchdog=ge,this._id=function(){const qe=4294967296*Math.random()>>>0,Tt=4294967296*Math.random()>>>0,li=4294967296*Math.random()>>>0,_i=4294967296*Math.random()>>>0;return"e"+B[qe>>0&255]+B[qe>>8&255]+B[qe>>16&255]+B[qe>>24&255]+B[Tt>>0&255]+B[Tt>>8&255]+B[Tt>>16&255]+B[Tt>>24&255]+B[li>>0&255]+B[li>>8&255]+B[li>>16&255]+B[li>>24&255]+B[_i>>0&255]+B[_i>>8&255]+B[_i>>16&255]+B[_i>>24&255]}()}setCreator(ge){this._creator=ge}create(ge,qe){return this._contextWatchdog.add({sourceElementOrData:ge,config:qe,creator:this._creator,id:this._id,type:"editor"})}on(ge,qe){this._contextWatchdog.on("itemError",(Tt,{itemId:li,error:_i})=>{li===this._id&&qe(null,{error:_i,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const oo="Lock from React integration (@ckeditor/ckeditor5-react)",so=me=>{let ge=null;const qe=(0,C.useRef)(null),Tt=(0,C.useContext)(bo),[li,_i]=(0,C.useState)(null),[Ai,Ei]=(0,C.useState)(me.data),[Yi,qi]=(0,C.useState)(me.rootsAttributes||{}),[ar,Zn]=(0,C.useState)([]),cn=(0,C.useRef)(!0),lr=(0,C.useRef)(null),Lr=l().createElement("div",{ref:lr});(0,C.useEffect)(()=>((async()=>(await qe.current,me.isLayoutReady!==!1&&Gn()))(),()=>{An().then(()=>{qe.current=null})}),[me.isLayoutReady]),(0,C.useEffect)(()=>{li&&(me.disabled?li.enableReadOnlyMode(oo):li.disableReadOnlyMode(oo))},[me.disabled]),(0,C.useEffect)(()=>{const Ui=lr.current;if(li&&!qe.current){const fn=li.getFullData();Ei({...fn}),qi({...li.getRootsAttributes()}),Zn([...Object.keys(fn).map(Xi=>vn(li,Xi))]),Ui&&Ui.appendChild(li.ui.view.toolbar.element)}return()=>{Ui&&Ui.firstChild&&Ui.removeChild(Ui.firstChild)}},[li&&li.id]);const er=()=>{const Ui=me.config||{};return me.data&&Ui.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Ui,rootsAttributes:Yi}},vn=(Ui,fn)=>l().createElement("div",{id:fn,key:fn,ref:Xi=>{if(Xi){const ir=Ui.ui.view.createEditable(fn,Xi);Ui.ui.addEditable(ir),Ui.editing.view.forceRender()}}}),tr=(Ui,fn)=>me.editor.create(Ui,fn).then(Xi=>{me.disabled&&me.disabled&&Xi.enableReadOnlyMode(oo);const ir=Xi.model.document,Or=Xi.editing.view.document;return ir.on("change:data",Er=>((Bn,$n)=>{const _n=Bn.model.document,vr={},nr={};_n.differ.getChanges().forEach(Tn=>{let Dn;if(Dn=Tn.type=="insert"||Tn.type=="remove"?Tn.position.root:Tn.range.root,!Dn.isAttached())return;const{rootName:Ur}=Dn;vr[Ur]=Bn.getData({rootName:Ur})}),_n.differ.getChangedRoots().forEach(Tn=>{if(Tn.state)return void(vr[Tn.name]!==void 0&&delete vr[Tn.name]);const Dn=Tn.name;nr[Dn]=Bn.getRootAttributes(Dn)}),Object.keys(vr).length&&Ei(Tn=>({...Tn,...vr})),Object.keys(nr).length&&qi(Tn=>({...Tn,...nr})),me.onChange&&me.onChange($n,Bn)})(Xi,Er)),Xi.on("addRoot",(Er,Bn)=>(($n,_n,vr)=>{const nr=vr.rootName,Tn=vn($n,nr);Ei(Dn=>({...Dn,[nr]:$n.getData({rootName:nr})})),qi(Dn=>({...Dn,[nr]:$n.getRootAttributes(nr)})),Zn(Dn=>[...Dn,Tn])})(Xi,0,Bn)),Xi.on("detachRoot",(Er,Bn)=>(($n,_n,vr)=>{const nr=vr.rootName;Zn(Tn=>Tn.filter(Dn=>Dn.props.id!==nr)),Ei(Tn=>{const{[nr]:Dn,...Ur}=Tn;return{...Ur}}),qi(Tn=>{const{[nr]:Dn,...Ur}=Tn;return{...Ur}}),$n.detachEditable(vr)})(Xi,0,Bn)),Or.on("focus",Er=>{me.onFocus&&me.onFocus(Er,Xi)}),Or.on("blur",Er=>{me.onBlur&&me.onBlur(Er,Xi)}),_i(Xi),me.onReady&&me.onReady(Xi),Xi}),An=async()=>{_i(null),Ei({}),qi({}),Zn([]),qe.current=new Promise(Ui=>{setTimeout(async()=>ge?(await ge.destroy(),ge=null,Ui()):li?(await li.destroy(),Ui()):void Ui())})},Gn=async()=>{me.disableWatchdog?await tr(me.data,er()):ge||(ge=Tt instanceof Vr?new Po(Tt):new io(me.editor,me.watchdogConfig),ge.setCreator((Ui,fn)=>tr(Ui,fn)),ge.on("error",(Ui,{error:fn,causesRestart:Xi})=>{(me.onError||console.error)(fn,{phase:"runtime",willEditorRestart:Xi})}),await ge.create(Ai,er()).catch(Ui=>{(me.onError||console.error)(Ui,{phase:"initialization",willEditorRestart:!1})}))};(0,C.useEffect)(()=>{if(li&&cn.current){cn.current=!1;const Ui=Object.keys(Ai),fn=Object.keys(Yi);if(!Ui.every(_n=>fn.includes(_n)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Xi=li.getFullData(),ir=li.getRootsAttributes(),{addedKeys:Or,removedKeys:Er}=kr(Xi,Ai||{}),Bn=Ui.some(_n=>Xi[_n]!==void 0&&JSON.stringify(Xi[_n])!==JSON.stringify(Ai[_n])),$n=fn.filter(_n=>JSON.stringify(ir[_n])!==JSON.stringify(Yi[_n]));li.model.change(_n=>{ko(Or),Lo(Er),Bn&&Oo(),$n.length&&mr(_n,$n)})}},[Ai,Yi]);const kr=(Ui,fn)=>{const Xi=Object.keys(Ui),ir=Object.keys(fn);return{addedKeys:ir.filter(Or=>!Xi.includes(Or)),removedKeys:Xi.filter(Or=>!ir.includes(Or))}},ko=Ui=>{Ui.forEach(fn=>{li.addRoot(fn,{data:Ai[fn]||"",attributes:Yi?.[fn]||{},isUndoable:!0})})},Lo=Ui=>{Ui.forEach(fn=>{li.detachRoot(fn,!0)})},Oo=()=>{li.data.set(Ai,{suppressErrorInCollaboration:!0})},mr=(Ui,fn)=>{fn.forEach(Xi=>{Object.keys(Yi[Xi]).forEach(ir=>{li.registerRootAttribute(ir)}),Ui.clearAttributes(li.model.document.getRoot(Xi)),Ui.setAttributes(Yi[Xi],li.model.document.getRoot(Xi))})},vo=(0,C.useCallback)(Ui=>{cn.current=!0,Ei(Ui)},[Ei]),Mo=(0,C.useCallback)(Ui=>{cn.current=!0,qi(Ui)},[qi]);return{editor:li,editableElements:ar,toolbarElement:Lr,data:Ai,setData:vo,attributes:Yi,setAttributes:Mo}}})(),w})())},59540:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{"Remove Format":"Remove Format"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={exports:{}};return Qt[g](E,E.exports,te),E.exports}te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{RemoveFormat:()=>L,RemoveFormatEditing:()=>c,RemoveFormatUI:()=>w});var g=te(704),R=te(273);const E="removeFormat";class w extends g.Plugin{static get pluginName(){return"RemoveFormatUI"}init(){const y=this.editor,h=y.t;y.ui.componentFactory.add(E,V=>{const q=y.commands.get(E),Y=new R.ButtonView(V);return Y.set({label:h("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),Y.bind("isOn","isEnabled").to(q,"value","isEnabled"),this.listenTo(Y,"execute",()=>{y.execute(E),y.editing.view.focus()}),Y})}}var C=te(209);class l extends g.Command{refresh(){const y=this.editor.model;this.isEnabled=!!(0,C.first)(this._getFormattingItems(y.document.selection,y.schema))}execute(){const y=this.editor.model,h=y.schema;y.change(V=>{for(const q of this._getFormattingItems(y.document.selection,h))if(q.is("selection"))for(const Y of this._getFormattingAttributes(q,h))V.removeSelectionAttribute(Y);else{const Y=V.createRangeOn(q);for(const ee of this._getFormattingAttributes(q,h))V.removeAttribute(ee,Y)}})}*_getFormattingItems(y,h){const V=q=>!!(0,C.first)(this._getFormattingAttributes(q,h));for(const q of y.getRanges())for(const Y of q.getItems())!h.isBlock(Y)&&V(Y)&&(yield Y);for(const q of y.getSelectedBlocks())V(q)&&(yield q);V(y)&&(yield y)}*_getFormattingAttributes(y,h){for(const[V]of y.getAttributes()){const q=h.getAttributeProperties(V);q&&q.isFormatting&&(yield V)}}}class c extends g.Plugin{static get pluginName(){return"RemoveFormatEditing"}init(){const y=this.editor;y.commands.add("removeFormat",new l(y))}}class L extends g.Plugin{static get requires(){return[c,w]}static get pluginName(){return"RemoveFormat"}}})(),(window.CKEditor5=window.CKEditor5||{}).removeFormat=zt})()},54248:()=>{(function(Qt){const It=Qt.en=Qt.en||{};It.dictionary=Object.assign(It.dictionary||{},{All:"All","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Arrows:"Arrows","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above","Bitcoin sign":"Bitcoin sign","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign",Currency:"Currency","Currency sign":"Currency sign","Degree sign":"Degree sign","Division sign":"Division sign","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","downwards simple arrow":"downwards simple arrow","Drachma sign":"Drachma sign","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign","Guarani sign":"Guarani sign","Horizontal ellipsis":"Horizontal ellipsis","Hryvnia sign":"Hryvnia sign","Identical to":"Identical to","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark","Kip sign":"Kip sign",Latin:"Latin","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","leftwards simple arrow":"leftwards simple arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign",Mathematical:"Mathematical","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above",Overline:"Overline","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Proportional to":"Proportional to","Question exclamation mark":"Question exclamation mark","Registered sign":"Registered sign","Reversed paragraph sign":"Reversed paragraph sign","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","rightwards simple arrow":"rightwards simple arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign","Section sign":"Section sign","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root","Tenge sign":"Tenge sign",Text:"Text","There exists":"There exists","Tilde operator":"Tilde operator","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign","Two dot leader":"Two dot leader",Union:"Union","up down arrow with base":"up down arrow with base","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","upwards simple arrow":"upwards simple arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters","Won sign":"Won sign","Yen sign":"Yen sign"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var Qt={298:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}",""]);const l=C},507:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}",""]);const l=C},911:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(609),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}",""]);const l=C},609:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},62:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},181:(g,R,E)=>{g.exports=E(79)("./src/typing.js")},273:(g,R,E)=>{g.exports=E(79)("./src/ui.js")},209:(g,R,E)=>{g.exports=E(79)("./src/utils.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{SpecialCharacters:()=>_,SpecialCharactersArrows:()=>p,SpecialCharactersCurrency:()=>S,SpecialCharactersEssentials:()=>ae,SpecialCharactersLatin:()=>T,SpecialCharactersMathematical:()=>A,SpecialCharactersText:()=>v});var g=te(704),R=te(181),E=te(273),w=te(209);class C extends E.FormHeaderView{constructor(z,f){super(z);const j=z.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(f),this.groupDropdownView.panelPosition=z.uiLanguageDirection==="rtl"?"se":"sw",this.label=j("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(z){const f=this.locale,j=f.t,Z=(0,E.createDropdown)(f),D=this._getCharacterGroupListItemDefinitions(Z,z),oe=j("Character categories");return Z.set("value",D.first.model.name),Z.buttonView.bind("label").to(Z,"value",Se=>z.get(Se)),Z.buttonView.set({isOn:!1,withText:!0,tooltip:oe,class:["ck-dropdown__button_label-width_auto"],ariaLabel:oe,ariaLabelledBy:void 0}),Z.on("execute",Se=>{Z.value=Se.source.name}),Z.delegate("execute").to(this),(0,E.addListToDropdown)(Z,D,{ariaLabel:oe,role:"menu"}),Z}_getCharacterGroupListItemDefinitions(z,f){const j=new w.Collection;for(const[Z,D]of f){const oe=new E.Model({name:Z,label:D,withText:!0,role:"menuitemradio"});oe.bind("isOn").to(z,"value",Se=>Se===oe.name),j.add({type:"button",model:oe})}return j}}var l=te(62),c=te.n(l),L=te(298),B={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(L.Z,B),L.Z.locals;class y extends E.View{constructor(z){super(z),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new w.FocusTracker,this.keystrokes=new w.KeystrokeHandler,(0,E.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>w.global.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(z,f){const j=new E.ButtonView(this.locale);return j.set({label:z,withText:!0,class:"ck-character-grid__tile"}),j.extendTemplate({attributes:{title:f},on:{mouseover:j.bindTemplate.to("mouseover"),focus:j.bindTemplate.to("focus")}}),j.on("mouseover",()=>{this.fire("tileHover",{name:f,character:z})}),j.on("focus",()=>{this.fire("tileFocus",{name:f,character:z})}),j.on("execute",()=>{this.fire("execute",{name:f,character:z})}),j}render(){super.render();for(const z of this.tiles)this.focusTracker.add(z.element);this.tiles.on("change",(z,{added:f,removed:j})=>{if(f.length>0)for(const Z of f)this.focusTracker.add(Z.element);if(j.length>0)for(const Z of j)this.focusTracker.remove(Z.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}var h=te(507),V={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(h.Z,V),h.Z.locals;class q extends E.View{constructor(z){super(z);const f=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",Y),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:f.to("name",j=>j||"\u200B")}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:f.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function Y($){return $===null?"":"U+"+("0000"+$.codePointAt(0).toString(16)).slice(-4)}class ee extends E.View{constructor(z,f,j,Z){super(z),this.navigationView=f,this.gridView=j,this.infoView=Z,this.items=this.createCollection(),this.focusTracker=new w.FocusTracker,this.keystrokes=new w.KeystrokeHandler,this._focusCycler=new E.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}var re=te(911),ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};c()(re.Z,ie),re.Z.locals;const u="All";class _ extends g.Plugin{static get requires(){return[R.Typing]}static get pluginName(){return"SpecialCharacters"}constructor(z){super(z);const f=z.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=f("All")}init(){const z=this.editor,f=z.t,j=z.commands.get("insertText");z.ui.componentFactory.add("specialCharacters",Z=>{const D=(0,E.createDropdown)(Z);let oe;return D.buttonView.set({label:f("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),D.bind("isEnabled").to(j),D.on("execute",(Se,je)=>{z.execute("insertText",{text:je.character}),z.editing.view.focus()}),D.on("change:isOpen",()=>{if(!oe){oe=this._createDropdownPanelContent(Z,D);const Se=new ee(Z,oe.navigationView,oe.gridView,oe.infoView);D.panelView.children.add(Se)}oe.infoView.set({character:null,name:null})}),D})}addItems(z,f,j={label:z}){if(z===u)throw new w.CKEditorError("special-character-invalid-group-name",null);const Z=this._getGroup(z,j.label);for(const D of f)Z.items.add(D.title),this._characters.set(D.title,D.character)}getGroups(){const z=Array.from(this._groups.keys()),f=this.editor.config.get("specialCharacters.order")||[],j=f.find(Z=>!z.includes(Z));if(j)throw new w.CKEditorError("special-character-invalid-order-group-name",null,{invalidGroup:j});return new Set([...f,...z])}getCharactersForGroup(z){if(z===u)return new Set(this._characters.keys());const f=this._groups.get(z);return f?f.items:void 0}getCharacter(z){return this._characters.get(z)}_getGroup(z,f){return this._groups.has(z)||this._groups.set(z,{items:new Set,label:f}),this._groups.get(z)}_updateGrid(z,f){f.tiles.clear();const j=this.getCharactersForGroup(z);for(const Z of j){const D=this.getCharacter(Z);f.tiles.add(f.createTile(D,Z))}}_createDropdownPanelContent(z,f){const j=Array.from(this.getGroups()).map(je=>[je,this._groups.get(je).label]),Z=new Map([[u,this._allSpecialCharactersGroupLabel],...j]),D=new C(z,Z),oe=new y(z),Se=new q(z);return oe.delegate("execute").to(f),oe.on("tileHover",(je,Ie)=>{Se.set(Ie)}),oe.on("tileFocus",(je,Ie)=>{Se.set(Ie)}),D.on("execute",()=>{this._updateGrid(D.currentGroupName,oe)}),this._updateGrid(D.currentGroupName,oe),{navigationView:D,gridView:oe,infoView:Se}}}class p extends g.Plugin{static get pluginName(){return"SpecialCharactersArrows"}init(){const z=this.editor,f=z.t;z.plugins.get("SpecialCharacters").addItems("Arrows",[{title:f("leftwards simple arrow"),character:"\u2190"},{title:f("rightwards simple arrow"),character:"\u2192"},{title:f("upwards simple arrow"),character:"\u2191"},{title:f("downwards simple arrow"),character:"\u2193"},{title:f("leftwards double arrow"),character:"\u21D0"},{title:f("rightwards double arrow"),character:"\u21D2"},{title:f("upwards double arrow"),character:"\u21D1"},{title:f("downwards double arrow"),character:"\u21D3"},{title:f("leftwards dashed arrow"),character:"\u21E0"},{title:f("rightwards dashed arrow"),character:"\u21E2"},{title:f("upwards dashed arrow"),character:"\u21E1"},{title:f("downwards dashed arrow"),character:"\u21E3"},{title:f("leftwards arrow to bar"),character:"\u21E4"},{title:f("rightwards arrow to bar"),character:"\u21E5"},{title:f("upwards arrow to bar"),character:"\u2912"},{title:f("downwards arrow to bar"),character:"\u2913"},{title:f("up down arrow with base"),character:"\u21A8"},{title:f("back with leftwards arrow above"),character:"\u{1F519}"},{title:f("end with leftwards arrow above"),character:"\u{1F51A}"},{title:f("on with exclamation mark with left right arrow above"),character:"\u{1F51B}"},{title:f("soon with rightwards arrow above"),character:"\u{1F51C}"},{title:f("top with upwards arrow above"),character:"\u{1F51D}"}],{label:f("Arrows")})}}class v extends g.Plugin{static get pluginName(){return"SpecialCharactersText"}init(){const z=this.editor,f=z.t;z.plugins.get("SpecialCharacters").addItems("Text",[{character:"\u2039",title:f("Single left-pointing angle quotation mark")},{character:"\u203A",title:f("Single right-pointing angle quotation mark")},{character:"\xAB",title:f("Left-pointing double angle quotation mark")},{character:"\xBB",title:f("Right-pointing double angle quotation mark")},{character:"\u2018",title:f("Left single quotation mark")},{character:"\u2019",title:f("Right single quotation mark")},{character:"\u201C",title:f("Left double quotation mark")},{character:"\u201D",title:f("Right double quotation mark")},{character:"\u201A",title:f("Single low-9 quotation mark")},{character:"\u201E",title:f("Double low-9 quotation mark")},{character:"\xA1",title:f("Inverted exclamation mark")},{character:"\xBF",title:f("Inverted question mark")},{character:"\u2025",title:f("Two dot leader")},{character:"\u2026",title:f("Horizontal ellipsis")},{character:"\u2021",title:f("Double dagger")},{character:"\u2030",title:f("Per mille sign")},{character:"\u2031",title:f("Per ten thousand sign")},{character:"\u203C",title:f("Double exclamation mark")},{character:"\u2048",title:f("Question exclamation mark")},{character:"\u2049",title:f("Exclamation question mark")},{character:"\u2047",title:f("Double question mark")},{character:"\xA9",title:f("Copyright sign")},{character:"\xAE",title:f("Registered sign")},{character:"\u2122",title:f("Trade mark sign")},{character:"\xA7",title:f("Section sign")},{character:"\xB6",title:f("Paragraph sign")},{character:"\u204B",title:f("Reversed paragraph sign")}],{label:f("Text")})}}class A extends g.Plugin{static get pluginName(){return"SpecialCharactersMathematical"}init(){const z=this.editor,f=z.t;z.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:f("Less-than sign")},{character:">",title:f("Greater-than sign")},{character:"\u2264",title:f("Less-than or equal to")},{character:"\u2265",title:f("Greater-than or equal to")},{character:"\u2013",title:f("En dash")},{character:"\u2014",title:f("Em dash")},{character:"\xAF",title:f("Macron")},{character:"\u203E",title:f("Overline")},{character:"\xB0",title:f("Degree sign")},{character:"\u2212",title:f("Minus sign")},{character:"\xB1",title:f("Plus-minus sign")},{character:"\xF7",title:f("Division sign")},{character:"\u2044",title:f("Fraction slash")},{character:"\xD7",title:f("Multiplication sign")},{character:"\u0192",title:f("Latin small letter f with hook")},{character:"\u222B",title:f("Integral")},{character:"\u2211",title:f("N-ary summation")},{character:"\u221E",title:f("Infinity")},{character:"\u221A",title:f("Square root")},{character:"\u223C",title:f("Tilde operator")},{character:"\u2245",title:f("Approximately equal to")},{character:"\u2248",title:f("Almost equal to")},{character:"\u2260",title:f("Not equal to")},{character:"\u2261",title:f("Identical to")},{character:"\u2208",title:f("Element of")},{character:"\u2209",title:f("Not an element of")},{character:"\u220B",title:f("Contains as member")},{character:"\u220F",title:f("N-ary product")},{character:"\u2227",title:f("Logical and")},{character:"\u2228",title:f("Logical or")},{character:"\xAC",title:f("Not sign")},{character:"\u2229",title:f("Intersection")},{character:"\u222A",title:f("Union")},{character:"\u2202",title:f("Partial differential")},{character:"\u2200",title:f("For all")},{character:"\u2203",title:f("There exists")},{character:"\u2205",title:f("Empty set")},{character:"\u2207",title:f("Nabla")},{character:"\u2217",title:f("Asterisk operator")},{character:"\u221D",title:f("Proportional to")},{character:"\u2220",title:f("Angle")},{character:"\xBC",title:f("Vulgar fraction one quarter")},{character:"\xBD",title:f("Vulgar fraction one half")},{character:"\xBE",title:f("Vulgar fraction three quarters")}],{label:f("Mathematical")})}}class T extends g.Plugin{static get pluginName(){return"SpecialCharactersLatin"}init(){const z=this.editor,f=z.t;z.plugins.get("SpecialCharacters").addItems("Latin",[{character:"\u0100",title:f("Latin capital letter a with macron")},{character:"\u0101",title:f("Latin small letter a with macron")},{character:"\u0102",title:f("Latin capital letter a with breve")},{character:"\u0103",title:f("Latin small letter a with breve")},{character:"\u0104",title:f("Latin capital letter a with ogonek")},{character:"\u0105",title:f("Latin small letter a with ogonek")},{character:"\u0106",title:f("Latin capital letter c with acute")},{character:"\u0107",title:f("Latin small letter c with acute")},{character:"\u0108",title:f("Latin capital letter c with circumflex")},{character:"\u0109",title:f("Latin small letter c with circumflex")},{character:"\u010A",title:f("Latin capital letter c with dot above")},{character:"\u010B",title:f("Latin small letter c with dot above")},{character:"\u010C",title:f("Latin capital letter c with caron")},{character:"\u010D",title:f("Latin small letter c with caron")},{character:"\u010E",title:f("Latin capital letter d with caron")},{character:"\u010F",title:f("Latin small letter d with caron")},{character:"\u0110",title:f("Latin capital letter d with stroke")},{character:"\u0111",title:f("Latin small letter d with stroke")},{character:"\u0112",title:f("Latin capital letter e with macron")},{character:"\u0113",title:f("Latin small letter e with macron")},{character:"\u0114",title:f("Latin capital letter e with breve")},{character:"\u0115",title:f("Latin small letter e with breve")},{character:"\u0116",title:f("Latin capital letter e with dot above")},{character:"\u0117",title:f("Latin small letter e with dot above")},{character:"\u0118",title:f("Latin capital letter e with ogonek")},{character:"\u0119",title:f("Latin small letter e with ogonek")},{character:"\u011A",title:f("Latin capital letter e with caron")},{character:"\u011B",title:f("Latin small letter e with caron")},{character:"\u011C",title:f("Latin capital letter g with circumflex")},{character:"\u011D",title:f("Latin small letter g with circumflex")},{character:"\u011E",title:f("Latin capital letter g with breve")},{character:"\u011F",title:f("Latin small letter g with breve")},{character:"\u0120",title:f("Latin capital letter g with dot above")},{character:"\u0121",title:f("Latin small letter g with dot above")},{character:"\u0122",title:f("Latin capital letter g with cedilla")},{character:"\u0123",title:f("Latin small letter g with cedilla")},{character:"\u0124",title:f("Latin capital letter h with circumflex")},{character:"\u0125",title:f("Latin small letter h with circumflex")},{character:"\u0126",title:f("Latin capital letter h with stroke")},{character:"\u0127",title:f("Latin small letter h with stroke")},{character:"\u0128",title:f("Latin capital letter i with tilde")},{character:"\u0129",title:f("Latin small letter i with tilde")},{character:"\u012A",title:f("Latin capital letter i with macron")},{character:"\u012B",title:f("Latin small letter i with macron")},{character:"\u012C",title:f("Latin capital letter i with breve")},{character:"\u012D",title:f("Latin small letter i with breve")},{character:"\u012E",title:f("Latin capital letter i with ogonek")},{character:"\u012F",title:f("Latin small letter i with ogonek")},{character:"\u0130",title:f("Latin capital letter i with dot above")},{character:"\u0131",title:f("Latin small letter dotless i")},{character:"\u0132",title:f("Latin capital ligature ij")},{character:"\u0133",title:f("Latin small ligature ij")},{character:"\u0134",title:f("Latin capital letter j with circumflex")},{character:"\u0135",title:f("Latin small letter j with circumflex")},{character:"\u0136",title:f("Latin capital letter k with cedilla")},{character:"\u0137",title:f("Latin small letter k with cedilla")},{character:"\u0138",title:f("Latin small letter kra")},{character:"\u0139",title:f("Latin capital letter l with acute")},{character:"\u013A",title:f("Latin small letter l with acute")},{character:"\u013B",title:f("Latin capital letter l with cedilla")},{character:"\u013C",title:f("Latin small letter l with cedilla")},{character:"\u013D",title:f("Latin capital letter l with caron")},{character:"\u013E",title:f("Latin small letter l with caron")},{character:"\u013F",title:f("Latin capital letter l with middle dot")},{character:"\u0140",title:f("Latin small letter l with middle dot")},{character:"\u0141",title:f("Latin capital letter l with stroke")},{character:"\u0142",title:f("Latin small letter l with stroke")},{character:"\u0143",title:f("Latin capital letter n with acute")},{character:"\u0144",title:f("Latin small letter n with acute")},{character:"\u0145",title:f("Latin capital letter n with cedilla")},{character:"\u0146",title:f("Latin small letter n with cedilla")},{character:"\u0147",title:f("Latin capital letter n with caron")},{character:"\u0148",title:f("Latin small letter n with caron")},{character:"\u0149",title:f("Latin small letter n preceded by apostrophe")},{character:"\u014A",title:f("Latin capital letter eng")},{character:"\u014B",title:f("Latin small letter eng")},{character:"\u014C",title:f("Latin capital letter o with macron")},{character:"\u014D",title:f("Latin small letter o with macron")},{character:"\u014E",title:f("Latin capital letter o with breve")},{character:"\u014F",title:f("Latin small letter o with breve")},{character:"\u0150",title:f("Latin capital letter o with double acute")},{character:"\u0151",title:f("Latin small letter o with double acute")},{character:"\u0152",title:f("Latin capital ligature oe")},{character:"\u0153",title:f("Latin small ligature oe")},{character:"\u0154",title:f("Latin capital letter r with acute")},{character:"\u0155",title:f("Latin small letter r with acute")},{character:"\u0156",title:f("Latin capital letter r with cedilla")},{character:"\u0157",title:f("Latin small letter r with cedilla")},{character:"\u0158",title:f("Latin capital letter r with caron")},{character:"\u0159",title:f("Latin small letter r with caron")},{character:"\u015A",title:f("Latin capital letter s with acute")},{character:"\u015B",title:f("Latin small letter s with acute")},{character:"\u015C",title:f("Latin capital letter s with circumflex")},{character:"\u015D",title:f("Latin small letter s with circumflex")},{character:"\u015E",title:f("Latin capital letter s with cedilla")},{character:"\u015F",title:f("Latin small letter s with cedilla")},{character:"\u0160",title:f("Latin capital letter s with caron")},{character:"\u0161",title:f("Latin small letter s with caron")},{character:"\u0162",title:f("Latin capital letter t with cedilla")},{character:"\u0163",title:f("Latin small letter t with cedilla")},{character:"\u0164",title:f("Latin capital letter t with caron")},{character:"\u0165",title:f("Latin small letter t with caron")},{character:"\u0166",title:f("Latin capital letter t with stroke")},{character:"\u0167",title:f("Latin small letter t with stroke")},{character:"\u0168",title:f("Latin capital letter u with tilde")},{character:"\u0169",title:f("Latin small letter u with tilde")},{character:"\u016A",title:f("Latin capital letter u with macron")},{character:"\u016B",title:f("Latin small letter u with macron")},{character:"\u016C",title:f("Latin capital letter u with breve")},{character:"\u016D",title:f("Latin small letter u with breve")},{character:"\u016E",title:f("Latin capital letter u with ring above")},{character:"\u016F",title:f("Latin small letter u with ring above")},{character:"\u0170",title:f("Latin capital letter u with double acute")},{character:"\u0171",title:f("Latin small letter u with double acute")},{character:"\u0172",title:f("Latin capital letter u with ogonek")},{character:"\u0173",title:f("Latin small letter u with ogonek")},{character:"\u0174",title:f("Latin capital letter w with circumflex")},{character:"\u0175",title:f("Latin small letter w with circumflex")},{character:"\u0176",title:f("Latin capital letter y with circumflex")},{character:"\u0177",title:f("Latin small letter y with circumflex")},{character:"\u0178",title:f("Latin capital letter y with diaeresis")},{character:"\u0179",title:f("Latin capital letter z with acute")},{character:"\u017A",title:f("Latin small letter z with acute")},{character:"\u017B",title:f("Latin capital letter z with dot above")},{character:"\u017C",title:f("Latin small letter z with dot above")},{character:"\u017D",title:f("Latin capital letter z with caron")},{character:"\u017E",title:f("Latin small letter z with caron")},{character:"\u017F",title:f("Latin small letter long s")}],{label:f("Latin")})}}class S extends g.Plugin{static get pluginName(){return"SpecialCharactersCurrency"}init(){const z=this.editor,f=z.t;z.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:f("Dollar sign")},{character:"\u20AC",title:f("Euro sign")},{character:"\xA5",title:f("Yen sign")},{character:"\xA3",title:f("Pound sign")},{character:"\xA2",title:f("Cent sign")},{character:"\u20A0",title:f("Euro-currency sign")},{character:"\u20A1",title:f("Colon sign")},{character:"\u20A2",title:f("Cruzeiro sign")},{character:"\u20A3",title:f("French franc sign")},{character:"\u20A4",title:f("Lira sign")},{character:"\xA4",title:f("Currency sign")},{character:"\u20BF",title:f("Bitcoin sign")},{character:"\u20A5",title:f("Mill sign")},{character:"\u20A6",title:f("Naira sign")},{character:"\u20A7",title:f("Peseta sign")},{character:"\u20A8",title:f("Rupee sign")},{character:"\u20A9",title:f("Won sign")},{character:"\u20AA",title:f("New sheqel sign")},{character:"\u20AB",title:f("Dong sign")},{character:"\u20AD",title:f("Kip sign")},{character:"\u20AE",title:f("Tugrik sign")},{character:"\u20AF",title:f("Drachma sign")},{character:"\u20B0",title:f("German penny sign")},{character:"\u20B1",title:f("Peso sign")},{character:"\u20B2",title:f("Guarani sign")},{character:"\u20B3",title:f("Austral sign")},{character:"\u20B4",title:f("Hryvnia sign")},{character:"\u20B5",title:f("Cedi sign")},{character:"\u20B6",title:f("Livre tournois sign")},{character:"\u20B7",title:f("Spesmilo sign")},{character:"\u20B8",title:f("Tenge sign")},{character:"\u20B9",title:f("Indian rupee sign")},{character:"\u20BA",title:f("Turkish lira sign")},{character:"\u20BB",title:f("Nordic mark sign")},{character:"\u20BC",title:f("Manat sign")},{character:"\u20BD",title:f("Ruble sign")}],{label:f("Currency")})}}class ae extends g.Plugin{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[S,v,A,p,T]}}})(),(window.CKEditor5=window.CKEditor5||{}).specialCharacters=zt})()},79549:(Qt,It,te)=>{Qt=te.nmd(Qt),function(zt){const g=zt.en=zt.en||{};g.dictionary=Object.assign(g.dictionary||{},{"Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Background:"Background",Border:"Border","Cell properties":"Cell properties","Center table":"Center table",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed","Delete column":"Delete column","Delete row":"Delete row",Dimensions:"Dimensions",Dotted:"Dotted",Double:"Double","Enter table caption":"Enter table caption",Groove:"Groove","Header column":"Header column","Header row":"Header row",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset","Justify cell text":"Justify cell text","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",None:"None",Outset:"Outset",Padding:"Padding",Ridge:"Ridge",Row:"Row","Select column":"Select column","Select row":"Select row",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Style:"Style","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Vertical text alignment toolbar":"Vertical text alignment toolbar",Width:"Width"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var zt={993:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}",""]);const B=L},102:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}",""]);const B=L},865:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}",""]);const B=L},430:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}",""]);const B=L},943:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}",""]);const B=L},966:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}",""]);const B=L},770:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}",""]);const B=L},387:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}",""]);const B=L},51:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}",""]);const B=L},424:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',""]);const B=L},500:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}",""]);const B=L},522:(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l(609),L=l.n(c)()(function(y){return y[1]});L.push([w.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',""]);const B=L},609:w=>{"use strict";w.exports=function(C){var l=[];return l.toString=function(){return this.map(function(c){var L=C(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,B){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(B)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var q=0;q<c.length;q++){var Y=[].concat(c[q]);B&&y[Y[0]]||(L&&(Y[2]?Y[2]="".concat(L," and ").concat(Y[2]):Y[2]=L),l.push(Y))}},l}},62:(w,C,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),y=[];function h(v){for(var A=-1,T=0;T<y.length;T++)if(y[T].identifier===v){A=T;break}return A}function V(v,A){for(var T={},S=[],ae=0;ae<v.length;ae++){var $=v[ae],z=A.base?$[0]+A.base:$[0],f=T[z]||0,j="".concat(z," ").concat(f);T[z]=f+1;var Z=h(j),D={css:$[1],media:$[2],sourceMap:$[3]};Z!==-1?(y[Z].references++,y[Z].updater(D)):y.push({identifier:j,updater:p(D,A),references:1}),S.push(j)}return S}function q(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var S=l.nc;S&&(T.nonce=S)}if(Object.keys(T).forEach(function($){A.setAttribute($,T[$])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,ee=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function re(v,A,T,S){var ae=T?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(v.styleSheet)v.styleSheet.cssText=ee(A,ae);else{var $=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore($,z[A]):v.appendChild($)}}function ie(v,A,T){var S=T.css,ae=T.media,$=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),$&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify($))))," */")),v.styleSheet)v.styleSheet.cssText=S;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(S))}}var u=null,_=0;function p(v,A){var T,S,ae;if(A.singleton){var $=_++;T=u||(u=q(A)),S=re.bind(null,T,$,!1),ae=re.bind(null,T,$,!0)}else T=q(A),S=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return S(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;S(v=z)}else ae()}}w.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=L());var T=V(v=v||[],A);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var $=h(T[ae]);y[$].references--}for(var z=V(S,A),f=0;f<T.length;f++){var j=h(T[f]);y[j].references===0&&(y[j].updater(),y.splice(j,1))}T=z}}}},704:(w,C,l)=>{w.exports=l(79)("./src/core.js")},492:(w,C,l)=>{w.exports=l(79)("./src/engine.js")},273:(w,C,l)=>{w.exports=l(79)("./src/ui.js")},209:(w,C,l)=>{w.exports=l(79)("./src/utils.js")},995:(w,C,l)=>{w.exports=l(79)("./src/widget.js")},79:w=>{"use strict";w.exports=CKEditor5.dll}},g={};function R(w){var C=g[w];if(C!==void 0)return C.exports;var l=g[w]={id:w,exports:{}};return zt[w](l,l.exports,R),l.exports}R.n=w=>{var C=w&&w.__esModule?()=>w.default:()=>w;return R.d(C,{a:C}),C},R.d=(w,C)=>{for(var l in C)R.o(C,l)&&!R.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:C[l]})},R.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),R.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},R.nc=void 0;var E={};(()=>{"use strict";R.r(E),R.d(E,{PlainTableOutput:()=>Ni,Table:()=>Ti,TableCaption:()=>Tt,TableCaptionEditing:()=>so,TableCaptionUI:()=>me,TableCellProperties:()=>xr,TableCellPropertiesEditing:()=>Ji,TableCellPropertiesUI:()=>Fn,TableCellWidthEditing:()=>eo,TableClipboard:()=>Yt,TableColumnResize:()=>ra,TableColumnResizeEditing:()=>Hs,TableEditing:()=>Mi,TableKeyboard:()=>nt,TableMouse:()=>si,TableProperties:()=>bo,TablePropertiesEditing:()=>nn,TablePropertiesUI:()=>Hr,TableSelection:()=>Rt,TableToolbar:()=>qn,TableUI:()=>X,TableUtils:()=>hi});var w=R(704),C=R(995);function l(O,s){const{modelAttribute:m,styleName:P,viewElement:M,defaultValue:G,reduceBoxSides:ne=!1,shouldUpcast:we=()=>!0}=s;O.for("upcast").attributeToAttribute({view:{name:M,styles:{[P]:/[\s\S]+/}},model:{key:m,value:fe=>{if(!we(fe))return;const Pe=fe.getNormalizedStyle(P),He=ne?y(Pe):Pe;return G!==He?He:void 0}}})}function c(O,s,m,P){O.for("upcast").add(M=>M.on("element:"+s,(G,ne,we)=>{if(!ne.modelRange)return;const fe=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter(Nt=>ne.viewItem.hasStyle(Nt));if(!fe.length)return;const Pe={styles:fe};if(!we.consumable.test(ne.viewItem,Pe))return;const He=[...ne.modelRange.getItems({shallow:!0})].pop();we.consumable.consume(ne.viewItem,Pe);const ct={style:ne.viewItem.getNormalizedStyle("border-style"),color:ne.viewItem.getNormalizedStyle("border-color"),width:ne.viewItem.getNormalizedStyle("border-width")},wt={style:y(ct.style),color:y(ct.color),width:y(ct.width)};wt.style!==P.style&&we.writer.setAttribute(m.style,wt.style,He),wt.color!==P.color&&we.writer.setAttribute(m.color,wt.color,He),wt.width!==P.width&&we.writer.setAttribute(m.width,wt.width,He)}))}function L(O,s){const{modelElement:m,modelAttribute:P,styleName:M}=s;O.for("downcast").attributeToAttribute({model:{name:m,key:P},view:G=>({key:"style",value:{[M]:G}})})}function B(O,s){const{modelAttribute:m,styleName:P}=s;O.for("downcast").add(M=>M.on(`attribute:${m}:table`,(G,ne,we)=>{const{item:fe,attributeNewValue:Pe}=ne,{mapper:He,writer:ct}=we;if(!we.consumable.consume(ne.item,G.name))return;const wt=[...He.toViewElement(fe).getChildren()].find(Nt=>Nt.is("element","table"));Pe?ct.setStyle(P,Pe,wt):ct.removeStyle(P,wt)}))}function y(O){if(!O)return;const s=["top","right","bottom","left"];if(!s.every(P=>O[P]))return O;const m=O.top;return s.every(P=>O[P]===m)?m:O}function h(O,s,m,P,M=1){s!=null&&M!=null&&s>M?P.setAttribute(O,s,m):P.removeAttribute(O,m)}function V(O,s,m={}){const P=O.createElement("tableCell",m);return O.insertElement("paragraph",P),O.insert(P,s),P}function q(O,s){const m=s.parent.parent,P=parseInt(m.getAttribute("headingColumns")||"0"),{column:M}=O.getCellLocation(s);return!!P&&M<P}function Y(O,s,m){const{modelAttribute:P}=m;O.extend("tableCell",{allowAttributes:[P]}),l(s,{viewElement:/^(td|th)$/,...m}),L(s,{modelElement:"tableCell",...m})}function ee(O){const s=O.getSelectedElement();return s&&s.is("element","table")?s:O.getFirstPosition().findAncestor("table")}var re=R(209);function ie(){return O=>{O.on("element:table",(s,m,P)=>{const M=m.viewItem;if(!P.consumable.test(M,{name:!0}))return;const{rows:G,headingRows:ne,headingColumns:we}=function(He){let ct,wt=0;const Nt=[],Kt=[];let $t;for(const ei of Array.from(He.getChildren())){if(ei.name!=="tbody"&&ei.name!=="thead"&&ei.name!=="tfoot")continue;ei.name!=="thead"||$t||($t=ei);const pi=Array.from(ei.getChildren()).filter(xi=>xi.is("element","tr"));for(const xi of pi)if($t&&ei===$t||ei.name==="tbody"&&Array.from(xi.getChildren()).length&&Array.from(xi.getChildren()).every(Bi=>Bi.is("element","th")))wt++,Nt.push(xi);else{Kt.push(xi);const Bi=_(xi);(!ct||Bi<ct)&&(ct=Bi)}}return{headingRows:wt,headingColumns:ct||0,rows:[...Nt,...Kt]}}(M),fe={};we&&(fe.headingColumns=we),ne&&(fe.headingRows=ne);const Pe=P.writer.createElement("table",fe);if(P.safeInsert(Pe,m.modelCursor)){if(P.consumable.consume(M,{name:!0}),G.forEach(He=>P.convertItem(He,P.writer.createPositionAt(Pe,"end"))),P.convertChildren(M,P.writer.createPositionAt(Pe,"end")),Pe.isEmpty){const He=P.writer.createElement("tableRow");P.writer.insert(He,P.writer.createPositionAt(Pe,"end")),V(P.writer,P.writer.createPositionAt(He,"end"))}P.updateConversionResult(Pe,m)}})}}function u(O){return s=>{s.on(`element:${O}`,(m,P,{writer:M})=>{if(!P.modelRange)return;const G=P.modelRange.start.nodeAfter,ne=M.createPositionAt(G,0);if(P.viewItem.isEmpty)return void M.insertElement("paragraph",ne);const we=Array.from(G.getChildren());if(we.every(fe=>fe.is("element","$marker"))){const fe=M.createElement("paragraph");M.insert(fe,M.createPositionAt(G,0));for(const Pe of we)M.move(M.createRangeOn(Pe),M.createPositionAt(fe,"end"))}},{priority:"low"})}}function _(O){let s=0,m=0;const P=Array.from(O.getChildren()).filter(M=>M.name==="th"||M.name==="td");for(;m<P.length&&P[m].name==="th";){const M=P[m];s+=parseInt(M.getAttribute("colspan")||"1"),m++}return s}class p{constructor(s,m={}){this._jumpedToStartRow=!1,this._table=s,this._startRow=m.row!==void 0?m.row:m.startRow||0,this._endRow=m.row!==void 0?m.row:m.endRow,this._startColumn=m.column!==void 0?m.column:m.startColumn||0,this._endColumn=m.column!==void 0?m.column:m.endColumn,this._includeAllSlots=!!m.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const s=this._table.getChild(this._rowIndex);if(!s||this._isOverEndRow())return{done:!0,value:void 0};if(!s.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let m=null;const P=this._getSpanned();if(P)this._includeAllSlots&&!this._shouldSkipSlot()&&(m=this._formatOutValue(P.cell,P.row,P.column));else{const M=s.getChild(this._cellIndex);if(!M)return this._advanceToNextRow();const G=parseInt(M.getAttribute("colspan")||"1"),ne=parseInt(M.getAttribute("rowspan")||"1");(G>1||ne>1)&&this._recordSpans(M,ne,G),this._shouldSkipSlot()||(m=this._formatOutValue(M)),this._nextCellAtColumn=this._column+G}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,m||this.next()}skipRow(s){this._skipRows.add(s)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(s,m=this._row,P=this._column){return{done:!1,value:new v(this,s,m,P)}}_shouldSkipSlot(){const s=this._skipRows.has(this._row),m=this._row<this._startRow,P=this._column<this._startColumn,M=this._endColumn!==void 0&&this._column>this._endColumn;return s||m||P||M}_getSpanned(){const s=this._spannedCells.get(this._row);return s&&s.get(this._column)||null}_recordSpans(s,m,P){const M={cell:s,row:this._row,column:this._column};for(let G=this._row;G<this._row+m;G++)for(let ne=this._column;ne<this._column+P;ne++)G==this._row&&ne==this._column||this._markSpannedCell(G,ne,M)}_markSpannedCell(s,m,P){this._spannedCells.has(s)||this._spannedCells.set(s,new Map),this._spannedCells.get(s).set(m,P)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const s=this._getRowLength(0);for(let m=this._startRow;!this._jumpedToStartRow;m--)s===this._getRowLength(m)&&(this._row=m,this._rowIndex=m,this._jumpedToStartRow=!0)}_getRowLength(s){return[...this._table.getChild(s).getChildren()].reduce((m,P)=>m+parseInt(P.getAttribute("colspan")||"1"),0)}}class v{constructor(s,m,P,M){this.cell=m,this.row=s._row,this.column=s._column,this.cellAnchorRow=P,this.cellAnchorColumn=M,this._cellIndex=s._cellIndex,this._rowIndex=s._rowIndex,this._table=s._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function A(O,s){return(m,{writer:P})=>{const M=m.getAttribute("headingRows")||0,G=P.createContainerElement("table",null,[]),ne=P.createContainerElement("figure",{class:"table"},G);M>0&&P.insert(P.createPositionAt(G,"end"),P.createContainerElement("thead",null,P.createSlot(we=>we.is("element","tableRow")&&we.index<M))),M<O.getRows(m)&&P.insert(P.createPositionAt(G,"end"),P.createContainerElement("tbody",null,P.createSlot(we=>we.is("element","tableRow")&&we.index>=M)));for(const{positionOffset:we,filter:fe}of s.additionalSlots)P.insert(P.createPositionAt(G,we),P.createSlot(fe));return P.insert(P.createPositionAt(G,"after"),P.createSlot(we=>!we.is("element","tableRow")&&!s.additionalSlots.some(({filter:fe})=>fe(we)))),s.asWidget?function(we,fe){return fe.setCustomProperty("table",!0,we),(0,C.toWidget)(we,fe,{hasSelectionHandle:!0})}(ne,P):ne}}function T(O={}){return(s,{writer:m})=>{const P=s.parent,M=P.parent,G=M.getChildIndex(P),ne=new p(M,{row:G}),we=M.getAttribute("headingRows")||0,fe=M.getAttribute("headingColumns")||0;let Pe=null;for(const He of ne)if(He.cell==s){const ct=He.row<we||He.column<fe?"th":"td";Pe=O.asWidget?(0,C.toWidgetEditable)(m.createEditableElement(ct),m):m.createContainerElement(ct);break}return Pe}}function S(O={}){return(s,{writer:m})=>{if(!s.parent.is("element","tableCell")||!ae(s))return null;if(O.asWidget)return m.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const P=m.createContainerElement("p");return m.setCustomProperty("dataPipeline:transparentRendering",!0,P),P}}}function ae(O){return O.parent.childCount==1&&!!O.getAttributeKeys().next().done}class $ extends w.Command{refresh(){const s=this.editor.model,m=s.document.selection,P=s.schema;this.isEnabled=function(M,G){const ne=M.getFirstPosition().parent,we=ne===ne.root?ne:ne.parent;return G.checkChild(we,"table")}(m,P)}execute(s={}){const m=this.editor,P=m.model,M=m.plugins.get("TableUtils"),G=m.config.get("table.defaultHeadings.rows"),ne=m.config.get("table.defaultHeadings.columns");s.headingRows===void 0&&G&&(s.headingRows=G),s.headingColumns===void 0&&ne&&(s.headingColumns=ne),P.change(we=>{const fe=M.createTable(we,s);P.insertObject(fe,null,null,{findOptimalPosition:"auto"}),we.setSelection(we.createPositionAt(fe.getNodeByPath([0,0,0]),0))})}}class z extends w.Command{constructor(s,m={}){super(s),this.order=m.order||"below"}refresh(){const s=this.editor.model.document.selection,m=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s).length;this.isEnabled=m}execute(){const s=this.editor,m=s.model.document.selection,P=s.plugins.get("TableUtils"),M=this.order==="above",G=P.getSelectionAffectedTableCells(m),ne=P.getRowIndexes(G),we=M?ne.first:ne.last,fe=G[0].findAncestor("table");P.insertRows(fe,{at:M?we:we+1,copyStructureFromAbove:!M})}}class f extends w.Command{constructor(s,m={}){super(s),this.order=m.order||"right"}refresh(){const s=this.editor.model.document.selection,m=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s).length;this.isEnabled=m}execute(){const s=this.editor,m=s.model.document.selection,P=s.plugins.get("TableUtils"),M=this.order==="left",G=P.getSelectionAffectedTableCells(m),ne=P.getColumnIndexes(G),we=M?ne.first:ne.last,fe=G[0].findAncestor("table");P.insertColumns(fe,{columns:1,at:M?we:we+1})}}class j extends w.Command{constructor(s,m={}){super(s),this.direction=m.direction||"horizontally"}refresh(){const s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=s.length===1}execute(){const s=this.editor.plugins.get("TableUtils"),m=s.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?s.splitCellHorizontally(m,2):s.splitCellVertically(m,2)}}function Z(O,s,m){const{startRow:P,startColumn:M,endRow:G,endColumn:ne}=s,we=m.createElement("table"),fe=G-P+1;for(let He=0;He<fe;He++)m.insertElement("tableRow",we,"end");const Pe=[...new p(O,{startRow:P,endRow:G,startColumn:M,endColumn:ne,includeAllSlots:!0})];for(const{row:He,column:ct,cell:wt,isAnchor:Nt,cellAnchorRow:Kt,cellAnchorColumn:$t}of Pe){const ei=He-P,pi=we.getChild(ei);if(Nt){const xi=m.cloneElement(wt);m.append(xi,pi),Ie(xi,He,ct,G,ne,m)}else(Kt<P||$t<M)&&V(m,m.createPositionAt(pi,"end"))}return function(He,ct,wt,Nt,Kt){const $t=parseInt(ct.getAttribute("headingRows")||"0");$t>0&&h("headingRows",$t-wt,He,Kt,0);const ei=parseInt(ct.getAttribute("headingColumns")||"0");ei>0&&h("headingColumns",ei-Nt,He,Kt,0)}(we,O,P,M,m),we}function D(O,s,m=0){const P=[],M=new p(O,{startRow:m,endRow:s-1});for(const G of M){const{row:ne,cellHeight:we}=G;ne<s&&s<=ne+we-1&&P.push(G)}return P}function oe(O,s,m){const P=O.parent,M=P.parent,G=P.index,ne=s-G,we={},fe=parseInt(O.getAttribute("rowspan"))-ne;fe>1&&(we.rowspan=fe);const Pe=parseInt(O.getAttribute("colspan")||"1");Pe>1&&(we.colspan=Pe);const He=G+ne,ct=[...new p(M,{startRow:G,endRow:He,includeAllSlots:!0})];let wt,Nt=null;for(const Kt of ct){const{row:$t,column:ei,cell:pi}=Kt;pi===O&&wt===void 0&&(wt=ei),wt!==void 0&&wt===ei&&$t===He&&(Nt=V(m,Kt.getPositionBefore(),we))}return h("rowspan",ne,O,m),Nt}function Se(O,s){const m=[],P=new p(O);for(const M of P){const{column:G,cellWidth:ne}=M;G<s&&s<=G+ne-1&&m.push(M)}return m}function je(O,s,m,P){const M=m-s,G={},ne=parseInt(O.getAttribute("colspan"))-M;ne>1&&(G.colspan=ne);const we=parseInt(O.getAttribute("rowspan")||"1");we>1&&(G.rowspan=we);const fe=V(P,P.createPositionAfter(O),G);return h("colspan",M,O,P),fe}function Ie(O,s,m,P,M,G){const ne=parseInt(O.getAttribute("colspan")||"1"),we=parseInt(O.getAttribute("rowspan")||"1");m+ne-1>M&&h("colspan",M-m+1,O,G,1),s+we-1>P&&h("rowspan",P-s+1,O,G,1)}function De(O,s){const m=s.getColumns(O),P=new Array(m).fill(0);for(const{column:G}of new p(O))P[G]++;const M=P.reduce((G,ne,we)=>ne?G:[...G,we],[]);if(M.length>0){const G=M[M.length-1];return s.removeColumns(O,{at:G}),!0}return!1}function mt(O,s){const m=[],P=s.getRows(O);for(let M=0;M<P;M++)O.getChild(M).isEmpty&&m.push(M);if(m.length>0){const M=m[m.length-1];return s.removeRows(O,{at:M}),!0}return!1}function lt(O,s){De(O,s)||mt(O,s)}function ut(O,s){const m=Array.from(new p(O,{startColumn:s.firstColumn,endColumn:s.lastColumn,row:s.lastRow}));if(m.every(({cellHeight:M})=>M===1))return s.lastRow;const P=m[0].cellHeight-1;return s.lastRow+P}function dt(O,s){const m=Array.from(new p(O,{startRow:s.firstRow,endRow:s.lastRow,column:s.lastColumn}));if(m.every(({cellWidth:M})=>M===1))return s.lastColumn;const P=m[0].cellWidth-1;return s.lastColumn+P}class vt extends w.Command{constructor(s,m){super(s),this.direction=m.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const s=this._getMergeableCell();this.value=s,this.isEnabled=!!s}execute(){const s=this.editor.model,m=s.document,P=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(m.selection)[0],M=this.value,G=this.direction;s.change(ne=>{const we=G=="right"||G=="down",fe=we?P:M,Pe=we?M:P,He=Pe.parent;(function($t,ei,pi){bt($t)||(bt(ei)&&pi.remove(pi.createRangeIn(ei)),pi.move(pi.createRangeIn($t),pi.createPositionAt(ei,"end"))),pi.remove($t)})(Pe,fe,ne);const ct=this.isHorizontal?"colspan":"rowspan",wt=parseInt(P.getAttribute(ct)||"1"),Nt=parseInt(M.getAttribute(ct)||"1");ne.setAttribute(ct,wt+Nt,fe),ne.setSelection(ne.createRangeIn(fe));const Kt=this.editor.plugins.get("TableUtils");lt(He.findAncestor("table"),Kt)})}_getMergeableCell(){const s=this.editor.model.document,m=this.editor.plugins.get("TableUtils"),P=m.getTableCellsContainingSelection(s.selection)[0];if(!P)return;const M=this.isHorizontal?function(we,fe,Pe){const He=we.parent,ct=He.parent,wt=fe=="right"?we.nextSibling:we.previousSibling,Nt=(ct.getAttribute("headingColumns")||0)>0;if(!wt)return;const Kt=fe=="right"?we:wt,$t=fe=="right"?wt:we,{column:ei}=Pe.getCellLocation(Kt),{column:pi}=Pe.getCellLocation($t),xi=parseInt(Kt.getAttribute("colspan")||"1"),Bi=q(Pe,Kt),en=q(Pe,$t);if(!(Nt&&Bi!=en))return ei+xi===pi?wt:void 0}(P,this.direction,m):function(we,fe,Pe){const He=we.parent,ct=He.parent,wt=ct.getChildIndex(He);if(fe=="down"&&wt===Pe.getRows(ct)-1||fe=="up"&&wt===0)return null;const Nt=parseInt(we.getAttribute("rowspan")||"1"),Kt=ct.getAttribute("headingRows")||0,$t=fe=="down"&&wt+Nt===Kt,ei=fe=="up"&&wt===Kt;if(Kt&&($t||ei))return null;const pi=parseInt(we.getAttribute("rowspan")||"1"),xi=fe=="down"?wt+pi:wt,Bi=[...new p(ct,{endRow:xi})],en=Bi.find(yn=>yn.cell===we),Vn=en.column,Un=Bi.find(({row:yn,cellHeight:To,column:_r})=>_r===Vn&&(fe=="down"?yn===xi:xi===yn+To));return Un&&Un.cell?Un.cell:null}(P,this.direction,m);if(!M)return;const G=this.isHorizontal?"rowspan":"colspan",ne=parseInt(P.getAttribute(G)||"1");return parseInt(M.getAttribute(G)||"1")===ne?M:void 0}}function bt(O){const s=O.getChild(0);return O.childCount==1&&s.is("element","paragraph")&&s.isEmpty}class Qe extends w.Command{refresh(){const s=this.editor.plugins.get("TableUtils"),m=s.getSelectionAffectedTableCells(this.editor.model.document.selection),P=m[0];if(P){const M=P.findAncestor("table"),G=s.getRows(M)-1,ne=s.getRowIndexes(m),we=ne.first===0&&ne.last===G;this.isEnabled=!we}else this.isEnabled=!1}execute(){const s=this.editor.model,m=this.editor.plugins.get("TableUtils"),P=m.getSelectionAffectedTableCells(s.document.selection),M=m.getRowIndexes(P),G=P[0],ne=G.findAncestor("table"),we=m.getCellLocation(G).column;s.change(fe=>{const Pe=M.last-M.first+1;m.removeRows(ne,{at:M.first,rows:Pe});const He=function(ct,wt,Nt,Kt){const $t=ct.getChild(Math.min(wt,Kt-1));let ei=$t.getChild(0),pi=0;for(const xi of $t.getChildren()){if(pi>Nt)return ei;ei=xi,pi+=parseInt(xi.getAttribute("colspan")||"1")}return ei}(ne,M.first,we,m.getRows(ne));fe.setSelection(fe.createPositionAt(He,0))})}}class ft extends w.Command{refresh(){const s=this.editor.plugins.get("TableUtils"),m=s.getSelectionAffectedTableCells(this.editor.model.document.selection),P=m[0];if(P){const M=P.findAncestor("table"),G=s.getColumns(M),{first:ne,last:we}=s.getColumnIndexes(m);this.isEnabled=we-ne<G-1}else this.isEnabled=!1}execute(){const s=this.editor.plugins.get("TableUtils"),[m,P]=function(fe,Pe){const He=Pe.getSelectionAffectedTableCells(fe),ct=He[0],wt=He.pop(),Nt=[ct,wt];return ct.isBefore(wt)?Nt:Nt.reverse()}(this.editor.model.document.selection,s),M=m.parent.parent,G=[...new p(M)],ne={first:G.find(fe=>fe.cell===m).column,last:G.find(fe=>fe.cell===P).column},we=function(fe,Pe,He,ct){return parseInt(He.getAttribute("colspan")||"1")>1?He:Pe.previousSibling||He.nextSibling?He.nextSibling||Pe.previousSibling:ct.first?fe.reverse().find(({column:Nt})=>Nt<ct.first).cell:fe.reverse().find(({column:Nt})=>Nt>ct.last).cell}(G,m,P,ne);this.editor.model.change(fe=>{const Pe=ne.last-ne.first+1;s.removeColumns(M,{at:ne.first,columns:Pe}),fe.setSelection(fe.createPositionAt(we,0))})}}class Ve extends w.Command{refresh(){const s=this.editor.plugins.get("TableUtils"),m=this.editor.model,P=s.getSelectionAffectedTableCells(m.document.selection),M=P.length>0;this.isEnabled=M,this.value=M&&P.every(G=>this._isInHeading(G,G.parent.parent))}execute(s={}){if(s.forceValue===this.value)return;const m=this.editor.plugins.get("TableUtils"),P=this.editor.model,M=m.getSelectionAffectedTableCells(P.document.selection),G=M[0].findAncestor("table"),{first:ne,last:we}=m.getRowIndexes(M),fe=this.value?ne:we+1,Pe=G.getAttribute("headingRows")||0;P.change(He=>{if(fe){const ct=D(G,fe,fe>Pe?Pe:0);for(const{cell:wt}of ct)oe(wt,fe,He)}h("headingRows",fe,G,He,0)})}_isInHeading(s,m){const P=parseInt(m.getAttribute("headingRows")||"0");return!!P&&s.parent.index<P}}class Te extends w.Command{refresh(){const s=this.editor.model,m=this.editor.plugins.get("TableUtils"),P=m.getSelectionAffectedTableCells(s.document.selection),M=P.length>0;this.isEnabled=M,this.value=M&&P.every(G=>q(m,G))}execute(s={}){if(s.forceValue===this.value)return;const m=this.editor.plugins.get("TableUtils"),P=this.editor.model,M=m.getSelectionAffectedTableCells(P.document.selection),G=M[0].findAncestor("table"),{first:ne,last:we}=m.getColumnIndexes(M),fe=this.value?ne:we+1;P.change(Pe=>{if(fe){const He=Se(G,fe);for(const{cell:ct,column:wt}of He)je(ct,wt,fe,Pe)}h("headingColumns",fe,G,Pe,0)})}}const Q=5,xe=2;function Oe(O,s){return 4e3/Je(O,s)}function Je(O,s){const m=$e(O,"tbody",s)||$e(O,"thead",s);return tt(s.editing.view.domConverter.mapViewToDom(m))}function $e(O,s,m){return[...[...m.editing.mapper.toViewElement(O).getChildren()].find(P=>P.is("element","table")).getChildren()].find(P=>P.is("element",s))}function tt(O){const s=re.global.window.getComputedStyle(O);return s.boxSizing==="border-box"?parseFloat(s.width)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderLeftWidth)-parseFloat(s.borderRightWidth):parseFloat(s.width)}function st(O){const s=Math.pow(10,xe),m=typeof O=="number"?O:parseFloat(O);return Math.round(m*s)/s}function Pt(O){return O.map(s=>typeof s=="number"?s:parseFloat(s)).filter(s=>!Number.isNaN(s)).reduce((s,m)=>s+m,0)}function Ft(O){let s=function(P){const M=P.filter(we=>we==="auto").length;if(M===0)return P.map(we=>st(we));const G=Pt(P),ne=Math.max((100-G)/M,Q);return P.map(we=>we==="auto"?ne:we).map(we=>st(we))}(O.map(P=>P==="auto"?P:parseFloat(P.replace("%",""))));const m=Pt(s);return m!==100&&(s=s.map(P=>st(100*P/m)).map((P,M,G)=>M!==G.length-1?P:st(P+100-Pt(G)))),s.map(P=>P+"%")}function Gt(O){const s=re.global.window.getComputedStyle(O);return s.boxSizing==="border-box"?parseInt(s.width):parseFloat(s.width)+parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)+parseFloat(s.borderWidth)}function ui(O,s,m,P){for(let M=0;M<Math.max(m.length,O.length);M++){const G=O[M],ne=m[M];ne?G?P.setAttribute("columnWidth",ne,G):P.appendElement("tableColumn",{columnWidth:ne},s):P.remove(G)}}function Vt(O){if(O.is("element","tableColumnGroup"))return O;const s=O.getChildren();return Array.from(s).find(m=>m.is("element","tableColumnGroup"))}function ti(O){const s=Vt(O);return s?Array.from(s.getChildren()):[]}class hi extends w.Plugin{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(s){const m=s.parent,P=m.parent,M=P.getChildIndex(m),G=new p(P,{row:M});for(const{cell:ne,row:we,column:fe}of G)if(ne===s)return{row:we,column:fe}}createTable(s,m){const P=s.createElement("table"),M=m.rows||2,G=m.columns||2;return Ci(s,P,0,M,G),m.headingRows&&h("headingRows",Math.min(m.headingRows,M),P,s,0),m.headingColumns&&h("headingColumns",Math.min(m.headingColumns,G),P,s,0),P}insertRows(s,m={}){const P=this.editor.model,M=m.at||0,G=m.rows||1,ne=m.copyStructureFromAbove!==void 0,we=m.copyStructureFromAbove?M-1:M,fe=this.getRows(s),Pe=this.getColumns(s);if(M>fe)throw new re.CKEditorError("tableutils-insertrows-insert-out-of-range",this,{options:m});P.change(He=>{const ct=s.getAttribute("headingRows")||0;if(ct>M&&h("headingRows",ct+G,s,He,0),!ne&&(M===0||M===fe))return void Ci(He,s,M,G,Pe);const wt=ne?Math.max(M,we):M,Nt=new p(s,{endRow:wt}),Kt=new Array(Pe).fill(1);for(const{row:$t,column:ei,cellHeight:pi,cellWidth:xi,cell:Bi}of Nt){const en=$t+pi-1,Vn=$t<=we&&we<=en;$t<M&&M<=en?(He.setAttribute("rowspan",pi+G,Bi),Kt[ei]=-xi):ne&&Vn&&(Kt[ei]=xi)}for(let $t=0;$t<G;$t++){const ei=He.createElement("tableRow");He.insert(ei,s,M);for(let pi=0;pi<Kt.length;pi++){const xi=Kt[pi],Bi=He.createPositionAt(ei,"end");xi>0&&V(He,Bi,xi>1?{colspan:xi}:void 0),pi+=Math.abs(xi)-1}}})}insertColumns(s,m={}){const P=this.editor.model,M=m.at||0,G=m.columns||1;P.change(ne=>{const we=s.getAttribute("headingColumns");M<we&&ne.setAttribute("headingColumns",we+G,s);const fe=this.getColumns(s);if(M===0||fe===M){for(const He of s.getChildren())He.is("element","tableRow")&&Oi(G,ne,ne.createPositionAt(He,M?"end":0));return}const Pe=new p(s,{column:M,includeAllSlots:!0});for(const He of Pe){const{row:ct,cell:wt,cellAnchorColumn:Nt,cellAnchorRow:Kt,cellWidth:$t,cellHeight:ei}=He;if(Nt<M){ne.setAttribute("colspan",$t+G,wt);const pi=Kt+ei-1;for(let xi=ct;xi<=pi;xi++)Pe.skipRow(xi)}else Oi(G,ne,He.getPositionBefore())}})}removeRows(s,m){const P=this.editor.model,M=m.rows||1,G=this.getRows(s),ne=m.at,we=ne+M-1;if(we>G-1)throw new re.CKEditorError("tableutils-removerows-row-index-out-of-range",this,{table:s,options:m});P.change(fe=>{const Pe={first:ne,last:we},{cellsToMove:He,cellsToTrim:ct}=function(wt,{first:Nt,last:Kt}){const $t=new Map,ei=[];for(const{row:pi,column:xi,cellHeight:Bi,cell:en}of new p(wt,{endRow:Kt})){const Vn=pi+Bi-1;if(pi>=Nt&&pi<=Kt&&Vn>Kt){const Un=Bi-(Kt-pi+1);$t.set(xi,{cell:en,rowspan:Un})}if(pi<Nt&&Vn>=Nt){let Un;Un=Vn>=Kt?Kt-Nt+1:Vn-Nt+1,ei.push({cell:en,rowspan:Bi-Un})}}return{cellsToMove:$t,cellsToTrim:ei}}(s,Pe);He.size&&function(wt,Nt,Kt,$t){const ei=new p(wt,{includeAllSlots:!0,row:Nt}),pi=[...ei],xi=wt.getChild(Nt);let Bi;for(const{column:en,cell:Vn,isAnchor:Un}of pi)if(Kt.has(en)){const{cell:yn,rowspan:To}=Kt.get(en),_r=Bi?$t.createPositionAfter(Bi):$t.createPositionAt(xi,0);$t.move($t.createRangeOn(yn),_r),h("rowspan",To,yn,$t),Bi=yn}else Un&&(Bi=Vn)}(s,we+1,He,fe);for(let wt=we;wt>=ne;wt--)fe.remove(s.getChild(wt));for(const{rowspan:wt,cell:Nt}of ct)h("rowspan",wt,Nt,fe);(function(wt,{first:Nt,last:Kt},$t){const ei=wt.getAttribute("headingRows")||0;Nt<ei&&h("headingRows",Kt<ei?ei-(Kt-Nt+1):Nt,wt,$t,0)})(s,Pe,fe),De(s,this)||mt(s,this)})}removeColumns(s,m){const P=this.editor.model,M=m.at,G=m.columns||1,ne=m.at+G-1;P.change(we=>{(function(Pe,He,ct){const wt=Pe.getAttribute("headingColumns")||0;if(wt&&He.first<wt){const Nt=Math.min(wt-1,He.last)-He.first+1;ct.setAttribute("headingColumns",wt-Nt,Pe)}})(s,{first:M,last:ne},we);const fe=ti(s);for(let Pe=ne;Pe>=M;Pe--){for(const{cell:He,column:ct,cellWidth:wt}of[...new p(s)])ct<=Pe&&wt>1&&ct+wt>Pe?h("colspan",wt-1,He,we):ct===Pe&&we.remove(He);if(fe[Pe]){const He=Pe===0?fe[1]:fe[Pe-1],ct=parseFloat(fe[Pe].getAttribute("columnWidth")),wt=parseFloat(He.getAttribute("columnWidth"));we.remove(fe[Pe]),we.setAttribute("columnWidth",ct+wt+"%",He)}}mt(s,this)||De(s,this)})}splitCellVertically(s,m=2){const P=this.editor.model,M=s.parent.parent,G=parseInt(s.getAttribute("rowspan")||"1"),ne=parseInt(s.getAttribute("colspan")||"1");P.change(we=>{if(ne>1){const{newCellsSpan:fe,updatedSpan:Pe}=Di(ne,m);h("colspan",Pe,s,we);const He={};fe>1&&(He.colspan=fe),G>1&&(He.rowspan=G),Oi(ne>m?m-1:ne-1,we,we.createPositionAfter(s),He)}if(ne<m){const fe=m-ne,Pe=[...new p(M)],{column:He}=Pe.find(({cell:Kt})=>Kt===s),ct=Pe.filter(({cell:Kt,cellWidth:$t,column:ei})=>Kt!==s&&ei===He||ei<He&&ei+$t>He);for(const{cell:Kt,cellWidth:$t}of ct)we.setAttribute("colspan",$t+fe,Kt);const wt={};G>1&&(wt.rowspan=G),Oi(fe,we,we.createPositionAfter(s),wt);const Nt=M.getAttribute("headingColumns")||0;Nt>He&&h("headingColumns",Nt+fe,M,we)}})}splitCellHorizontally(s,m=2){const P=this.editor.model,M=s.parent,G=M.parent,ne=G.getChildIndex(M),we=parseInt(s.getAttribute("rowspan")||"1"),fe=parseInt(s.getAttribute("colspan")||"1");P.change(Pe=>{if(we>1){const He=[...new p(G,{startRow:ne,endRow:ne+we-1,includeAllSlots:!0})],{newCellsSpan:ct,updatedSpan:wt}=Di(we,m);h("rowspan",wt,s,Pe);const{column:Nt}=He.find(({cell:$t})=>$t===s),Kt={};ct>1&&(Kt.rowspan=ct),fe>1&&(Kt.colspan=fe);for(const $t of He){const{column:ei,row:pi}=$t;pi>=ne+wt&&ei===Nt&&(pi+ne+wt)%ct==0&&Oi(1,Pe,$t.getPositionBefore(),Kt)}}if(we<m){const He=m-we,ct=[...new p(G,{startRow:0,endRow:ne})];for(const{cell:Kt,cellHeight:$t,row:ei}of ct)if(Kt!==s&&ei+$t>ne){const pi=$t+He;Pe.setAttribute("rowspan",pi,Kt)}const wt={};fe>1&&(wt.colspan=fe),Ci(Pe,G,ne+1,He,1,wt);const Nt=G.getAttribute("headingRows")||0;Nt>ne&&h("headingRows",Nt+He,G,Pe)}})}getColumns(s){return[...s.getChild(0).getChildren()].reduce((m,P)=>m+parseInt(P.getAttribute("colspan")||"1"),0)}getRows(s){return Array.from(s.getChildren()).reduce((m,P)=>P.is("element","tableRow")?m+1:m,0)}createTableWalker(s,m={}){return new p(s,m)}getSelectedTableCells(s){const m=[];for(const P of this.sortRanges(s.getRanges())){const M=P.getContainedElement();M&&M.is("element","tableCell")&&m.push(M)}return m}getTableCellsContainingSelection(s){const m=[];for(const P of s.getRanges()){const M=P.start.findAncestor("tableCell");M&&m.push(M)}return m}getSelectionAffectedTableCells(s){const m=this.getSelectedTableCells(s);return m.length?m:this.getTableCellsContainingSelection(s)}getRowIndexes(s){const m=s.map(P=>P.parent.index);return this._getFirstLastIndexesObject(m)}getColumnIndexes(s){const m=s[0].findAncestor("table"),P=[...new p(m)].filter(M=>s.includes(M.cell)).map(M=>M.column);return this._getFirstLastIndexesObject(P)}isSelectionRectangular(s){if(s.length<2||!this._areCellInTheSameTableSection(s))return!1;const m=new Set,P=new Set;let M=0;for(const ne of s){const{row:we,column:fe}=this.getCellLocation(ne),Pe=parseInt(ne.getAttribute("rowspan"))||1,He=parseInt(ne.getAttribute("colspan"))||1;m.add(we),P.add(fe),Pe>1&&m.add(we+Pe-1),He>1&&P.add(fe+He-1),M+=Pe*He}return function(ne,we){const fe=Array.from(ne.values()),Pe=Array.from(we.values()),He=Math.max(...fe),ct=Math.min(...fe),wt=Math.max(...Pe),Nt=Math.min(...Pe);return(He-ct+1)*(wt-Nt+1)}(m,P)==M}sortRanges(s){return Array.from(s).sort(Vi)}_getFirstLastIndexesObject(s){const m=s.sort((P,M)=>P-M);return{first:m[0],last:m[m.length-1]}}_areCellInTheSameTableSection(s){const m=s[0].findAncestor("table"),P=this.getRowIndexes(s),M=parseInt(m.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(P,M))return!1;const G=this.getColumnIndexes(s),ne=parseInt(m.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(G,ne)}_areIndexesInSameSection({first:s,last:m},P){return s<P==m<P}}function Ci(O,s,m,P,M,G={}){for(let ne=0;ne<P;ne++){const we=O.createElement("tableRow");O.insert(we,s,m),Oi(M,O,O.createPositionAt(we,"end"),G)}}function Oi(O,s,m,P={}){for(let M=0;M<O;M++)V(s,m,P)}function Di(O,s){if(O<s)return{newCellsSpan:1,updatedSpan:1};const m=Math.floor(O/s);return{newCellsSpan:m,updatedSpan:O-m*s+m}}function Vi(O,s){const m=O.start,P=s.start;return m.isBefore(P)?-1:1}class Pi extends w.Command{refresh(){const s=this.editor.plugins.get(hi),m=s.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=s.isSelectionRectangular(m)}execute(){const s=this.editor.model,m=this.editor.plugins.get(hi);s.change(P=>{const M=m.getSelectedTableCells(s.document.selection),G=M.shift(),{mergeWidth:ne,mergeHeight:we}=function(fe,Pe,He){let ct=0,wt=0;for(const pi of Pe){const{row:xi,column:Bi}=He.getCellLocation(pi);ct=ue(pi,Bi,ct,"colspan"),wt=ue(pi,xi,wt,"rowspan")}const{row:Nt,column:Kt}=He.getCellLocation(fe),$t=ct-Kt,ei=wt-Nt;return{mergeWidth:$t,mergeHeight:ei}}(G,M,m);h("colspan",ne,G,P),h("rowspan",we,G,P);for(const fe of M)Zi(fe,G,P);lt(G.findAncestor("table"),m),P.setSelection(G,"in")})}}function Zi(O,s,m){at(O)||(at(s)&&m.remove(m.createRangeIn(s)),m.move(m.createRangeIn(O),m.createPositionAt(s,"end"))),m.remove(O)}function at(O){const s=O.getChild(0);return O.childCount==1&&s.is("element","paragraph")&&s.isEmpty}function ue(O,s,m,P){const M=parseInt(O.getAttribute(P)||"1");return Math.max(m,s+M)}class ye extends w.Command{constructor(s){super(s),this.affectsData=!1}refresh(){const s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=s.length>0}execute(){const s=this.editor.model,m=this.editor.plugins.get("TableUtils"),P=m.getSelectionAffectedTableCells(s.document.selection),M=m.getRowIndexes(P),G=P[0].findAncestor("table"),ne=[];for(let we=M.first;we<=M.last;we++)for(const fe of G.getChild(we).getChildren())ne.push(s.createRangeOn(fe));s.change(we=>{we.setSelection(ne)})}}class Le extends w.Command{constructor(s){super(s),this.affectsData=!1}refresh(){const s=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=s.length>0}execute(){const s=this.editor.plugins.get("TableUtils"),m=this.editor.model,P=s.getSelectionAffectedTableCells(m.document.selection),M=P[0],G=P.pop(),ne=M.findAncestor("table"),we=s.getCellLocation(M),fe=s.getCellLocation(G),Pe=Math.min(we.column,fe.column),He=Math.max(we.column,fe.column),ct=[];for(const wt of new p(ne,{startColumn:Pe,endColumn:He}))ct.push(m.createRangeOn(wt.cell));m.change(wt=>{wt.setSelection(ct)})}}function Ge(O){O.document.registerPostFixer(s=>function(m,P){const M=P.document.differ.getChanges();let G=!1;const ne=new Set;for(const we of M){let fe=null;we.type=="insert"&&we.name=="table"&&(fe=we.position.nodeAfter),we.type!="insert"&&we.type!="remove"||we.name!="tableRow"&&we.name!="tableCell"||(fe=we.position.findAncestor("table")),Lt(we)&&(fe=we.range.start.findAncestor("table")),fe&&!ne.has(fe)&&(G=ot(fe,m)||G,G=gt(fe,m)||G,ne.add(fe))}return G}(s,O))}function ot(O,s){let m=!1;const P=function(M){const G=parseInt(M.getAttribute("headingRows")||"0"),ne=Array.from(M.getChildren()).reduce((fe,Pe)=>Pe.is("element","tableRow")?fe+1:fe,0),we=[];for(const{row:fe,cell:Pe,cellHeight:He}of new p(M)){if(He<2)continue;const ct=fe<G?G:ne;if(fe+He>ct){const wt=ct-fe;we.push({cell:Pe,rowspan:wt})}}return we}(O);if(P.length){m=!0;for(const M of P)h("rowspan",M.rowspan,M.cell,s,1)}return m}function gt(O,s){let m=!1;const P=function(we){const fe=new Array(we.childCount).fill(0);for(const{rowIndex:Pe}of new p(we,{includeAllSlots:!0}))fe[Pe]++;return fe}(O),M=[];for(const[we,fe]of P.entries())!fe&&O.getChild(we).is("element","tableRow")&&M.push(we);if(M.length){m=!0;for(const we of M.reverse())s.remove(O.getChild(we)),P.splice(we,1)}const G=P.filter((we,fe)=>O.getChild(fe).is("element","tableRow")),ne=G[0];if(!G.every(we=>we===ne)){const we=G.reduce((fe,Pe)=>Pe>fe?Pe:fe,0);for(const[fe,Pe]of G.entries()){const He=we-Pe;if(He){for(let ct=0;ct<He;ct++)V(s,s.createPositionAt(O.getChild(fe),"end"));m=!0}}}return m}function Lt(O){if(O.type!=="attribute")return!1;const s=O.attributeKey;return s==="headingRows"||s==="colspan"||s==="rowspan"}function Ot(O){O.document.registerPostFixer(s=>function(m,P){const M=P.document.differ.getChanges();let G=!1;for(const ne of M)ne.type=="insert"&&ne.name=="table"&&(G=Ut(ne.position.nodeAfter,m)||G),ne.type=="insert"&&ne.name=="tableRow"&&(G=oi(ne.position.nodeAfter,m)||G),ne.type=="insert"&&ne.name=="tableCell"&&(G=ri(ne.position.nodeAfter,m)||G),ne.type!="remove"&&ne.type!="insert"||!wi(ne)||(G=ri(ne.position.parent,m)||G);return G}(s,O))}function Ut(O,s){let m=!1;for(const P of O.getChildren())P.is("element","tableRow")&&(m=oi(P,s)||m);return m}function oi(O,s){let m=!1;for(const P of O.getChildren())m=ri(P,s)||m;return m}function ri(O,s){if(O.childCount==0)return s.insertElement("paragraph",O),!0;const m=Array.from(O.getChildren()).filter(P=>P.is("$text"));for(const P of m)s.wrap(s.createRangeOn(P),"paragraph");return!!m.length}function wi(O){return!!O.position.parent.is("element","tableCell")&&(O.type=="insert"&&O.name=="$text"||O.type=="remove")}function Ii(O,s){if(!O.is("element","paragraph"))return!1;const m=s.toViewElement(O);return!!m&&ae(O)!==m.is("element","span")}var Li=R(62),yi=R.n(Li),ji=R(51),Ki={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ji.Z,Ki),ji.Z.locals;class Mi extends w.Plugin{static get pluginName(){return"TableEditing"}static get requires(){return[hi]}constructor(s){super(s),this._additionalSlots=[]}init(){const s=this.editor,m=s.model,P=m.schema,M=s.conversion,G=s.plugins.get(hi);P.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),P.register("tableRow",{allowIn:"table",isLimit:!0}),P.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),M.for("upcast").add(ne=>{ne.on("element:figure",(we,fe,Pe)=>{if(!Pe.consumable.test(fe.viewItem,{name:!0,classes:"table"}))return;const He=function(Nt){for(const Kt of Nt.getChildren())if(Kt.is("element","table"))return Kt}(fe.viewItem);if(!He||!Pe.consumable.test(He,{name:!0}))return;Pe.consumable.consume(fe.viewItem,{name:!0,classes:"table"});const ct=Pe.convertItem(He,fe.modelCursor),wt=(0,re.first)(ct.modelRange.getItems());wt?(Pe.convertChildren(fe.viewItem,Pe.writer.createPositionAt(wt,"end")),Pe.updateConversionResult(wt,fe)):Pe.consumable.revert(fe.viewItem,{name:!0,classes:"table"})})}),M.for("upcast").add(ie()),M.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:A(G,{asWidget:!0,additionalSlots:this._additionalSlots})}),M.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:A(G,{additionalSlots:this._additionalSlots})}),M.for("upcast").elementToElement({model:"tableRow",view:"tr"}),M.for("upcast").add(ne=>{ne.on("element:tr",(we,fe)=>{fe.viewItem.isEmpty&&fe.modelCursor.index==0&&we.stop()},{priority:"high"})}),M.for("downcast").elementToElement({model:"tableRow",view:(ne,{writer:we})=>ne.isEmpty?we.createEmptyElement("tr"):we.createContainerElement("tr")}),M.for("upcast").elementToElement({model:"tableCell",view:"td"}),M.for("upcast").elementToElement({model:"tableCell",view:"th"}),M.for("upcast").add(u("td")),M.for("upcast").add(u("th")),M.for("editingDowncast").elementToElement({model:"tableCell",view:T({asWidget:!0})}),M.for("dataDowncast").elementToElement({model:"tableCell",view:T()}),M.for("editingDowncast").elementToElement({model:"paragraph",view:S({asWidget:!0}),converterPriority:"high"}),M.for("dataDowncast").elementToElement({model:"paragraph",view:S(),converterPriority:"high"}),M.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),M.for("upcast").attributeToAttribute({model:{key:"colspan",value:tn("colspan")},view:"colspan"}),M.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),M.for("upcast").attributeToAttribute({model:{key:"rowspan",value:tn("rowspan")},view:"rowspan"}),s.config.define("table.defaultHeadings.rows",0),s.config.define("table.defaultHeadings.columns",0),s.commands.add("insertTable",new $(s)),s.commands.add("insertTableRowAbove",new z(s,{order:"above"})),s.commands.add("insertTableRowBelow",new z(s,{order:"below"})),s.commands.add("insertTableColumnLeft",new f(s,{order:"left"})),s.commands.add("insertTableColumnRight",new f(s,{order:"right"})),s.commands.add("removeTableRow",new Qe(s)),s.commands.add("removeTableColumn",new ft(s)),s.commands.add("splitTableCellVertically",new j(s,{direction:"vertically"})),s.commands.add("splitTableCellHorizontally",new j(s,{direction:"horizontally"})),s.commands.add("mergeTableCells",new Pi(s)),s.commands.add("mergeTableCellRight",new vt(s,{direction:"right"})),s.commands.add("mergeTableCellLeft",new vt(s,{direction:"left"})),s.commands.add("mergeTableCellDown",new vt(s,{direction:"down"})),s.commands.add("mergeTableCellUp",new vt(s,{direction:"up"})),s.commands.add("setTableColumnHeader",new Te(s)),s.commands.add("setTableRowHeader",new Ve(s)),s.commands.add("selectTableRow",new ye(s)),s.commands.add("selectTableColumn",new Le(s)),Ge(m),Ot(m),this.listenTo(m.document,"change:data",()=>{(function(ne,we){const fe=ne.document.differ;for(const Pe of fe.getChanges()){let He,ct=!1;if(Pe.type=="attribute"){const $t=Pe.range.start.nodeAfter;if(!$t||!$t.is("element","table")||Pe.attributeKey!="headingRows"&&Pe.attributeKey!="headingColumns")continue;He=$t,ct=Pe.attributeKey=="headingRows"}else Pe.name!="tableRow"&&Pe.name!="tableCell"||(He=Pe.position.findAncestor("table"),ct=Pe.name=="tableRow");if(!He)continue;const wt=He.getAttribute("headingRows")||0,Nt=He.getAttribute("headingColumns")||0,Kt=new p(He);for(const $t of Kt){const ei=$t.row<wt||$t.column<Nt?"th":"td",pi=we.mapper.toViewElement($t.cell);pi&&pi.is("element")&&pi.name!=ei&&we.reconvertItem(ct?$t.cell.parent:$t.cell)}}})(m,s.editing),function(ne,we){const fe=ne.document.differ,Pe=new Set;for(const He of fe.getChanges()){const ct=He.type=="attribute"?He.range.start.parent:He.position.parent;ct.is("element","tableCell")&&Pe.add(ct)}for(const He of Pe.values()){const ct=Array.from(He.getChildren()).filter(wt=>Ii(wt,we.mapper));for(const wt of ct)we.reconvertItem(wt)}}(m,s.editing)})}registerAdditionalSlot(s){this._additionalSlots.push(s)}}function tn(O){return s=>{const m=parseInt(s.getAttribute(O));return Number.isNaN(m)||m<=0?null:m}}var Zt=R(273),wn=R(430),Ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(wn.Z,Ne),wn.Z.locals;class H extends Zt.View{constructor(s){super(s);const m=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new re.KeystrokeHandler,this.focusTracker=new re.FocusTracker,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(P,M)=>`${M} \xD7 ${P}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":m.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:m.to("label")}]}],on:{mousedown:m.to(P=>{P.preventDefault()}),click:m.to(()=>{this.fire("execute")})}}),this.on("boxover",(P,M)=>{const{row:G,column:ne}=M.target.dataset;this.items.get(10*(parseInt(G,10)-1)+(parseInt(ne,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(P,M,G)=>{if(!G)return;const{row:ne,column:we}=G.dataset;this.set({rows:parseInt(ne),columns:parseInt(we)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),(0,Zt.addKeyboardHandlingForGrid)({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const s of this.items)this.focusTracker.add(s.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const s=this.rows,m=this.columns;this.items.map((P,M)=>{const G=Math.floor(M/10)<s&&M%10<m;P.set("isOn",G)})}_createGridButton(s,m,P,M){const G=new Zt.ButtonView(s);return G.set({label:M,class:"ck-insert-table-dropdown-grid-box"}),G.extendTemplate({attributes:{"data-row":m,"data-column":P}}),G}_createGridCollection(){const s=[];for(let m=0;m<100;m++){const P=Math.floor(m/10),M=m%10,G=`${P+1} \xD7 ${M+1}`;s.push(this._createGridButton(this.locale,P+1,M+1,G))}return this.createCollection(s)}}class X extends w.Plugin{static get pluginName(){return"TableUI"}init(){const s=this.editor,m=this.editor.t,P=s.locale.contentLanguageDirection==="ltr";s.ui.componentFactory.add("insertTable",M=>{const G=s.commands.get("insertTable"),ne=(0,Zt.createDropdown)(M);let we;return ne.bind("isEnabled").to(G),ne.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:m("Insert table"),tooltip:!0}),ne.on("change:isOpen",()=>{we||(we=new H(M),ne.panelView.children.add(we),we.delegate("execute").to(ne),ne.on("execute",()=>{s.execute("insertTable",{rows:we.rows,columns:we.columns}),s.editing.view.focus()}))}),ne}),s.ui.componentFactory.add("tableColumn",M=>{const G=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:m("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:P?"insertTableColumnLeft":"insertTableColumnRight",label:m("Insert column left")}},{type:"button",model:{commandName:P?"insertTableColumnRight":"insertTableColumnLeft",label:m("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:m("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:m("Select column")}}];return this._prepareDropdown(m("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',G,M)}),s.ui.componentFactory.add("tableRow",M=>{const G=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:m("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:m("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:m("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:m("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:m("Select row")}}];return this._prepareDropdown(m("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',G,M)}),s.ui.componentFactory.add("mergeTableCells",M=>{const G=[{type:"button",model:{commandName:"mergeTableCellUp",label:m("Merge cell up")}},{type:"button",model:{commandName:P?"mergeTableCellRight":"mergeTableCellLeft",label:m("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:m("Merge cell down")}},{type:"button",model:{commandName:P?"mergeTableCellLeft":"mergeTableCellRight",label:m("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:m("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:m("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(m("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',G,M)})}_prepareDropdown(s,m,P,M){const G=this.editor,ne=(0,Zt.createDropdown)(M),we=this._fillDropdownWithListOptions(ne,P);return ne.buttonView.set({label:s,icon:m,tooltip:!0}),ne.bind("isEnabled").toMany(we,"isEnabled",(...fe)=>fe.some(Pe=>Pe)),this.listenTo(ne,"execute",fe=>{G.execute(fe.source.commandName),fe.source instanceof Zt.SwitchButtonView||G.editing.view.focus()}),ne}_prepareMergeSplitButtonDropdown(s,m,P,M){const G=this.editor,ne=(0,Zt.createDropdown)(M,Zt.SplitButtonView),we="mergeTableCells",fe=G.commands.get(we),Pe=this._fillDropdownWithListOptions(ne,P);return ne.buttonView.set({label:s,icon:m,tooltip:!0,isEnabled:!0}),ne.bind("isEnabled").toMany([fe,...Pe],"isEnabled",(...He)=>He.some(ct=>ct)),this.listenTo(ne.buttonView,"execute",()=>{G.execute(we),G.editing.view.focus()}),this.listenTo(ne,"execute",He=>{G.execute(He.source.commandName),G.editing.view.focus()}),ne}_fillDropdownWithListOptions(s,m){const P=this.editor,M=[],G=new re.Collection;for(const ne of m)se(ne,P,M,G);return(0,Zt.addListToDropdown)(s,G),M}}function se(O,s,m,P){if(O.type==="button"||O.type==="switchbutton"){const M=O.model=new Zt.Model(O.model),{commandName:G,bindIsOn:ne}=O.model,we=s.commands.get(G);m.push(we),M.set({commandName:G}),M.bind("isEnabled").to(we),ne&&M.bind("isOn").to(we,"value"),M.set({withText:!0})}P.add(O)}var be=R(522),ht={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(be.Z,ht),be.Z.locals;class Rt extends w.Plugin{static get pluginName(){return"TableSelection"}static get requires(){return[hi,hi]}init(){const s=this.editor,m=s.model,P=s.editing.view;this.listenTo(m,"deleteContent",(M,G)=>this._handleDeleteContent(M,G),{priority:"high"}),this.listenTo(P.document,"insertText",(M,G)=>this._handleInsertTextEvent(M,G),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const s=this.editor.plugins.get(hi),m=this.editor.model.document.selection,P=s.getSelectedTableCells(m);return P.length==0?null:P}getSelectionAsFragment(){const s=this.editor.plugins.get(hi),m=this.getSelectedTableCells();return m?this.editor.model.change(P=>{const M=P.createDocumentFragment(),{first:G,last:ne}=s.getColumnIndexes(m),{first:we,last:fe}=s.getRowIndexes(m),Pe=m[0].findAncestor("table");let He=fe,ct=ne;if(s.isSelectionRectangular(m)){const Nt={firstColumn:G,lastColumn:ne,firstRow:we,lastRow:fe};He=ut(Pe,Nt),ct=dt(Pe,Nt)}const wt=Z(Pe,{startRow:we,startColumn:G,endRow:He,endColumn:ct},P);return P.insert(wt,M,0),M}):null}setCellSelection(s,m){const P=this._getCellsToSelect(s,m);this.editor.model.change(M=>{M.setSelection(P.cells.map(G=>M.createRangeOn(G)),{backward:P.backward})})}getFocusCell(){const s=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return s&&s.is("element","tableCell")?s:null}getAnchorCell(){const s=this.editor.model.document.selection,m=(0,re.first)(s.getRanges()).getContainedElement();return m&&m.is("element","tableCell")?m:null}_defineSelectionConverter(){const s=this.editor,m=new Set;s.conversion.for("editingDowncast").add(P=>P.on("selection",(M,G,ne)=>{const we=ne.writer;(function(He){for(const ct of m)He.removeClass("ck-editor__editable_selected",ct);m.clear()})(we);const fe=this.getSelectedTableCells();if(!fe)return;for(const He of fe){const ct=ne.mapper.toViewElement(He);we.addClass("ck-editor__editable_selected",ct),m.add(ct)}const Pe=ne.mapper.toViewElement(fe[fe.length-1]);we.setSelection(Pe,0)},{priority:"lowest"}))}_enablePluginDisabling(){const s=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const m=this.getSelectedTableCells();if(!m)return;s.model.change(P=>{const M=P.createPositionAt(m[0],0),G=s.model.schema.getNearestSelectionRange(M);P.setSelection(G)})}})}_handleDeleteContent(s,m){const P=this.editor.plugins.get(hi),M=m[0],G=m[1],ne=this.editor.model,we=!G||G.direction=="backward",fe=P.getSelectedTableCells(M);fe.length&&(s.stop(),ne.change(Pe=>{const He=fe[we?fe.length-1:0];ne.change(wt=>{for(const Nt of fe)ne.deleteContent(wt.createSelection(Nt,"in"))});const ct=ne.schema.getNearestSelectionRange(Pe.createPositionAt(He,0));M.is("documentSelection")?Pe.setSelection(ct):M.setTo(ct)}))}_handleInsertTextEvent(s,m){const P=this.editor,M=this.getSelectedTableCells();if(!M)return;const G=P.editing.view,ne=P.editing.mapper,we=M.map(fe=>G.createRangeOn(ne.toViewElement(fe)));m.selection=G.createSelection(we)}_getCellsToSelect(s,m){const P=this.editor.plugins.get("TableUtils"),M=P.getCellLocation(s),G=P.getCellLocation(m),ne=Math.min(M.row,G.row),we=Math.max(M.row,G.row),fe=Math.min(M.column,G.column),Pe=Math.max(M.column,G.column),He=new Array(we-ne+1).fill(null).map(()=>[]),ct={startRow:ne,endRow:we,startColumn:fe,endColumn:Pe};for(const{row:Kt,cell:$t}of new p(s.findAncestor("table"),ct))He[Kt-ne].push($t);const wt=G.row<M.row,Nt=G.column<M.column;return wt&&He.reverse(),Nt&&He.forEach(Kt=>Kt.reverse()),{cells:He.flat(),backward:wt||Nt}}}class Yt extends w.Plugin{static get pluginName(){return"TableClipboard"}static get requires(){return[Rt,hi]}init(){const s=this.editor,m=s.editing.view.document;this.listenTo(m,"copy",(P,M)=>this._onCopyCut(P,M)),this.listenTo(m,"cut",(P,M)=>this._onCopyCut(P,M)),this.listenTo(s.model,"insertContent",(P,[M,G])=>this._onInsertContent(P,M,G),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(s,m){const P=this.editor.plugins.get(Rt);if(!P.getSelectedTableCells()||s.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;m.preventDefault(),s.stop();const M=this.editor.data,G=this.editor.editing.view.document,ne=M.toView(P.getSelectionAsFragment());G.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:ne,method:s.name})}_onInsertContent(s,m,P){if(P&&!P.is("documentSelection"))return;const M=this.editor.model,G=this.editor.plugins.get(hi);let ne=this.getTableIfOnlyTableInContent(m,M);if(!ne)return;const we=G.getSelectionAffectedTableCells(M.document.selection);we.length?(s.stop(),M.change(fe=>{const Pe={width:G.getColumns(ne),height:G.getRows(ne)},He=function(ei,pi,xi,Bi){const en=ei[0].findAncestor("table"),Vn=Bi.getColumnIndexes(ei),Un=Bi.getRowIndexes(ei),yn={firstColumn:Vn.first,lastColumn:Vn.last,firstRow:Un.first,lastRow:Un.last},To=ei.length===1;return To&&(yn.lastRow+=pi.height-1,yn.lastColumn+=pi.width-1,function(_r,No,uo,Qr){const Ao=Qr.getColumns(_r),Bo=Qr.getRows(_r);uo>Ao&&Qr.insertColumns(_r,{at:Ao,columns:uo-Ao}),No>Bo&&Qr.insertRows(_r,{at:Bo,rows:No-Bo})}(en,yn.lastRow+1,yn.lastColumn+1,Bi)),To||!Bi.isSelectionRectangular(ei)?function(_r,No,uo){const{firstRow:Qr,lastRow:Ao,firstColumn:Bo,lastColumn:Os}=No,Us={first:Qr,last:Ao},Ws={first:Bo,last:Os};Ce(_r,Bo,Us,uo),Ce(_r,Os+1,Us,uo),_t(_r,Qr,Ws,uo),_t(_r,Ao+1,Ws,uo,Qr)}(en,yn,xi):(yn.lastRow=ut(en,yn),yn.lastColumn=dt(en,yn)),yn}(we,Pe,fe,G),ct=He.lastRow-He.firstRow+1,wt=He.lastColumn-He.firstColumn+1,Nt={startRow:0,startColumn:0,endRow:Math.min(ct,Pe.height)-1,endColumn:Math.min(wt,Pe.width)-1};ne=Z(ne,Nt,fe);const Kt=we[0].findAncestor("table"),$t=this._replaceSelectedCellsWithPasted(ne,Pe,Kt,He,fe);if(this.editor.plugins.get("TableSelection").isEnabled){const ei=G.sortRanges($t.map(pi=>fe.createRangeOn(pi)));fe.setSelection(ei)}else fe.setSelection($t[0],0)})):lt(ne,G)}_replaceSelectedCellsWithPasted(s,m,P,M,G){const{width:ne,height:we}=m,fe=function(ei,pi,xi){const Bi=new Array(xi).fill(null).map(()=>new Array(pi).fill(null));for(const{column:en,row:Vn,cell:Un}of new p(ei))Bi[Vn][en]=Un;return Bi}(s,ne,we),Pe=[...new p(P,{startRow:M.firstRow,endRow:M.lastRow,startColumn:M.firstColumn,endColumn:M.lastColumn,includeAllSlots:!0})],He=[];let ct;for(const ei of Pe){const{row:pi,column:xi}=ei;xi===M.firstColumn&&(ct=ei.getPositionBefore());const Bi=pi-M.firstRow,en=xi-M.firstColumn,Vn=fe[Bi%we][en%ne],Un=Vn?G.cloneElement(Vn):null,yn=this._replaceTableSlotCell(ei,Un,ct,G);yn&&(Ie(yn,pi,xi,M.lastRow,M.lastColumn,G),He.push(yn),ct=G.createPositionAfter(yn))}const wt=parseInt(P.getAttribute("headingRows")||"0"),Nt=parseInt(P.getAttribute("headingColumns")||"0"),Kt=M.firstRow<wt&&wt<=M.lastRow,$t=M.firstColumn<Nt&&Nt<=M.lastColumn;if(Kt){const ei=_t(P,wt,{first:M.firstColumn,last:M.lastColumn},G,M.firstRow);He.push(...ei)}if($t){const ei=Ce(P,Nt,{first:M.firstRow,last:M.lastRow},G);He.push(...ei)}return He}_replaceTableSlotCell(s,m,P,M){const{cell:G,isAnchor:ne}=s;return ne&&M.remove(G),m?(M.insert(m,P),m):null}getTableIfOnlyTableInContent(s,m){if(!s.is("documentFragment")&&!s.is("element"))return null;if(s.is("element","table"))return s;if(s.childCount==1&&s.getChild(0).is("element","table"))return s.getChild(0);const P=m.createRangeIn(s);for(const M of P.getItems())if(M.is("element","table")){const G=m.createRange(P.start,m.createPositionBefore(M));if(m.hasContent(G,{ignoreWhitespaces:!0}))return null;const ne=m.createRange(m.createPositionAfter(M),P.end);return m.hasContent(ne,{ignoreWhitespaces:!0})?null:M}return null}}function _t(O,s,m,P,M=0){if(!(s<1))return D(O,s,M).filter(({column:G,cellWidth:ne})=>ze(G,ne,m)).map(({cell:G})=>oe(G,s,P))}function Ce(O,s,m,P){if(!(s<1))return Se(O,s).filter(({row:M,cellHeight:G})=>ze(M,G,m)).map(({cell:M,column:G})=>je(M,G,s,P))}function ze(O,s,m){const P=O+s-1,{first:M,last:G}=m;return O>=M&&O<=G||O<M&&P>=M}class nt extends w.Plugin{static get pluginName(){return"TableKeyboard"}static get requires(){return[Rt,hi]}init(){const s=this.editor.editing.view.document;this.listenTo(s,"arrowKey",(...m)=>this._onArrowKey(...m),{context:"table"}),this.listenTo(s,"tab",(...m)=>this._handleTabOnSelectedTable(...m),{context:"figure"}),this.listenTo(s,"tab",(...m)=>this._handleTab(...m),{context:["th","td"]})}_handleTabOnSelectedTable(s,m){const P=this.editor,M=P.model.document.selection.getSelectedElement();M&&M.is("element","table")&&(m.preventDefault(),m.stopPropagation(),s.stop(),P.model.change(G=>{G.setSelection(G.createRangeIn(M.getChild(0).getChild(0)))}))}_handleTab(s,m){const P=this.editor,M=this.editor.plugins.get(hi),G=this.editor.plugins.get("TableSelection"),ne=P.model.document.selection,we=!m.shiftKey;let fe=M.getTableCellsContainingSelection(ne)[0];if(fe||(fe=G.getFocusCell()),!fe)return;m.preventDefault(),m.stopPropagation(),s.stop();const Pe=fe.parent,He=Pe.parent,ct=He.getChildIndex(Pe),wt=Pe.getChildIndex(fe),Nt=wt===0;if(!we&&Nt&&ct===0)return void P.model.change(pi=>{pi.setSelection(pi.createRangeOn(He))});const Kt=wt===Pe.childCount-1,$t=ct===M.getRows(He)-1;if(we&&$t&&Kt&&(P.execute("insertTableRowBelow"),ct===M.getRows(He)-1))return void P.model.change(pi=>{pi.setSelection(pi.createRangeOn(He))});let ei;if(we&&Kt)ei=He.getChild(ct+1).getChild(0);else if(!we&&Nt){const pi=He.getChild(ct-1);ei=pi.getChild(pi.childCount-1)}else ei=Pe.getChild(wt+(we?1:-1));P.model.change(pi=>{pi.setSelection(pi.createRangeIn(ei))})}_onArrowKey(s,m){const P=this.editor,M=m.keyCode,G=(0,re.getLocalizedArrowKeyCodeDirection)(M,P.locale.contentLanguageDirection);this._handleArrowKeys(G,m.shiftKey)&&(m.preventDefault(),m.stopPropagation(),s.stop())}_handleArrowKeys(s,m){const P=this.editor.plugins.get(hi),M=this.editor.plugins.get("TableSelection"),G=this.editor.model,ne=G.document.selection,we=["right","down"].includes(s),fe=P.getSelectedTableCells(ne);if(fe.length){let He;return He=m?M.getFocusCell():we?fe[fe.length-1]:fe[0],this._navigateFromCellInDirection(He,s,m),!0}const Pe=ne.focus.findAncestor("tableCell");if(!Pe)return!1;if(!ne.isCollapsed)if(m){if(ne.isBackward==we&&!ne.containsEntireContent(Pe))return!1}else{const He=ne.getSelectedElement();if(!He||!G.schema.isObject(He))return!1}return!!this._isSelectionAtCellEdge(ne,Pe,we)&&(this._navigateFromCellInDirection(Pe,s,m),!0)}_isSelectionAtCellEdge(s,m,P){const M=this.editor.model,G=this.editor.model.schema,ne=P?s.getLastPosition():s.getFirstPosition();if(!G.getLimitElement(ne).is("element","tableCell"))return M.createPositionAt(m,P?"end":0).isTouching(ne);const we=M.createSelection(ne);return M.modifySelection(we,{direction:P?"forward":"backward"}),ne.isEqual(we.focus)}_navigateFromCellInDirection(s,m,P=!1){const M=this.editor.model,G=s.findAncestor("table"),ne=[...new p(G,{includeAllSlots:!0})],{row:we,column:fe}=ne[ne.length-1],Pe=ne.find(({cell:$t})=>$t==s);let{row:He,column:ct}=Pe;switch(m){case"left":ct--;break;case"up":He--;break;case"right":ct+=Pe.cellWidth;break;case"down":He+=Pe.cellHeight}if(He<0||He>we||ct<0&&He<=0||ct>fe&&He>=we)return void M.change($t=>{$t.setSelection($t.createRangeOn(G))});ct<0?(ct=P?0:fe,He--):ct>fe&&(ct=P?fe:0,He++);const wt=ne.find($t=>$t.row==He&&$t.column==ct).cell,Nt=["right","down"].includes(m),Kt=this.editor.plugins.get("TableSelection");if(P&&Kt.isEnabled){const $t=Kt.getAnchorCell()||s;Kt.setCellSelection($t,wt)}else{const $t=M.createPositionAt(wt,Nt?0:"end");M.change(ei=>{ei.setSelection($t)})}}}var Ke=R(492);class yt extends Ke.DomEventObserver{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(s){this.fire(s.type,s)}}class si extends w.Plugin{static get pluginName(){return"TableMouse"}static get requires(){return[Rt,hi]}init(){this.editor.editing.view.addObserver(yt),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const s=this.editor,m=s.plugins.get(hi);let P=!1;const M=s.plugins.get(Rt);this.listenTo(s.editing.view.document,"mousedown",(G,ne)=>{const we=s.model.document.selection;if(!this.isEnabled||!M.isEnabled||!ne.domEvent.shiftKey)return;const fe=M.getAnchorCell()||m.getTableCellsContainingSelection(we)[0];if(!fe)return;const Pe=this._getModelTableCellFromDomEvent(ne);Pe&&ni(fe,Pe)&&(P=!0,M.setCellSelection(fe,Pe),ne.preventDefault())}),this.listenTo(s.editing.view.document,"mouseup",()=>{P=!1}),this.listenTo(s.editing.view.document,"selectionChange",G=>{P&&G.stop()},{priority:"highest"})}_enableMouseDragSelection(){const s=this.editor;let m,P,M=!1,G=!1;const ne=s.plugins.get(Rt);this.listenTo(s.editing.view.document,"mousedown",(we,fe)=>{this.isEnabled&&ne.isEnabled&&(fe.domEvent.shiftKey||fe.domEvent.ctrlKey||fe.domEvent.altKey||(m=this._getModelTableCellFromDomEvent(fe)))}),this.listenTo(s.editing.view.document,"mousemove",(we,fe)=>{if(!fe.domEvent.buttons||!m)return;const Pe=this._getModelTableCellFromDomEvent(fe);Pe&&ni(m,Pe)&&(P=Pe,M||P==m||(M=!0)),M&&(G=!0,ne.setCellSelection(m,P),fe.preventDefault())}),this.listenTo(s.editing.view.document,"mouseup",()=>{M=!1,G=!1,m=null,P=null}),this.listenTo(s.editing.view.document,"selectionChange",we=>{G&&we.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(s){const m=s.target,P=this.editor.editing.view.createPositionAt(m,0);return this.editor.editing.mapper.toModelPosition(P).parent.findAncestor("tableCell",{includeSelf:!0})}}function ni(O,s){return O.parent.parent==s.parent.parent}var ki=R(943),di={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ki.Z,di),ki.Z.locals;class Ti extends w.Plugin{static get requires(){return[Mi,X,Rt,si,nt,Yt,C.Widget]}static get pluginName(){return"Table"}}class Ni extends w.Plugin{static get pluginName(){return"PlainTableOutput"}static get requires(){return[Ti]}init(){const s=this.editor;s.conversion.for("dataDowncast").elementToStructure({model:"table",view:Gi,converterPriority:"high"}),s.plugins.has("TableCaption")&&s.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:P})=>{if(m.parent.name==="table")return P.createContainerElement("caption")},converterPriority:"high"}),s.plugins.has("TableProperties")&&function(m){const P={"border-width":"tableBorderWidth","border-color":"tableBorderColor","border-style":"tableBorderStyle","background-color":"tableBackgroundColor"};for(const[M,G]of Object.entries(P))m.conversion.for("dataDowncast").add(ne=>ne.on(`attribute:${G}:table`,(we,fe,Pe)=>{const{item:He,attributeNewValue:ct}=fe,{mapper:wt,writer:Nt}=Pe;if(!Pe.consumable.consume(He,we.name))return;const Kt=wt.toViewElement(He);ct?Nt.setStyle(M,ct,Kt):Nt.removeStyle(M,Kt)},{priority:"high"}))}(s)}}function Gi(O,{writer:s}){const m=O.getAttribute("headingRows")||0,P=s.createSlot(Pe=>Pe.is("element","tableRow")&&Pe.index<m),M=s.createSlot(Pe=>Pe.is("element","tableRow")&&Pe.index>=m),G=s.createSlot(Pe=>!Pe.is("element","tableRow")),ne=s.createContainerElement("thead",null,P),we=s.createContainerElement("tbody",null,M),fe=[];return m&&fe.push(ne),m<O.childCount&&fe.push(we),s.createContainerElement("table",null,[G,...fe])}function rn(O){return $i(O)||hn(O)}function $i(O){const s=O.getSelectedElement();return s&&kn(s)?s:null}function hn(O){const s=O.getFirstPosition();if(!s)return null;let m=s.parent;for(;m;){if(m.is("element")&&kn(m))return m;m=m.parent}return null}function kn(O){return!!O.getCustomProperty("table")&&(0,C.isWidget)(O)}class qn extends w.Plugin{static get requires(){return[C.WidgetToolbarRepository]}static get pluginName(){return"TableToolbar"}afterInit(){const s=this.editor,m=s.t,P=s.plugins.get(C.WidgetToolbarRepository),M=s.config.get("table.contentToolbar"),G=s.config.get("table.tableToolbar");M&&P.register("tableContent",{ariaLabel:m("Table toolbar"),items:M,getRelatedElement:hn}),G&&P.register("table",{ariaLabel:m("Table toolbar"),items:G,getRelatedElement:$i})}}var on=R(993),En={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(on.Z,En),on.Z.locals;class In extends Zt.View{constructor(s,m){super(s),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=m,this.focusTracker=new re.FocusTracker,this._focusables=new Zt.ViewCollection,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new re.KeystrokeHandler,this._stillTyping=!1,this.focusCycler=new Zt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",(P,M,G)=>this._setInputValue(G))}render(){super.render(),[this.inputView,this.dropdownView.buttonView].forEach(s=>{this.focusTracker.add(s.element),this._focusables.add(s)}),this.keystrokes.listenTo(this.element)}focus(s){s===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const s=this.locale,m=s.t,P=this.bindTemplate,M=this._createColorSelector(s),G=(0,Zt.createDropdown)(s),ne=new Zt.View;return ne.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:P.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",P.if("value","ck-hidden",we=>we!="")]}}]}),G.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),G.buttonView.children.add(ne),G.buttonView.label=m("Color picker"),G.buttonView.tooltip=!0,G.panelPosition=s.uiLanguageDirection==="rtl"?"se":"sw",G.panelView.children.add(M),G.bind("isEnabled").to(this,"isReadOnly",we=>!we),G.on("change:isOpen",(we,fe,Pe)=>{Pe&&(M.updateSelectedColors(),M.showColorGridsFragment())}),G}_createInputTextView(){const s=this.locale,m=new Zt.InputTextView(s);return m.extendTemplate({on:{blur:m.bindTemplate.to("blur")}}),m.value=this.value,m.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(m),m.on("input",()=>{const P=m.element.value,M=this.options.colorDefinitions.find(G=>P===G.label);this._stillTyping=!0,this.value=M&&M.color||P}),m.on("blur",()=>{this._stillTyping=!1,this._setInputValue(m.element.value)}),m.delegate("input").to(this),m}_createColorSelector(s){const m=s.t,P=this.options.defaultColorValue||"",M=m(P?"Restore default":"Remove color"),G=new Zt.ColorSelectorView(s,{colors:this.options.colorDefinitions,columns:this.options.columns,removeButtonLabel:M,colorPickerLabel:m("Color picker"),colorPickerViewConfig:this.options.colorPickerConfig!==!1&&{...this.options.colorPickerConfig,hideInput:!0}});G.appendUI(),G.on("execute",(we,fe)=>{fe.source!=="colorPickerSaveButton"?(this.value=fe.value||P,this.fire("input"),fe.source!=="colorPicker"&&(this.dropdownView.isOpen=!1)):this.dropdownView.isOpen=!1});let ne=this.value;return G.on("colorPicker:cancel",()=>{this.value=ne,this.fire("input"),this.dropdownView.isOpen=!1}),G.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{ne=this.value}),G.bind("selectedColor").to(this,"value"),G}_setInputValue(s){if(!this._stillTyping){const m=Yn(s),P=this.options.colorDefinitions.find(M=>m===Yn(M.color));this.inputView.value=P?P.label:s||""}}}function Yn(O){return O.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const ur=O=>O==="";function rr(O){return{none:O("None"),solid:O("Solid"),dotted:O("Dotted"),dashed:O("Dashed"),double:O("Double"),groove:O("Groove"),ridge:O("Ridge"),inset:O("Inset"),outset:O("Outset")}}function or(O){return O('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function Ht(O){return O('The value is invalid. Try "10px" or "2em" or simply "2".')}function K(O){return O=O.trim().toLowerCase(),ur(O)||(0,Ke.isColor)(O)}function Ae(O){return O=O.trim(),ur(O)||kt(O)||(0,Ke.isLength)(O)||(0,Ke.isPercentage)(O)}function Ue(O){return O=O.trim(),ur(O)||kt(O)||(0,Ke.isLength)(O)}function Be(O,s){const m=new re.Collection,P=rr(O.t);for(const M in P){const G={type:"button",model:new Zt.Model({_borderStyleValue:M,label:P[M],role:"menuitemradio",withText:!0})};M==="none"?G.model.bind("isOn").to(O,"borderStyle",ne=>s==="none"?!ne:ne===M):G.model.bind("isOn").to(O,"borderStyle",ne=>ne===M),m.add(G)}return m}function et(O){const{view:s,icons:m,toolbar:P,labels:M,propertyName:G,nameToValue:ne,defaultValue:we}=O;for(const fe in M){const Pe=new Zt.ButtonView(s.locale);Pe.set({label:M[fe],icon:m[fe],tooltip:M[fe]});const He=ne?ne(fe):fe;Pe.bind("isOn").to(s,G,ct=>{let wt=ct;return ct===""&&we&&(wt=we),He===wt}),Pe.on("execute",()=>{s[G]=He}),P.items.add(Pe)}}const Xe=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function Et(O){return(s,m,P)=>{const M=new In(s.locale,{colorDefinitions:(G=O.colorConfig,G.map(ne=>({color:ne.model,label:ne.label,options:{hasBorder:ne.hasBorder}}))),columns:O.columns,defaultColorValue:O.defaultColorValue,colorPickerConfig:O.colorPickerConfig});var G;return M.inputView.set({id:m,ariaDescribedById:P}),M.bind("isReadOnly").to(s,"isEnabled",ne=>!ne),M.bind("hasError").to(s,"errorText",ne=>!!ne),M.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused").to(M),M}}function kt(O){const s=parseFloat(O);return!Number.isNaN(s)&&O===String(s)}var At=R(865),Dt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(At.Z,Dt),At.Z.locals;class Wt extends Zt.View{constructor(s,m={}){super(s);const P=this.bindTemplate;this.set("class",m.class||null),this.children=this.createCollection(),m.children&&m.children.forEach(M=>this.children.add(M)),this.set("_role",null),this.set("_ariaLabelledBy",null),m.labelView&&this.set({_role:"group",_ariaLabelledBy:m.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",P.to("class")],role:P.to("_role"),"aria-labelledby":P.to("_ariaLabelledBy")},children:this.children})}}var mi=R(102),ai={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(mi.Z,ai),mi.Z.locals;var gi=R(424),Ri={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(gi.Z,Ri),gi.Z.locals;var Qi=R(770),Pn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Qi.Z,Pn),Qi.Z.locals;const Mn={left:w.icons.alignLeft,center:w.icons.alignCenter,right:w.icons.alignRight,justify:w.icons.alignJustify,top:w.icons.alignTop,middle:w.icons.alignMiddle,bottom:w.icons.alignBottom};class Qn extends Zt.View{constructor(s,m){super(s),this.set({borderStyle:"",borderWidth:"",borderColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:""}),this.options=m;const{borderStyleDropdown:P,borderWidthInput:M,borderColorInput:G,borderRowLabel:ne}=this._createBorderFields(),{backgroundRowLabel:we,backgroundInput:fe}=this._createBackgroundFields(),{widthInput:Pe,operatorLabel:He,heightInput:ct,dimensionsLabel:wt}=this._createDimensionFields(),{horizontalAlignmentToolbar:Nt,verticalAlignmentToolbar:Kt,alignmentLabel:$t}=this._createAlignmentFields();this.focusTracker=new re.FocusTracker,this.keystrokes=new re.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=P,this.borderWidthInput=M,this.borderColorInput=G,this.backgroundInput=fe,this.paddingInput=this._createPaddingField(),this.widthInput=Pe,this.heightInput=ct,this.horizontalAlignmentToolbar=Nt,this.verticalAlignmentToolbar=Kt;const{saveButtonView:ei,cancelButtonView:pi}=this._createActionButtons();this.saveButtonView=ei,this.cancelButtonView=pi,this._focusables=new Zt.ViewCollection,this._focusCycler=new Zt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Zt.FormHeaderView(s,{label:this.t("Cell properties")})),this.children.add(new Wt(s,{labelView:ne,children:[ne,P,G,M],class:"ck-table-form__border-row"})),this.children.add(new Wt(s,{labelView:we,children:[we,fe],class:"ck-table-form__background-row"})),this.children.add(new Wt(s,{children:[new Wt(s,{labelView:wt,children:[wt,Pe,He,ct],class:"ck-table-form__dimensions-row"}),new Wt(s,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new Wt(s,{labelView:$t,children:[$t,Nt,Kt],class:"ck-table-cell-properties-form__alignment-row"})),this.children.add(new Wt(s,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,Zt.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(s=>{s.fieldView.focusCycler.on("forwardCycle",m=>{this._focusCycler.focusNext(),m.stop()}),s.fieldView.focusCycler.on("backwardCycle",m=>{this._focusCycler.focusPrevious(),m.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const s=this.options.defaultTableCellProperties,m={style:s.borderStyle,width:s.borderWidth,color:s.borderColor},P=Et({colorConfig:this.options.borderColors,columns:5,defaultColorValue:m.color,colorPickerConfig:this.options.colorPickerConfig}),M=this.locale,G=this.t,ne=G("Style"),we=new Zt.LabelView(M);we.text=G("Border");const fe=rr(G),Pe=new Zt.LabeledFieldView(M,Zt.createLabeledDropdown);Pe.set({label:ne,class:"ck-table-form__border-style"}),Pe.fieldView.buttonView.set({ariaLabel:ne,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:ne}),Pe.fieldView.buttonView.bind("label").to(this,"borderStyle",wt=>fe[wt||"none"]),Pe.fieldView.on("execute",wt=>{this.borderStyle=wt.source._borderStyleValue}),Pe.bind("isEmpty").to(this,"borderStyle",wt=>!wt),(0,Zt.addListToDropdown)(Pe.fieldView,Be(this,m.style),{role:"menu",ariaLabel:ne});const He=new Zt.LabeledFieldView(M,Zt.createLabeledInputText);He.set({label:G("Width"),class:"ck-table-form__border-width"}),He.fieldView.bind("value").to(this,"borderWidth"),He.bind("isEnabled").to(this,"borderStyle",Kn),He.fieldView.on("input",()=>{this.borderWidth=He.fieldView.element.value});const ct=new Zt.LabeledFieldView(M,P);return ct.set({label:G("Color"),class:"ck-table-form__border-color"}),ct.fieldView.bind("value").to(this,"borderColor"),ct.bind("isEnabled").to(this,"borderStyle",Kn),ct.fieldView.on("input",()=>{this.borderColor=ct.fieldView.value}),this.on("change:borderStyle",(wt,Nt,Kt,$t)=>{Kn(Kt)||(this.borderColor="",this.borderWidth=""),Kn($t)||(this.borderColor=m.color,this.borderWidth=m.width)}),{borderRowLabel:we,borderStyleDropdown:Pe,borderColorInput:ct,borderWidthInput:He}}_createBackgroundFields(){const s=this.locale,m=this.t,P=new Zt.LabelView(s);P.text=m("Background");const M=Et({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),G=new Zt.LabeledFieldView(s,M);return G.set({label:m("Color"),class:"ck-table-cell-properties-form__background"}),G.fieldView.bind("value").to(this,"backgroundColor"),G.fieldView.on("input",()=>{this.backgroundColor=G.fieldView.value}),{backgroundRowLabel:P,backgroundInput:G}}_createDimensionFields(){const s=this.locale,m=this.t,P=new Zt.LabelView(s);P.text=m("Dimensions");const M=new Zt.LabeledFieldView(s,Zt.createLabeledInputText);M.set({label:m("Width"),class:"ck-table-form__dimensions-row__width"}),M.fieldView.bind("value").to(this,"width"),M.fieldView.on("input",()=>{this.width=M.fieldView.element.value});const G=new Zt.View(s);G.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const ne=new Zt.LabeledFieldView(s,Zt.createLabeledInputText);return ne.set({label:m("Height"),class:"ck-table-form__dimensions-row__height"}),ne.fieldView.bind("value").to(this,"height"),ne.fieldView.on("input",()=>{this.height=ne.fieldView.element.value}),{dimensionsLabel:P,widthInput:M,operatorLabel:G,heightInput:ne}}_createPaddingField(){const s=this.locale,m=this.t,P=new Zt.LabeledFieldView(s,Zt.createLabeledInputText);return P.set({label:m("Padding"),class:"ck-table-cell-properties-form__padding"}),P.fieldView.bind("value").to(this,"padding"),P.fieldView.on("input",()=>{this.padding=P.fieldView.element.value}),P}_createAlignmentFields(){const s=this.locale,m=this.t,P=new Zt.LabelView(s);P.text=m("Table cell text alignment");const M=new Zt.ToolbarView(s),G=s.contentLanguageDirection==="rtl";M.set({isCompact:!0,ariaLabel:m("Horizontal text alignment toolbar")}),et({view:this,icons:Mn,toolbar:M,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:we=>{if(G){if(we==="left")return"right";if(we==="right")return"left"}return we},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const ne=new Zt.ToolbarView(s);return ne.set({isCompact:!0,ariaLabel:m("Vertical text alignment toolbar")}),et({view:this,icons:Mn,toolbar:ne,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:M,verticalAlignmentToolbar:ne,alignmentLabel:P}}_createActionButtons(){const s=this.locale,m=this.t,P=new Zt.ButtonView(s),M=new Zt.ButtonView(s),G=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return P.set({label:m("Save"),icon:w.icons.check,class:"ck-button-save",type:"submit",withText:!0}),P.bind("isEnabled").toMany(G,"errorText",(...ne)=>ne.every(we=>!we)),M.set({label:m("Cancel"),icon:w.icons.cancel,class:"ck-button-cancel",withText:!0}),M.delegate("execute").to(this,"cancel"),{saveButtonView:P,cancelButtonView:M}}get _horizontalAlignmentLabels(){const s=this.locale,m=this.t,P=m("Align cell text to the left"),M=m("Align cell text to the center"),G=m("Align cell text to the right"),ne=m("Justify cell text");return s.uiLanguageDirection==="rtl"?{right:G,center:M,left:P,justify:ne}:{left:P,center:M,right:G,justify:ne}}get _verticalAlignmentLabels(){const s=this.t;return{top:s("Align cell text to the top"),middle:s("Align cell text to the middle"),bottom:s("Align cell text to the bottom")}}}function Kn(O){return O!=="none"}const Rn=function(O){var s=typeof O;return O!=null&&(s=="object"||s=="function")},hr=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g;var yr=typeof self=="object"&&self&&self.Object===Object&&self;const Nn=hr||yr||Function("return this")(),sr=function(){return Nn.Date.now()};var zn=/\s/;const _e=function(O){for(var s=O.length;s--&&zn.test(O.charAt(s)););return s};var k=/^\s+/;const d=function(O){return O&&O.slice(0,_e(O)+1).replace(k,"")},I=Nn.Symbol;var N=Object.prototype,J=N.hasOwnProperty,ce=N.toString,pe=I?I.toStringTag:void 0;const he=function(O){var s=J.call(O,pe),m=O[pe];try{O[pe]=void 0;var P=!0}catch{}var M=ce.call(O);return P&&(s?O[pe]=m:delete O[pe]),M};var ve=Object.prototype.toString;const Re=function(O){return ve.call(O)};var We=I?I.toStringTag:void 0;const Ye=function(O){return O==null?O===void 0?"[object Undefined]":"[object Null]":We&&We in Object(O)?he(O):Re(O)},pt=function(O){return O!=null&&typeof O=="object"},Ct=function(O){return typeof O=="symbol"||pt(O)&&Ye(O)=="[object Symbol]"};var St=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,ii=/^0o[0-7]+$/i,Jt=parseInt;const bi=function(O){if(typeof O=="number")return O;if(Ct(O))return NaN;if(Rn(O)){var s=typeof O.valueOf=="function"?O.valueOf():O;O=Rn(s)?s+"":s}if(typeof O!="string")return O===0?O:+O;O=d(O);var m=xt.test(O);return m||ii.test(O)?Jt(O.slice(2),m?2:8):St.test(O)?NaN:+O};var Si=Math.max,Hi=Math.min;const sn=function(O,s,m){var P,M,G,ne,we,fe,Pe=0,He=!1,ct=!1,wt=!0;if(typeof O!="function")throw new TypeError("Expected a function");function Nt(xi){var Bi=P,en=M;return P=M=void 0,Pe=xi,ne=O.apply(en,Bi)}function Kt(xi){var Bi=xi-fe;return fe===void 0||Bi>=s||Bi<0||ct&&xi-Pe>=G}function $t(){var xi=sr();if(Kt(xi))return ei(xi);we=setTimeout($t,function(Bi){var en=s-(Bi-fe);return ct?Hi(en,G-(Bi-Pe)):en}(xi))}function ei(xi){return we=void 0,wt&&P?Nt(xi):(P=M=void 0,ne)}function pi(){var xi=sr(),Bi=Kt(xi);if(P=arguments,M=this,fe=xi,Bi){if(we===void 0)return function(en){return Pe=en,we=setTimeout($t,s),He?Nt(en):ne}(fe);if(ct)return clearTimeout(we),we=setTimeout($t,s),Nt(fe)}return we===void 0&&(we=setTimeout($t,s)),ne}return s=bi(s)||0,Rn(m)&&(He=!!m.leading,G=(ct="maxWait"in m)?Si(bi(m.maxWait)||0,s):G,wt="trailing"in m?!!m.trailing:wt),pi.cancel=function(){we!==void 0&&clearTimeout(we),Pe=0,P=fe=M=we=void 0},pi.flush=function(){return we===void 0?ne:ei(sr())},pi},mn=Zt.BalloonPanelView.defaultPositions,Cn=[mn.northArrowSouth,mn.northArrowSouthWest,mn.northArrowSouthEast,mn.southArrowNorth,mn.southArrowNorthWest,mn.southArrowNorthEast,mn.viewportStickyNorth];function pr(O,s){const m=O.plugins.get("ContextualBalloon"),P=O.editing.view.document.selection;let M;s==="cell"?hn(P)&&(M=Dr(O)):rn(P)&&(M=$r(O)),M&&m.updatePosition(M)}function $r(O){const s=ee(O.model.document.selection),m=O.editing.mapper.toViewElement(s);return{target:O.editing.view.domConverter.mapViewToDom(m),positions:Cn}}function Dr(O){const s=O.editing.mapper,m=O.editing.view.domConverter,P=O.model.document.selection;if(P.rangeCount>1)return{target:()=>function(ne,we){const fe=we.editing.mapper,Pe=we.editing.view.domConverter,He=Array.from(ne).map(ct=>{const wt=Xr(ct.start),Nt=fe.toViewElement(wt);return new re.Rect(Pe.mapViewToDom(Nt))});return re.Rect.getBoundingRect(He)}(P.getRanges(),O),positions:Cn};const M=Xr(P.getFirstPosition()),G=s.toViewElement(M);return{target:m.mapViewToDom(G),positions:Cn}}function Xr(O){return O.nodeAfter&&O.nodeAfter.is("element","tableCell")?O.nodeAfter:O.findAncestor("tableCell")}function fr(O){if(!O||!Rn(O))return O;const{top:s,right:m,bottom:P,left:M}=O;return s==m&&m==P&&P==M?s:void 0}function Jn(O,s){const m=parseFloat(O);return Number.isNaN(m)||String(m)!==String(O)?O:`${m}${s}`}function Ir(O,s={}){const m={borderStyle:"none",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",...O};return s.includeAlignmentProperty&&!m.alignment&&(m.alignment="center"),s.includePaddingProperty&&!m.padding&&(m.padding=""),s.includeVerticalAlignmentProperty&&!m.verticalAlignment&&(m.verticalAlignment="middle"),s.includeHorizontalAlignmentProperty&&!m.horizontalAlignment&&(m.horizontalAlignment=s.isRightToLeftContent?"right":"left"),m}const zr={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment"};class Fn extends w.Plugin{static get requires(){return[Zt.ContextualBalloon]}static get pluginName(){return"TableCellPropertiesUI"}constructor(s){super(s),s.config.define("table.tableCellProperties",{borderColors:Xe,backgroundColors:Xe})}init(){const s=this.editor,m=s.t;this._defaultTableCellProperties=Ir(s.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:s.locale.contentLanguageDirection==="rtl"}),this._balloon=s.plugins.get(Zt.ContextualBalloon),this.view=null,this._isReady=!1,s.ui.componentFactory.add("tableCellProperties",P=>{const M=new Zt.ButtonView(P);M.set({label:m("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(M,"execute",()=>this._showView());const G=Object.values(zr).map(ne=>s.commands.get(ne));return M.bind("isEnabled").toMany(G,"isEnabled",(...ne)=>ne.some(we=>we)),M})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const s=this.editor,m=s.config.get("table.tableCellProperties"),P=(0,Zt.normalizeColorOptions)(m.borderColors),M=(0,Zt.getLocalizedColorOptions)(s.locale,P),G=(0,Zt.normalizeColorOptions)(m.backgroundColors),ne=(0,Zt.getLocalizedColorOptions)(s.locale,G),we=m.colorPicker!==!1,fe=new Qn(s.locale,{borderColors:M,backgroundColors:ne,defaultTableCellProperties:this._defaultTableCellProperties,colorPickerConfig:!!we&&(m.colorPicker||{})}),Pe=s.t;fe.render(),this.listenTo(fe,"submit",()=>{this._hideView()}),this.listenTo(fe,"cancel",()=>{this._undoStepBatch.operations.length&&s.execute("undo",this._undoStepBatch),this._hideView()}),fe.keystrokes.set("Esc",(wt,Nt)=>{this._hideView(),Nt()}),(0,Zt.clickOutsideHandler)({emitter:fe,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const He=or(Pe),ct=Ht(Pe);return fe.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),fe.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:fe.borderColorInput,commandName:"tableCellBorderColor",errorText:He,validator:K})),fe.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:fe.borderWidthInput,commandName:"tableCellBorderWidth",errorText:ct,validator:Ue})),fe.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:fe.paddingInput,commandName:"tableCellPadding",errorText:ct,validator:Ae})),fe.on("change:width",this._getValidatedPropertyChangeCallback({viewField:fe.widthInput,commandName:"tableCellWidth",errorText:ct,validator:Ae})),fe.on("change:height",this._getValidatedPropertyChangeCallback({viewField:fe.heightInput,commandName:"tableCellHeight",errorText:ct,validator:Ae})),fe.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:fe.backgroundInput,commandName:"tableCellBackgroundColor",errorText:He,validator:K})),fe.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),fe.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),fe}_fillViewFormFromCommandValues(){const s=this.editor.commands,m=s.get("tableCellBorderStyle");Object.entries(zr).map(([P,M])=>{const G=this._defaultTableCellProperties[P]||"";return[P,s.get(M).value||G]}).forEach(([P,M])=>{(P!=="borderColor"&&P!=="borderWidth"||m.value!=="none")&&this.view.set(P,M)}),this._isReady=!0}_showView(){const s=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(s.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:Dr(s)}),this._undoStepBatch=s.model.createBatch(),this.view.focus()}_hideView(){const s=this.editor;this.stopListening(s.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const s=this.editor;hn(s.editing.view.document.selection)?this._isViewVisible&&pr(s,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(s){return(m,P,M)=>{this._isReady&&this.editor.execute(s,{value:M,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(s){const{commandName:m,viewField:P,validator:M,errorText:G}=s,ne=sn(()=>{P.errorText=G},500);return(we,fe,Pe)=>{ne.cancel(),this._isReady&&(M(Pe)?(this.editor.execute(m,{value:Pe,batch:this._undoStepBatch}),P.errorText=null):ne())}}}class Xn extends w.Command{constructor(s,m,P){super(s),this.attributeName=m,this._defaultValue=P}refresh(){const s=this.editor,m=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(s.model.document.selection);this.isEnabled=!!m.length,this.value=this._getSingleValue(m)}execute(s={}){const{value:m,batch:P}=s,M=this.editor.model,G=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(M.document.selection),ne=this._getValueToSet(m);M.enqueueChange(P,we=>{ne?G.forEach(fe=>we.setAttribute(this.attributeName,ne,fe)):G.forEach(fe=>we.removeAttribute(this.attributeName,fe))})}_getAttribute(s){if(!s)return;const m=s.getAttribute(this.attributeName);return m!==this._defaultValue?m:void 0}_getValueToSet(s){if(s!==this._defaultValue)return s}_getSingleValue(s){const m=this._getAttribute(s[0]);return s.every(P=>this._getAttribute(P)===m)?m:void 0}}class Do extends Xn{constructor(s,m){super(s,"tableCellWidth",m)}_getValueToSet(s){if((s=Jn(s,"px"))!==this._defaultValue)return s}}class eo extends w.Plugin{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[Mi]}init(){const s=this.editor,m=Ir(s.config.get("table.tableCellProperties.defaultProperties"));Y(s.model.schema,s.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:m.width}),s.commands.add("tableCellWidth",new Do(s,m.width))}}class ho extends Xn{constructor(s,m){super(s,"tableCellPadding",m)}_getAttribute(s){if(!s)return;const m=fr(s.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}_getValueToSet(s){const m=Jn(s,"px");if(m!==this._defaultValue)return m}}class Fr extends Xn{constructor(s,m){super(s,"tableCellHeight",m)}_getValueToSet(s){const m=Jn(s,"px");if(m!==this._defaultValue)return m}}class mo extends Xn{constructor(s,m){super(s,"tableCellBackgroundColor",m)}}class qr extends Xn{constructor(s,m){super(s,"tableCellVerticalAlignment",m)}}class zo extends Xn{constructor(s,m){super(s,"tableCellHorizontalAlignment",m)}}class Eo extends Xn{constructor(s,m){super(s,"tableCellBorderStyle",m)}_getAttribute(s){if(!s)return;const m=fr(s.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class to extends Xn{constructor(s,m){super(s,"tableCellBorderColor",m)}_getAttribute(s){if(!s)return;const m=fr(s.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class So extends Xn{constructor(s,m){super(s,"tableCellBorderWidth",m)}_getAttribute(s){if(!s)return;const m=fr(s.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}_getValueToSet(s){const m=Jn(s,"px");if(m!==this._defaultValue)return m}}const Io=/^(top|middle|bottom)$/,go=/^(left|center|right|justify)$/;class Ji extends w.Plugin{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[Mi,eo]}init(){const s=this.editor,m=s.model.schema,P=s.conversion;s.config.define("table.tableCellProperties.defaultProperties",{});const M=Ir(s.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:s.locale.contentLanguageDirection==="rtl"});s.data.addStyleProcessorRules(Ke.addBorderRules),function(G,ne,we){const fe={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};G.extend("tableCell",{allowAttributes:Object.values(fe)}),c(ne,"td",fe,we),c(ne,"th",fe,we),L(ne,{modelElement:"tableCell",modelAttribute:fe.style,styleName:"border-style"}),L(ne,{modelElement:"tableCell",modelAttribute:fe.color,styleName:"border-color"}),L(ne,{modelElement:"tableCell",modelAttribute:fe.width,styleName:"border-width"})}(m,P,{color:M.borderColor,style:M.borderStyle,width:M.borderWidth}),s.commands.add("tableCellBorderStyle",new Eo(s,M.borderStyle)),s.commands.add("tableCellBorderColor",new to(s,M.borderColor)),s.commands.add("tableCellBorderWidth",new So(s,M.borderWidth)),Y(m,P,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:M.height}),s.commands.add("tableCellHeight",new Fr(s,M.height)),s.data.addStyleProcessorRules(Ke.addPaddingRules),Y(m,P,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:M.padding}),s.commands.add("tableCellPadding",new ho(s,M.padding)),s.data.addStyleProcessorRules(Ke.addBackgroundRules),Y(m,P,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:M.backgroundColor}),s.commands.add("tableCellBackgroundColor",new mo(s,M.backgroundColor)),function(G,ne,we){G.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),ne.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:fe=>({key:"style",value:{"text-align":fe}})}),ne.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":go}},model:{key:"tableCellHorizontalAlignment",value:fe=>{const Pe=fe.getStyle("text-align");return Pe===we?null:Pe}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:go}},model:{key:"tableCellHorizontalAlignment",value:fe=>{const Pe=fe.getAttribute("align");return Pe===we?null:Pe}}})}(m,P,M.horizontalAlignment),s.commands.add("tableCellHorizontalAlignment",new zo(s,M.horizontalAlignment)),function(G,ne,we){G.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),ne.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:fe=>({key:"style",value:{"vertical-align":fe}})}),ne.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":Io}},model:{key:"tableCellVerticalAlignment",value:fe=>{const Pe=fe.getStyle("vertical-align");return Pe===we?null:Pe}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:Io}},model:{key:"tableCellVerticalAlignment",value:fe=>{const Pe=fe.getAttribute("valign");return Pe===we?null:Pe}}})}(m,P,M.verticalAlignment),s.commands.add("tableCellVerticalAlignment",new qr(s,M.verticalAlignment))}}class xr extends w.Plugin{static get pluginName(){return"TableCellProperties"}static get requires(){return[Ji,Fn]}}class Cr extends w.Command{constructor(s,m,P){super(s),this.attributeName=m,this._defaultValue=P}refresh(){const s=ee(this.editor.model.document.selection);this.isEnabled=!!s,this.value=this._getValue(s)}execute(s={}){const m=this.editor.model,P=m.document.selection,{value:M,batch:G}=s,ne=ee(P),we=this._getValueToSet(M);m.enqueueChange(G,fe=>{we?fe.setAttribute(this.attributeName,we,ne):fe.removeAttribute(this.attributeName,ne)})}_getValue(s){if(!s)return;const m=s.getAttribute(this.attributeName);return m!==this._defaultValue?m:void 0}_getValueToSet(s){if(s!==this._defaultValue)return s}}class Pr extends Cr{constructor(s,m){super(s,"tableBackgroundColor",m)}}class br extends Cr{constructor(s,m){super(s,"tableBorderColor",m)}_getValue(s){if(!s)return;const m=fr(s.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class Ln extends Cr{constructor(s,m){super(s,"tableBorderStyle",m)}_getValue(s){if(!s)return;const m=fr(s.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}}class an extends Cr{constructor(s,m){super(s,"tableBorderWidth",m)}_getValue(s){if(!s)return;const m=fr(s.getAttribute(this.attributeName));return m!==this._defaultValue?m:void 0}_getValueToSet(s){const m=Jn(s,"px");if(m!==this._defaultValue)return m}}class Wn extends Cr{constructor(s,m){super(s,"tableWidth",m)}_getValueToSet(s){if((s=Jn(s,"px"))!==this._defaultValue)return s}}class ln extends Cr{constructor(s,m){super(s,"tableHeight",m)}_getValueToSet(s){if((s=Jn(s,"px"))!==this._defaultValue)return s}}class wr extends Cr{constructor(s,m){super(s,"tableAlignment",m)}}const Tr=/^(left|center|right)$/,Xt=/^(left|none|right)$/;class nn extends w.Plugin{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[Mi]}init(){const s=this.editor,m=s.model.schema,P=s.conversion;s.config.define("table.tableProperties.defaultProperties",{});const M=Ir(s.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});s.data.addStyleProcessorRules(Ke.addBorderRules),function(G,ne,we){const fe={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};G.extend("table",{allowAttributes:Object.values(fe)}),c(ne,"table",fe,we),B(ne,{modelAttribute:fe.color,styleName:"border-color"}),B(ne,{modelAttribute:fe.style,styleName:"border-style"}),B(ne,{modelAttribute:fe.width,styleName:"border-width"})}(m,P,{color:M.borderColor,style:M.borderStyle,width:M.borderWidth}),s.commands.add("tableBorderColor",new br(s,M.borderColor)),s.commands.add("tableBorderStyle",new Ln(s,M.borderStyle)),s.commands.add("tableBorderWidth",new an(s,M.borderWidth)),function(G,ne,we){G.extend("table",{allowAttributes:["tableAlignment"]}),ne.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:fe=>({key:"style",value:{float:fe==="center"?"none":fe}}),converterPriority:"high"}),ne.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Xt}},model:{key:"tableAlignment",value:fe=>{let Pe=fe.getStyle("float");return Pe==="none"&&(Pe="center"),Pe===we?null:Pe}}}).attributeToAttribute({view:{attributes:{align:Tr}},model:{name:"table",key:"tableAlignment",value:fe=>{const Pe=fe.getAttribute("align");return Pe===we?null:Pe}}})}(m,P,M.alignment),s.commands.add("tableAlignment",new wr(s,M.alignment)),Kr(m,P,{modelAttribute:"tableWidth",styleName:"width",defaultValue:M.width}),s.commands.add("tableWidth",new Wn(s,M.width)),Kr(m,P,{modelAttribute:"tableHeight",styleName:"height",defaultValue:M.height}),s.commands.add("tableHeight",new ln(s,M.height)),s.data.addStyleProcessorRules(Ke.addBackgroundRules),function(G,ne,we){const{modelAttribute:fe}=we;G.extend("table",{allowAttributes:[fe]}),l(ne,{viewElement:"table",...we}),B(ne,we)}(m,P,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:M.backgroundColor}),s.commands.add("tableBackgroundColor",new Pr(s,M.backgroundColor))}}function Kr(O,s,m){const{modelAttribute:P}=m;O.extend("table",{allowAttributes:[P]}),l(s,{viewElement:/^(table|figure)$/,shouldUpcast:M=>!(M.name=="table"&&M.parent.name=="figure"),...m}),L(s,{modelElement:"table",...m})}var po=R(500),io={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(po.Z,io),po.Z.locals;const no={left:w.icons.objectLeft,center:w.icons.objectCenter,right:w.icons.objectRight};class Bt extends Zt.View{constructor(s,m){super(s),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=m;const{borderStyleDropdown:P,borderWidthInput:M,borderColorInput:G,borderRowLabel:ne}=this._createBorderFields(),{backgroundRowLabel:we,backgroundInput:fe}=this._createBackgroundFields(),{widthInput:Pe,operatorLabel:He,heightInput:ct,dimensionsLabel:wt}=this._createDimensionFields(),{alignmentToolbar:Nt,alignmentLabel:Kt}=this._createAlignmentFields();this.focusTracker=new re.FocusTracker,this.keystrokes=new re.KeystrokeHandler,this.children=this.createCollection(),this.borderStyleDropdown=P,this.borderWidthInput=M,this.borderColorInput=G,this.backgroundInput=fe,this.widthInput=Pe,this.heightInput=ct,this.alignmentToolbar=Nt;const{saveButtonView:$t,cancelButtonView:ei}=this._createActionButtons();this.saveButtonView=$t,this.cancelButtonView=ei,this._focusables=new Zt.ViewCollection,this._focusCycler=new Zt.FocusCycler({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Zt.FormHeaderView(s,{label:this.t("Table properties")})),this.children.add(new Wt(s,{labelView:ne,children:[ne,P,G,M],class:"ck-table-form__border-row"})),this.children.add(new Wt(s,{labelView:we,children:[we,fe],class:"ck-table-form__background-row"})),this.children.add(new Wt(s,{children:[new Wt(s,{labelView:wt,children:[wt,Pe,He,ct],class:"ck-table-form__dimensions-row"}),new Wt(s,{labelView:Kt,children:[Kt,Nt],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Wt(s,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),(0,Zt.submitHandler)({view:this}),[this.borderColorInput,this.backgroundInput].forEach(s=>{s.fieldView.focusCycler.on("forwardCycle",m=>{this._focusCycler.focusNext(),m.stop()}),s.fieldView.focusCycler.on("backwardCycle",m=>{this._focusCycler.focusPrevious(),m.stop()})}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(s=>{this._focusables.add(s),this.focusTracker.add(s.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const s=this.options.defaultTableProperties,m={style:s.borderStyle,width:s.borderWidth,color:s.borderColor},P=Et({colorConfig:this.options.borderColors,columns:5,defaultColorValue:m.color,colorPickerConfig:this.options.colorPickerConfig}),M=this.locale,G=this.t,ne=G("Style"),we=new Zt.LabelView(M);we.text=G("Border");const fe=rr(G),Pe=new Zt.LabeledFieldView(M,Zt.createLabeledDropdown);Pe.set({label:ne,class:"ck-table-form__border-style"}),Pe.fieldView.buttonView.set({ariaLabel:ne,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:ne}),Pe.fieldView.buttonView.bind("label").to(this,"borderStyle",wt=>fe[wt||"none"]),Pe.fieldView.on("execute",wt=>{this.borderStyle=wt.source._borderStyleValue}),Pe.bind("isEmpty").to(this,"borderStyle",wt=>!wt),(0,Zt.addListToDropdown)(Pe.fieldView,Be(this,m.style),{role:"menu",ariaLabel:ne});const He=new Zt.LabeledFieldView(M,Zt.createLabeledInputText);He.set({label:G("Width"),class:"ck-table-form__border-width"}),He.fieldView.bind("value").to(this,"borderWidth"),He.bind("isEnabled").to(this,"borderStyle",Vr),He.fieldView.on("input",()=>{this.borderWidth=He.fieldView.element.value});const ct=new Zt.LabeledFieldView(M,P);return ct.set({label:G("Color"),class:"ck-table-form__border-color"}),ct.fieldView.bind("value").to(this,"borderColor"),ct.bind("isEnabled").to(this,"borderStyle",Vr),ct.fieldView.on("input",()=>{this.borderColor=ct.fieldView.value}),this.on("change:borderStyle",(wt,Nt,Kt,$t)=>{Vr(Kt)||(this.borderColor="",this.borderWidth=""),Vr($t)||(this.borderColor=m.color,this.borderWidth=m.width)}),{borderRowLabel:we,borderStyleDropdown:Pe,borderColorInput:ct,borderWidthInput:He}}_createBackgroundFields(){const s=this.locale,m=this.t,P=new Zt.LabelView(s);P.text=m("Background");const M=Et({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor,colorPickerConfig:this.options.colorPickerConfig}),G=new Zt.LabeledFieldView(s,M);return G.set({label:m("Color"),class:"ck-table-properties-form__background"}),G.fieldView.bind("value").to(this,"backgroundColor"),G.fieldView.on("input",()=>{this.backgroundColor=G.fieldView.value}),{backgroundRowLabel:P,backgroundInput:G}}_createDimensionFields(){const s=this.locale,m=this.t,P=new Zt.LabelView(s);P.text=m("Dimensions");const M=new Zt.LabeledFieldView(s,Zt.createLabeledInputText);M.set({label:m("Width"),class:"ck-table-form__dimensions-row__width"}),M.fieldView.bind("value").to(this,"width"),M.fieldView.on("input",()=>{this.width=M.fieldView.element.value});const G=new Zt.View(s);G.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xD7"}]});const ne=new Zt.LabeledFieldView(s,Zt.createLabeledInputText);return ne.set({label:m("Height"),class:"ck-table-form__dimensions-row__height"}),ne.fieldView.bind("value").to(this,"height"),ne.fieldView.on("input",()=>{this.height=ne.fieldView.element.value}),{dimensionsLabel:P,widthInput:M,operatorLabel:G,heightInput:ne}}_createAlignmentFields(){const s=this.locale,m=this.t,P=new Zt.LabelView(s);P.text=m("Alignment");const M=new Zt.ToolbarView(s);return M.set({isCompact:!0,ariaLabel:m("Table alignment toolbar")}),et({view:this,icons:no,toolbar:M,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:P,alignmentToolbar:M}}_createActionButtons(){const s=this.locale,m=this.t,P=new Zt.ButtonView(s),M=new Zt.ButtonView(s),G=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return P.set({label:m("Save"),icon:w.icons.check,class:"ck-button-save",type:"submit",withText:!0}),P.bind("isEnabled").toMany(G,"errorText",(...ne)=>ne.every(we=>!we)),M.set({label:m("Cancel"),icon:w.icons.cancel,class:"ck-button-cancel",withText:!0}),M.delegate("execute").to(this,"cancel"),{saveButtonView:P,cancelButtonView:M}}get _alignmentLabels(){const s=this.locale,m=this.t,P=m("Align table to the left"),M=m("Center table"),G=m("Align table to the right");return s.uiLanguageDirection==="rtl"?{right:G,center:M,left:P}:{left:P,center:M,right:G}}}function Vr(O){return O!=="none"}const fo={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class Hr extends w.Plugin{static get requires(){return[Zt.ContextualBalloon]}static get pluginName(){return"TablePropertiesUI"}constructor(s){super(s),this.view=null,s.config.define("table.tableProperties",{borderColors:Xe,backgroundColors:Xe})}init(){const s=this.editor,m=s.t;this._defaultTableProperties=Ir(s.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=s.plugins.get(Zt.ContextualBalloon),s.ui.componentFactory.add("tableProperties",P=>{const M=new Zt.ButtonView(P);M.set({label:m("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(M,"execute",()=>this._showView());const G=Object.values(fo).map(ne=>s.commands.get(ne));return M.bind("isEnabled").toMany(G,"isEnabled",(...ne)=>ne.some(we=>we)),M})}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const s=this.editor,m=s.config.get("table.tableProperties"),P=(0,Zt.normalizeColorOptions)(m.borderColors),M=(0,Zt.getLocalizedColorOptions)(s.locale,P),G=(0,Zt.normalizeColorOptions)(m.backgroundColors),ne=(0,Zt.getLocalizedColorOptions)(s.locale,G),we=m.colorPicker!==!1,fe=new Bt(s.locale,{borderColors:M,backgroundColors:ne,defaultTableProperties:this._defaultTableProperties,colorPickerConfig:!!we&&(m.colorPicker||{})}),Pe=s.t;fe.render(),this.listenTo(fe,"submit",()=>{this._hideView()}),this.listenTo(fe,"cancel",()=>{this._undoStepBatch.operations.length&&s.execute("undo",this._undoStepBatch),this._hideView()}),fe.keystrokes.set("Esc",(wt,Nt)=>{this._hideView(),Nt()}),(0,Zt.clickOutsideHandler)({emitter:fe,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const He=or(Pe),ct=Ht(Pe);return fe.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),fe.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:fe.borderColorInput,commandName:"tableBorderColor",errorText:He,validator:K})),fe.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:fe.borderWidthInput,commandName:"tableBorderWidth",errorText:ct,validator:Ue})),fe.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:fe.backgroundInput,commandName:"tableBackgroundColor",errorText:He,validator:K})),fe.on("change:width",this._getValidatedPropertyChangeCallback({viewField:fe.widthInput,commandName:"tableWidth",errorText:ct,validator:Ae})),fe.on("change:height",this._getValidatedPropertyChangeCallback({viewField:fe.heightInput,commandName:"tableHeight",errorText:ct,validator:Ae})),fe.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),fe}_fillViewFormFromCommandValues(){const s=this.editor.commands,m=s.get("tableBorderStyle");Object.entries(fo).map(([P,M])=>{const G=P,ne=this._defaultTableProperties[G]||"";return[G,s.get(M).value||ne]}).forEach(([P,M])=>{(P!=="borderColor"&&P!=="borderWidth"||m.value!=="none")&&this.view.set(P,M)}),this._isReady=!0}_showView(){const s=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(s.ui,"update",()=>{this._updateView()}),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:$r(s)}),this._undoStepBatch=s.model.createBatch(),this.view.focus()}_hideView(){const s=this.editor;this.stopListening(s.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const s=this.editor;rn(s.editing.view.document.selection)?this._isViewVisible&&pr(s,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(s){return(m,P,M)=>{this._isReady&&this.editor.execute(s,{value:M,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(s){const{commandName:m,viewField:P,validator:M,errorText:G}=s,ne=sn(()=>{P.errorText=G},500);return(we,fe,Pe)=>{ne.cancel(),this._isReady&&(M(Pe)?(this.editor.execute(m,{value:Pe,batch:this._undoStepBatch}),P.errorText=null):ne())}}}class bo extends w.Plugin{static get pluginName(){return"TableProperties"}static get requires(){return[nn,Hr]}}function wo(O){O.document.registerPostFixer(s=>function(m,P){const M=P.document.differ.getChanges();let G=!1;for(const ne of M){if(ne.type!="insert")continue;const we=ne.position.parent;if(we.is("element","table")||ne.name=="table"){const fe=ne.name=="table"?ne.position.nodeAfter:we,Pe=Array.from(fe.getChildren()).filter(ct=>ct.is("element","caption")),He=Pe.shift();if(!He)continue;for(const ct of Pe)m.move(m.createRangeIn(ct),He,"end"),m.remove(ct);He.nextSibling&&(m.move(m.createRangeOn(He),fe,"end"),G=!0),G=!!Pe.length||G}}return G}(s,O))}function ro(O){return!!O&&O.is("element","table")}function Ar(O){for(const s of O.getChildren())if(s.is("element","caption"))return s;return null}function Po(O){const s=O.parent;return O.name=="figcaption"&&s&&s.is("element","figure")&&s.hasClass("table")||O.name=="caption"&&s&&s.is("element","table")?{name:!0}:null}class oo extends w.Command{refresh(){const s=ee(this.editor.model.document.selection);this.isEnabled=!!s,this.isEnabled?this.value=!!Ar(s):this.value=!1}execute({focusCaptionOnShow:s=!1}={}){this.editor.model.change(m=>{this.value?this._hideTableCaption(m):this._showTableCaption(m,s)})}_showTableCaption(s,m){const P=this.editor.model,M=ee(P.document.selection),G=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(M)||s.createElement("caption");P.insertContent(G,M,"end"),m&&s.setSelection(G,"in")}_hideTableCaption(s){const m=this.editor.model,P=ee(m.document.selection),M=this.editor.plugins.get("TableCaptionEditing"),G=Ar(P);M._saveCaption(P,G),m.deleteContent(s.createSelection(G,"on"))}}class so extends w.Plugin{static get pluginName(){return"TableCaptionEditing"}constructor(s){super(s),this._savedCaptionsMap=new WeakMap}init(){const s=this.editor,m=s.model.schema,P=s.editing.view,M=s.t;m.isRegistered("caption")?m.extend("caption",{allowIn:"table"}):m.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),s.commands.add("toggleTableCaption",new oo(this.editor)),s.conversion.for("upcast").elementToElement({view:Po,model:"caption"}),s.conversion.for("dataDowncast").elementToElement({model:"caption",view:(G,{writer:ne})=>ro(G.parent)?ne.createContainerElement("figcaption"):null}),s.conversion.for("editingDowncast").elementToElement({model:"caption",view:(G,{writer:ne})=>{if(!ro(G.parent))return null;const we=ne.createEditableElement("figcaption");return ne.setCustomProperty("tableCaption",!0,we),we.placeholder=M("Enter table caption"),(0,Ke.enablePlaceholder)({view:P,element:we,keepOnFocus:!0}),(0,C.toWidgetEditable)(we,ne)}}),wo(s.model)}_getSavedCaption(s){const m=this._savedCaptionsMap.get(s);return m?Ke.Element.fromJSON(m):null}_saveCaption(s,m){this._savedCaptionsMap.set(s,m.toJSON())}}class me extends w.Plugin{static get pluginName(){return"TableCaptionUI"}init(){const s=this.editor,m=s.editing.view,P=s.t;s.ui.componentFactory.add("toggleTableCaption",M=>{const G=s.commands.get("toggleTableCaption"),ne=new Zt.ButtonView(M);return ne.set({icon:w.icons.caption,tooltip:!0,isToggleable:!0}),ne.bind("isOn","isEnabled").to(G,"value","isEnabled"),ne.bind("label").to(G,"value",we=>P(we?"Toggle caption off":"Toggle caption on")),this.listenTo(ne,"execute",()=>{if(s.execute("toggleTableCaption",{focusCaptionOnShow:!0}),G.value){const we=function(Pe){const He=ee(Pe);return He?Ar(He):null}(s.model.document.selection),fe=s.editing.mapper.toViewElement(we);if(!fe)return;m.scrollToTheSelection(),m.change(Pe=>{Pe.addClass("table__caption_highlighted",fe)})}s.editing.view.focus()}),ne})}}var ge=R(966),qe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(ge.Z,qe),ge.Z.locals;class Tt extends w.Plugin{static get pluginName(){return"TableCaption"}static get requires(){return[so,me]}}const li=function(){this.__data__=[],this.size=0},_i=function(O,s){return O===s||O!=O&&s!=s},Ai=function(O,s){for(var m=O.length;m--;)if(_i(O[m][0],s))return m;return-1};var Ei=Array.prototype.splice;const Yi=function(O){var s=this.__data__,m=Ai(s,O);return!(m<0)&&(m==s.length-1?s.pop():Ei.call(s,m,1),--this.size,!0)},qi=function(O){var s=this.__data__,m=Ai(s,O);return m<0?void 0:s[m][1]},ar=function(O){return Ai(this.__data__,O)>-1},Zn=function(O,s){var m=this.__data__,P=Ai(m,O);return P<0?(++this.size,m.push([O,s])):m[P][1]=s,this};function cn(O){var s=-1,m=O==null?0:O.length;for(this.clear();++s<m;){var P=O[s];this.set(P[0],P[1])}}cn.prototype.clear=li,cn.prototype.delete=Yi,cn.prototype.get=qi,cn.prototype.has=ar,cn.prototype.set=Zn;const lr=cn,Lr=function(){this.__data__=new lr,this.size=0},er=function(O){var s=this.__data__,m=s.delete(O);return this.size=s.size,m},vn=function(O){return this.__data__.get(O)},tr=function(O){return this.__data__.has(O)},An=function(O){if(!Rn(O))return!1;var s=Ye(O);return s=="[object Function]"||s=="[object GeneratorFunction]"||s=="[object AsyncFunction]"||s=="[object Proxy]"},Gn=Nn["__core-js_shared__"];var kr,ko=(kr=/[^.]+$/.exec(Gn&&Gn.keys&&Gn.keys.IE_PROTO||""))?"Symbol(src)_1."+kr:"";const Lo=function(O){return!!ko&&ko in O};var Oo=Function.prototype.toString;const mr=function(O){if(O!=null){try{return Oo.call(O)}catch{}try{return O+""}catch{}}return""};var vo=/^\[object .+?Constructor\]$/,Mo=Function.prototype,Ui=Object.prototype,fn=Mo.toString,Xi=Ui.hasOwnProperty,ir=RegExp("^"+fn.call(Xi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Or=function(O){return!(!Rn(O)||Lo(O))&&(An(O)?ir:vo).test(mr(O))},Er=function(O,s){return O?.[s]},Bn=function(O,s){var m=Er(O,s);return Or(m)?m:void 0},$n=Bn(Nn,"Map"),_n=Bn(Object,"create"),vr=function(){this.__data__=_n?_n(null):{},this.size=0},nr=function(O){var s=this.has(O)&&delete this.__data__[O];return this.size-=s?1:0,s};var Tn=Object.prototype.hasOwnProperty;const Dn=function(O){var s=this.__data__;if(_n){var m=s[O];return m==="__lodash_hash_undefined__"?void 0:m}return Tn.call(s,O)?s[O]:void 0};var Ur=Object.prototype.hasOwnProperty;const Yo=function(O){var s=this.__data__;return _n?s[O]!==void 0:Ur.call(s,O)},Qo=function(O,s){var m=this.__data__;return this.size+=this.has(O)?0:1,m[O]=_n&&s===void 0?"__lodash_hash_undefined__":s,this};function ao(O){var s=-1,m=O==null?0:O.length;for(this.clear();++s<m;){var P=O[s];this.set(P[0],P[1])}}ao.prototype.clear=vr,ao.prototype.delete=nr,ao.prototype.get=Dn,ao.prototype.has=Yo,ao.prototype.set=Qo;const Ro=ao,Fo=function(){this.size=0,this.__data__={hash:new Ro,map:new($n||lr),string:new Ro}},Ho=function(O){var s=typeof O;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?O!=="__proto__":O===null},lo=function(O,s){var m=O.__data__;return Ho(s)?m[typeof s=="string"?"string":"hash"]:m.map},Uo=function(O){var s=lo(this,O).delete(O);return this.size-=s?1:0,s},Wo=function(O){return lo(this,O).get(O)},ms=function(O){return lo(this,O).has(O)},jo=function(O,s){var m=lo(this,O),P=m.size;return m.set(O,s),this.size+=m.size==P?0:1,this};function Nr(O){var s=-1,m=O==null?0:O.length;for(this.clear();++s<m;){var P=O[s];this.set(P[0],P[1])}}Nr.prototype.clear=Fo,Nr.prototype.delete=Uo,Nr.prototype.get=Wo,Nr.prototype.has=ms,Nr.prototype.set=jo;const Zo=Nr,gs=function(O,s){var m=this.__data__;if(m instanceof lr){var P=m.__data__;if(!$n||P.length<199)return P.push([O,s]),this.size=++m.size,this;m=this.__data__=new Zo(P)}return m.set(O,s),this.size=m.size,this};function Mr(O){var s=this.__data__=new lr(O);this.size=s.size}Mr.prototype.clear=Lr,Mr.prototype.delete=er,Mr.prototype.get=vn,Mr.prototype.has=tr,Mr.prototype.set=gs;const co=Mr,Jo=function(O){return this.__data__.set(O,"__lodash_hash_undefined__"),this},ps=function(O){return this.__data__.has(O)};function Sr(O){var s=-1,m=O==null?0:O.length;for(this.__data__=new Zo;++s<m;)this.add(O[s])}Sr.prototype.add=Sr.prototype.push=Jo,Sr.prototype.has=ps;const Xo=Sr,fs=function(O,s){for(var m=-1,P=O==null?0:O.length;++m<P;)if(s(O[m],m,O))return!0;return!1},bs=function(O,s){return O.has(s)},$o=function(O,s,m,P,M,G){var ne=1&m,we=O.length,fe=s.length;if(we!=fe&&!(ne&&fe>we))return!1;var Pe=G.get(O),He=G.get(s);if(Pe&&He)return Pe==s&&He==O;var ct=-1,wt=!0,Nt=2&m?new Xo:void 0;for(G.set(O,s),G.set(s,O);++ct<we;){var Kt=O[ct],$t=s[ct];if(P)var ei=ne?P($t,Kt,ct,s,O,G):P(Kt,$t,ct,O,s,G);if(ei!==void 0){if(ei)continue;wt=!1;break}if(Nt){if(!fs(s,function(pi,xi){if(!bs(Nt,xi)&&(Kt===pi||M(Kt,pi,m,P,G)))return Nt.push(xi)})){wt=!1;break}}else if(Kt!==$t&&!M(Kt,$t,m,P,G)){wt=!1;break}}return G.delete(O),G.delete(s),wt},es=Nn.Uint8Array,ws=function(O){var s=-1,m=Array(O.size);return O.forEach(function(P,M){m[++s]=[M,P]}),m},ts=function(O){var s=-1,m=Array(O.size);return O.forEach(function(P){m[++s]=P}),m};var is=I?I.prototype:void 0,qo=is?is.valueOf:void 0;const Gr=function(O,s,m,P,M,G,ne){switch(m){case"[object DataView]":if(O.byteLength!=s.byteLength||O.byteOffset!=s.byteOffset)return!1;O=O.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(O.byteLength!=s.byteLength||!G(new es(O),new es(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _i(+O,+s);case"[object Error]":return O.name==s.name&&O.message==s.message;case"[object RegExp]":case"[object String]":return O==s+"";case"[object Map]":var we=ws;case"[object Set]":var fe=1&P;if(we||(we=ts),O.size!=s.size&&!fe)return!1;var Pe=ne.get(O);if(Pe)return Pe==s;P|=2,ne.set(O,s);var He=$o(we(O),we(s),P,M,G,ne);return ne.delete(O),He;case"[object Symbol]":if(qo)return qo.call(O)==qo.call(s)}return!1},ks=function(O,s){for(var m=-1,P=s.length,M=O.length;++m<P;)O[M+m]=s[m];return O},_o=Array.isArray,ns=function(O,s,m){var P=s(O);return _o(O)?P:ks(P,m(O))},rs=function(O,s){for(var m=-1,P=O==null?0:O.length,M=0,G=[];++m<P;){var ne=O[m];s(ne,m,O)&&(G[M++]=ne)}return G},vs=function(){return[]};var _s=Object.prototype.propertyIsEnumerable,Ko=Object.getOwnPropertySymbols;const ys=Ko?function(O){return O==null?[]:(O=Object(O),rs(Ko(O),function(s){return _s.call(O,s)}))}:vs,U=function(O,s){for(var m=-1,P=Array(O);++m<O;)P[m]=s(m);return P},o=function(O){return pt(O)&&Ye(O)=="[object Arguments]"};var b=Object.prototype,F=b.hasOwnProperty,le=b.propertyIsEnumerable;const Me=o(function(){return arguments}())?o:function(O){return pt(O)&&F.call(O,"callee")&&!le.call(O,"callee")},Fe=function(){return!1};var it=It&&!It.nodeType&&It,Mt=it&&!0&&Qt&&!Qt.nodeType&&Qt,fi=Mt&&Mt.exports===it?Nn.Buffer:void 0;const zi=(fi?fi.isBuffer:void 0)||Fe;var bn=/^(?:0|[1-9]\d*)$/;const Yr=function(O,s){var m=typeof O;return!!(s=s??9007199254740991)&&(m=="number"||m!="symbol"&&bn.test(O))&&O>-1&&O%1==0&&O<s},yo=function(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=9007199254740991};var gn={};gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Arguments]"]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object Boolean]"]=gn["[object DataView]"]=gn["[object Date]"]=gn["[object Error]"]=gn["[object Function]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object WeakMap]"]=!1;const Go=function(O){return pt(O)&&yo(O.length)&&!!gn[Ye(O)]},Rs=function(O){return function(s){return O(s)}};var dn=It&&!It.nodeType&&It,On=dn&&!0&&Qt&&!Qt.nodeType&&Qt,pn=On&&On.exports===dn&&hr.process,Sn=function(){try{var O=On&&On.require&&On.require("util").types;return O||pn&&pn.binding&&pn.binding("util")}catch{}}(),cr=Sn&&Sn.isTypedArray;const xs=cr?Rs(cr):Go;var jn=Object.prototype.hasOwnProperty;const Hn=function(O,s){var m=_o(O),P=!m&&Me(O),M=!m&&!P&&zi(O),G=!m&&!P&&!M&&xs(O),ne=m||P||M||G,we=ne?U(O.length,String):[],fe=we.length;for(var Pe in O)!s&&!jn.call(O,Pe)||ne&&(Pe=="length"||M&&(Pe=="offset"||Pe=="parent")||G&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||Yr(Pe,fe))||we.push(Pe);return we};var gr=Object.prototype;const Wr=function(O){var s=O&&O.constructor;return O===(typeof s=="function"&&s.prototype||gr)},Br=function(O,s){return function(m){return O(s(m))}}(Object.keys,Object);var Rr=Object.prototype.hasOwnProperty;const js=function(O){if(!Wr(O))return Br(O);var s=[];for(var m in Object(O))Rr.call(O,m)&&m!="constructor"&&s.push(m);return s},Cs=function(O){return O!=null&&yo(O.length)&&!An(O)},un=function(O){return Cs(O)?Hn(O):js(O)},Vs=function(O){return ns(O,un,ys)};var Ns=Object.prototype.hasOwnProperty;const Gs=function(O,s,m,P,M,G){var ne=1&m,we=Vs(O),fe=we.length;if(fe!=Vs(s).length&&!ne)return!1;for(var Pe=fe;Pe--;){var He=we[Pe];if(!(ne?He in s:Ns.call(s,He)))return!1}var ct=G.get(O),wt=G.get(s);if(ct&&wt)return ct==s&&wt==O;var Nt=!0;G.set(O,s),G.set(s,O);for(var Kt=ne;++Pe<fe;){var $t=O[He=we[Pe]],ei=s[He];if(P)var pi=ne?P(ei,$t,He,s,O,G):P($t,ei,He,O,s,G);if(!(pi===void 0?$t===ei||M($t,ei,m,P,G):pi)){Nt=!1;break}Kt||(Kt=He=="constructor")}if(Nt&&!Kt){var xi=O.constructor,Bi=s.constructor;xi==Bi||!("constructor"in O)||!("constructor"in s)||typeof xi=="function"&&xi instanceof xi&&typeof Bi=="function"&&Bi instanceof Bi||(Nt=!1)}return G.delete(O),G.delete(s),Nt},Ts=Bn(Nn,"DataView"),os=Bn(Nn,"Promise"),ss=Bn(Nn,"Set"),as=Bn(Nn,"WeakMap");var As="[object Map]",xo="[object Promise]",dr="[object Set]",Bs="[object WeakMap]",Ds="[object DataView]",Vo=mr(Ts),Ys=mr($n),Qs=mr(os),Js=mr(ss),zs=mr(as),Co=Ye;(Ts&&Co(new Ts(new ArrayBuffer(1)))!=Ds||$n&&Co(new $n)!=As||os&&Co(os.resolve())!=xo||ss&&Co(new ss)!=dr||as&&Co(new as)!=Bs)&&(Co=function(O){var s=Ye(O),m=s=="[object Object]"?O.constructor:void 0,P=m?mr(m):"";if(P)switch(P){case Vo:return Ds;case Ys:return As;case Qs:return xo;case Js:return dr;case zs:return Bs}return s});const Fs=Co;var Es="[object Arguments]",Ss="[object Array]",ls="[object Object]",Is=Object.prototype.hasOwnProperty;const Xs=function(O,s,m,P,M,G){var ne=_o(O),we=_o(s),fe=ne?Ss:Fs(O),Pe=we?Ss:Fs(s),He=(fe=fe==Es?ls:fe)==ls,ct=(Pe=Pe==Es?ls:Pe)==ls,wt=fe==Pe;if(wt&&zi(O)){if(!zi(s))return!1;ne=!0,He=!1}if(wt&&!He)return G||(G=new co),ne||xs(O)?$o(O,s,m,P,M,G):Gr(O,s,fe,m,P,M,G);if(!(1&m)){var Nt=He&&Is.call(O,"__wrapped__"),Kt=ct&&Is.call(s,"__wrapped__");if(Nt||Kt){var $t=Nt?O.value():O,ei=Kt?s.value():s;return G||(G=new co),M($t,ei,m,P,G)}}return!!wt&&(G||(G=new co),Gs(O,s,m,P,M,G))},ea=function O(s,m,P,M,G){return s===m||(s==null||m==null||!pt(s)&&!pt(m)?s!=s&&m!=m:Xs(s,m,P,M,O,G))},Ps=function(O,s){return ea(O,s)},cs=function(O,s,m){var P=!0,M=!0;if(typeof O!="function")throw new TypeError("Expected a function");return Rn(m)&&(P="leading"in m?!!m.leading:P,M="trailing"in m?!!m.trailing:M),sn(O,s,{leading:P,maxWait:s,trailing:M})};class ta extends w.Command{refresh(){this.isEnabled=!0}execute(s={}){const{model:m,plugins:P}=this.editor;let{table:M=m.document.selection.getSelectedElement(),columnWidths:G,tableWidth:ne}=s;G&&(G=Array.isArray(G)?G:G.split(",")),m.change(we=>{ne?we.setAttribute("tableWidth",ne,M):we.removeAttribute("tableWidth",M);const fe=P.get("TableColumnResizeEditing").getColumnGroupElement(M);if(!G&&!fe)return;if(!G)return we.remove(fe);const Pe=Ft(G);if(fe)Array.from(fe.getChildren()).forEach((He,ct)=>we.setAttribute("columnWidth",Pe[ct],He));else{const He=we.createElement("tableColumnGroup");Pe.forEach(ct=>we.appendElement("tableColumn",{columnWidth:ct},He)),we.append(He,M)}})}}function ia(O){return s=>s.on("element:colgroup",(m,P,M)=>{const G=P.modelCursor.findAncestor("table"),ne=Vt(G);if(!ne)return;const we=ti(ne),fe=O.getColumns(G);let Pe=(He=ne,ct=M.writer,ti(He).reduce((wt,Nt)=>{const Kt=Nt.getAttribute("columnWidth"),$t=Nt.getAttribute("colSpan");if(!$t)return wt.push(Kt),wt;for(let ei=0;ei<$t;ei++)wt.push(Kt);return ct.removeAttribute("colSpan",Nt),wt},[]));var He,ct;Pe=Array.from({length:fe},(wt,Nt)=>Pe[Nt]||"auto"),(Pe.length!=we.length||Pe.includes("auto"))&&ui(we,ne,Ft(Pe),M.writer)},{priority:"low"})}class Hs extends w.Plugin{static get requires(){return[Mi,hi]}static get pluginName(){return"TableColumnResizeEditing"}constructor(s){super(s),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new((0,re.DomEmitterMixin)()),this._tableUtilsPlugin=s.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",(m,P,M)=>{const G=M?"removeClass":"addClass";s.editing.view.change(ne=>{for(const we of s.editing.view.document.roots)ne[G]("ck-column-resize_disabled",s.editing.view.document.getRoot(we.rootName))})})}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const s=this.editor,m=s.plugins.get("TableColumnResize");s.plugins.get("TableEditing").registerAdditionalSlot({filter:M=>M.is("element","tableColumnGroup"),positionOffset:0});const P=new ta(s);s.commands.add("resizeTableWidth",P),s.commands.add("resizeColumnWidths",P),this.bind("_isResizingAllowed").to(s,"isReadOnly",m,"isEnabled",P,"isEnabled",(M,G,ne)=>!M&&G&&ne)}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(s){return Vt(s)}getTableColumnElements(s){return ti(s)}getTableColumnsWidths(s){return function(m){return ti(m).map(P=>P.getAttribute("columnWidth"))}(s)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth","colSpan"],isLimit:!0})}_registerPostFixer(){const s=this.editor.model;function m(P,M,G){const ne=G._tableUtilsPlugin.getColumns(M);if(ne-P.length===0)return P;const we=P.map(He=>Number(He.replace("%",""))),fe=function(He,ct){const wt=new Set;for(const Nt of He.getChanges())if(Nt.type=="insert"&&Nt.position.nodeAfter&&Nt.position.nodeAfter.name=="tableCell"&&Nt.position.nodeAfter.getAncestors().includes(ct))wt.add(Nt.position.nodeAfter);else if(Nt.type=="remove"){const Kt=Nt.position.nodeBefore||Nt.position.nodeAfter;Kt.name=="tableCell"&&Kt.getAncestors().includes(ct)&&wt.add(Kt)}return wt}(G.editor.model.document.differ,M);for(const He of fe){const ct=ne-we.length;if(ct===0)continue;const wt=ct>0,Nt=G._tableUtilsPlugin.getCellLocation(He).column;if(wt){const Kt=Oe(M,G.editor),$t=(Pe=Kt,Array(ct).fill(Pe));we.splice(Nt,0,...$t)}else{const Kt=we.splice(Nt,Math.abs(ct));we[Nt]+=Pt(Kt)}}var Pe;return we.map(He=>He+"%")}s.document.registerPostFixer(P=>{let M=!1;for(const G of function(ne){const we=new Set;for(const fe of ne.document.differ.getChanges()){let Pe=null;switch(fe.type){case"insert":Pe=["table","tableRow","tableCell"].includes(fe.name)?fe.position:null;break;case"remove":Pe=["tableRow","tableCell"].includes(fe.name)?fe.position:null;break;case"attribute":fe.range.start.nodeAfter&&(Pe=["table","tableRow","tableCell"].includes(fe.range.start.nodeAfter.name)?fe.range.start:null)}if(!Pe)continue;const He=Pe.nodeAfter&&Pe.nodeAfter.is("element","table")?Pe.nodeAfter:Pe.findAncestor("table");for(const ct of ne.createRangeOn(He).getItems())ct.is("element","table")&&Vt(ct)&&we.add(ct)}return we}(s)){const ne=this.getColumnGroupElement(G),we=this.getTableColumnElements(ne),fe=this.getTableColumnsWidths(ne);let Pe=Ft(fe);Pe=m(Pe,G,this),Ps(fe,Pe)||(ui(we,ne,Pe,P),M=!0)}return M})}_registerConverters(){const s=this.editor.conversion;s.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:m=>m.getStyle("width")}}),s.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:m=>({name:"figure",key:"style",value:{width:m}})}),s.elementToElement({model:"tableColumnGroup",view:"colgroup"}),s.elementToElement({model:"tableColumn",view:"col"}),s.for("downcast").add(m=>m.on("insert:table",(P,M,G)=>{const ne=G.writer,we=M.item,fe=G.mapper.toViewElement(we),Pe=fe.is("element","table")?fe:Array.from(fe.getChildren()).find(He=>He.is("element","table"));Vt(we)?ne.addClass("ck-table-resized",Pe):ne.removeClass("ck-table-resized",Pe)},{priority:"low"})),s.for("upcast").add(ia(this._tableUtilsPlugin)),s.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:m=>{const P=m.getStyle("width");return P&&(P.endsWith("%")||P.endsWith("pt"))?P:"auto"}}}),s.for("upcast").attributeToAttribute({view:{name:"col",key:"span"},model:"colSpan"}),s.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:m=>({key:"style",value:{width:m}})})}_registerResizingListeners(){const s=this.editor.editing.view;s.addObserver(yt),s.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(re.global.window.document,"mousemove",cs(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(re.global.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(s,m){const P=m.target;if(!P.hasClass("ck-table-column-resizer")||!this._isResizingAllowed)return;const M=this.editor,G=M.editing.mapper.toModelElement(P.findAncestor("figure"));if(!M.model.canEditAt(G))return;m.preventDefault(),s.stop();const ne=function(Pe,He,ct){const wt=Array(He.getColumns(Pe)),Nt=new p(Pe);for(const Kt of Nt){const $t=ct.editing.mapper.toViewElement(Kt.cell),ei=Gt(ct.editing.view.domConverter.mapViewToDom($t));(!wt[Kt.column]||ei<wt[Kt.column])&&(wt[Kt.column]=st(ei))}return wt}(G,this._tableUtilsPlugin,M),we=P.findAncestor("table"),fe=M.editing.view;Array.from(we.getChildren()).find(Pe=>Pe.is("element","colgroup"))||fe.change(Pe=>{(function(He,ct,wt){const Nt=He.createContainerElement("colgroup");for(let Kt=0;Kt<ct.length;Kt++){const $t=He.createEmptyElement("col"),ei=`${st(ct[Kt]/Pt(ct)*100)}%`;He.setStyle("width",ei,$t),He.insert(He.createPositionAt(Nt,"end"),$t)}He.insert(He.createPositionAt(wt,0),Nt)})(Pe,ne,we)}),this._isResizingActive=!0,this._resizingData=this._getResizingData(m,ne),fe.change(Pe=>function(He,ct,wt){const Nt=wt.widths.viewFigureWidth/wt.widths.viewFigureParentWidth;He.addClass("ck-table-resized",ct),He.addClass("ck-table-column-resizer__active",wt.elements.viewResizer),He.setStyle("width",`${st(100*Nt)}%`,ct.findAncestor("figure"))}(Pe,we,this._resizingData))}_onMouseMoveHandler(s,m){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:P,flags:{isRightEdge:M,isTableCentered:G,isLtrContent:ne},elements:{viewFigure:we,viewLeftColumn:fe,viewRightColumn:Pe},widths:{viewFigureParentWidth:He,tableWidth:ct,leftColumnWidth:wt,rightColumnWidth:Nt}}=this._resizingData,Kt=40-wt,$t=M?He-ct:Nt-40,ei=(ne?1:-1)*(M&&G?2:1),pi=(xi=(m.clientX-P)*ei,Bi=Math.min(Kt,0),en=Math.max($t,0),st(xi<=Bi?Bi:xi>=en?en:xi));var xi,Bi,en;pi!==0&&this.editor.editing.view.change(Vn=>{const Un=st(100*(wt+pi)/ct);if(Vn.setStyle("width",`${Un}%`,fe),M){const yn=st(100*(ct+pi)/He);Vn.setStyle("width",`${yn}%`,we)}else{const yn=st(100*(Nt-pi)/ct);Vn.setStyle("width",`${yn}%`,Pe)}})}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:s,modelTable:m,viewFigure:P,viewColgroup:M}=this._resizingData.elements,G=this.editor,ne=G.editing.view,we=this.getColumnGroupElement(m),fe=Array.from(M.getChildren()).filter($t=>$t.is("view:element")),Pe=we?this.getTableColumnsWidths(we):null,He=fe.map($t=>$t.getStyle("width")),ct=!Ps(Pe,He),wt=m.getAttribute("tableWidth"),Nt=P.getStyle("width"),Kt=wt!==Nt;(ct||Kt)&&(this._isResizingAllowed?G.execute("resizeTableWidth",{table:m,tableWidth:`${st(Nt)}%`,columnWidths:He}):ne.change($t=>{if(Pe)for(const ei of fe)$t.setStyle("width",Pe.shift(),ei);else $t.remove(M);Kt&&(wt?$t.setStyle("width",wt,P):$t.removeStyle("width",P)),Pe||wt||$t.removeClass("ck-table-resized",[...P.getChildren()].find(ei=>ei.name==="table"))})),ne.change($t=>{$t.removeClass("ck-table-column-resizer__active",s)}),this._isResizingActive=!1,this._resizingData=null}_getResizingData(s,m){const P=this.editor,M=s.domEvent.clientX,G=s.target,ne=G.findAncestor("td")||G.findAncestor("th"),we=P.editing.mapper.toModelElement(ne),fe=we.findAncestor("table"),Pe=function(xi,Bi){const en=Bi.getCellLocation(xi).column;return{leftEdge:en,rightEdge:en+(xi.getAttribute("colspan")||1)-1}}(we,this._tableUtilsPlugin).rightEdge,He=Pe===this._tableUtilsPlugin.getColumns(fe)-1,ct=!fe.hasAttribute("tableAlignment"),wt=P.locale.contentLanguageDirection!=="rtl",Nt=ne.findAncestor("table"),Kt=Nt.findAncestor("figure"),$t=[...Nt.getChildren()].find(xi=>xi.is("element","colgroup")),ei=$t.getChild(Pe),pi=He?void 0:$t.getChild(Pe+1);return{columnPosition:M,flags:{isRightEdge:He,isTableCentered:ct,isLtrContent:wt},elements:{viewResizer:G,modelTable:fe,viewFigure:Kt,viewColgroup:$t,viewLeftColumn:ei,viewRightColumn:pi},widths:{viewFigureParentWidth:tt(P.editing.view.domConverter.mapViewToDom(Kt.parent)),viewFigureWidth:tt(P.editing.view.domConverter.mapViewToDom(Kt)),tableWidth:Je(fe,P),leftColumnWidth:m[Pe],rightColumnWidth:He?void 0:m[Pe+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add(s=>{s.on("insert:tableCell",(m,P,M)=>{const G=P.item,ne=M.mapper.toViewElement(G),we=M.writer;we.insert(we.createPositionAt(ne,"end"),we.createUIElement("div",{class:"ck-table-column-resizer"}))},{priority:"lowest"})})}}var Ls=R(387),na={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};yi()(Ls.Z,na),Ls.Z.locals;class ra extends w.Plugin{static get requires(){return[Hs,eo]}static get pluginName(){return"TableColumnResize"}}})(),(window.CKEditor5=window.CKEditor5||{}).table=E})()},53832:(Qt,It,te)=>{(function(zt){const g=zt.en=zt.en||{};g.dictionary=Object.assign(g.dictionary||{},{"Characters: %0":"Characters: %0","Words: %0":"Words: %0"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var zt={704:(w,C,l)=>{w.exports=l(79)("./src/core.js")},273:(w,C,l)=>{w.exports=l(79)("./src/ui.js")},209:(w,C,l)=>{w.exports=l(79)("./src/utils.js")},79:w=>{"use strict";w.exports=CKEditor5.dll}},g={};function R(w){var C=g[w];if(C!==void 0)return C.exports;var l=g[w]={exports:{}};return zt[w](l,l.exports,R),l.exports}R.d=(w,C)=>{for(var l in C)R.o(C,l)&&!R.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:C[l]})},R.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),R.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var E={};(()=>{"use strict";R.r(E),R.d(E,{WordCount:()=>Te});var w=R(704),C=R(273),l=R(209);function c(Q){if(Q.is("$text")||Q.is("$textProxy"))return Q.data;const xe=Q;let Oe="",Je=null;for(const $e of xe.getChildren()){const tt=c($e);Je&&Je.is("element")&&(Oe+=`
`),Oe+=tt,Je=$e}return Oe}const L=function(Q){var xe=typeof Q;return Q!=null&&(xe=="object"||xe=="function")},B=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g;var y=typeof self=="object"&&self&&self.Object===Object&&self;const h=B||y||Function("return this")(),V=function(){return h.Date.now()};var q=/\s/;const Y=function(Q){for(var xe=Q.length;xe--&&q.test(Q.charAt(xe)););return xe};var ee=/^\s+/;const re=function(Q){return Q&&Q.slice(0,Y(Q)+1).replace(ee,"")},ie=h.Symbol;var u=Object.prototype,_=u.hasOwnProperty,p=u.toString,v=ie?ie.toStringTag:void 0;const A=function(Q){var xe=_.call(Q,v),Oe=Q[v];try{Q[v]=void 0;var Je=!0}catch{}var $e=p.call(Q);return Je&&(xe?Q[v]=Oe:delete Q[v]),$e};var T=Object.prototype.toString;const S=function(Q){return T.call(Q)};var ae=ie?ie.toStringTag:void 0;const $=function(Q){return Q==null?Q===void 0?"[object Undefined]":"[object Null]":ae&&ae in Object(Q)?A(Q):S(Q)},z=function(Q){return Q!=null&&typeof Q=="object"},f=function(Q){return typeof Q=="symbol"||z(Q)&&$(Q)=="[object Symbol]"};var j=/^[-+]0x[0-9a-f]+$/i,Z=/^0b[01]+$/i,D=/^0o[0-7]+$/i,oe=parseInt;const Se=function(Q){if(typeof Q=="number")return Q;if(f(Q))return NaN;if(L(Q)){var xe=typeof Q.valueOf=="function"?Q.valueOf():Q;Q=L(xe)?xe+"":xe}if(typeof Q!="string")return Q===0?Q:+Q;Q=re(Q);var Oe=Z.test(Q);return Oe||D.test(Q)?oe(Q.slice(2),Oe?2:8):j.test(Q)?NaN:+Q};var je=Math.max,Ie=Math.min;const De=function(Q,xe,Oe){var Je,$e,tt,st,Pt,Ft,Gt=0,ui=!1,Vt=!1,ti=!0;if(typeof Q!="function")throw new TypeError("Expected a function");function hi(Pi){var Zi=Je,at=$e;return Je=$e=void 0,Gt=Pi,st=Q.apply(at,Zi)}function Ci(Pi){var Zi=Pi-Ft;return Ft===void 0||Zi>=xe||Zi<0||Vt&&Pi-Gt>=tt}function Oi(){var Pi=V();if(Ci(Pi))return Di(Pi);Pt=setTimeout(Oi,function(Zi){var at=xe-(Zi-Ft);return Vt?Ie(at,tt-(Zi-Gt)):at}(Pi))}function Di(Pi){return Pt=void 0,ti&&Je?hi(Pi):(Je=$e=void 0,st)}function Vi(){var Pi=V(),Zi=Ci(Pi);if(Je=arguments,$e=this,Ft=Pi,Zi){if(Pt===void 0)return function(at){return Gt=at,Pt=setTimeout(Oi,xe),ui?hi(at):st}(Ft);if(Vt)return clearTimeout(Pt),Pt=setTimeout(Oi,xe),hi(Ft)}return Pt===void 0&&(Pt=setTimeout(Oi,xe)),st}return xe=Se(xe)||0,L(Oe)&&(ui=!!Oe.leading,tt=(Vt="maxWait"in Oe)?je(Se(Oe.maxWait)||0,xe):tt,ti="trailing"in Oe?!!Oe.trailing:ti),Vi.cancel=function(){Pt!==void 0&&clearTimeout(Pt),Gt=0,Je=Ft=$e=Pt=void 0},Vi.flush=function(){return Pt===void 0?st:Di(V())},Vi},mt=function(Q,xe,Oe){var Je=!0,$e=!0;if(typeof Q!="function")throw new TypeError("Expected a function");return L(Oe)&&(Je="leading"in Oe?!!Oe.leading:Je,$e="trailing"in Oe?!!Oe.trailing:$e),De(Q,xe,{leading:Je,maxWait:xe,trailing:$e})},lt=function(Q,xe){return function(Oe){return Q(xe(Oe))}}(Object.getPrototypeOf,Object);var ut=Function.prototype,dt=Object.prototype,vt=ut.toString,bt=dt.hasOwnProperty,Qe=vt.call(Object);const ft=function(Q){if(!z(Q)||$(Q)!="[object Object]")return!1;var xe=lt(Q);if(xe===null)return!0;var Oe=bt.call(xe,"constructor")&&xe.constructor;return typeof Oe=="function"&&Oe instanceof Oe&&vt.call(Oe)==Qe},Ve=function(Q){return z(Q)&&Q.nodeType===1&&!ft(Q)};class Te extends w.Plugin{constructor(xe){super(xe),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=xe.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=l.env.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9-]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",mt(this._refreshStats.bind(this),250)),typeof this._config.onUpdate=="function"&&this.on("update",(xe,Oe)=>{this._config.onUpdate(Oe)}),Ve(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const xe=this.editor,Oe=xe.t,Je=xe.config.get("wordCount.displayWords"),$e=xe.config.get("wordCount.displayCharacters"),tt=C.Template.bind(this,this),st=[];return this._outputView||(this._outputView=new C.View,(Je||Je===void 0)&&(this.bind("_wordsLabel").to(this,"words",Pt=>Oe("Words: %0",Pt)),st.push({tag:"div",children:[{text:[tt.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),($e||$e===void 0)&&(this.bind("_charactersLabel").to(this,"characters",Pt=>Oe("Characters: %0",Pt)),st.push({tag:"div",children:[{text:[tt.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:st}),this._outputView.render()),this._outputView.element}_getText(){let xe="";for(const Oe of this.editor.model.document.getRoots())xe!==""&&(xe+=`
`),xe+=c(Oe);return xe}_getCharacters(xe){return xe.replace(/\n/g,"").length}_getWords(xe){return(xe.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const xe=this._getText(),Oe=this.words=this._getWords(xe),Je=this.characters=this._getCharacters(xe);this.fire("update",{words:Oe,characters:Je})}}})(),(window.CKEditor5=window.CKEditor5||{}).wordCount=E})()},78107:(Qt,It,te)=>{"use strict";te.r(It),te.d(It,{default:()=>Je});var zt=te(74081),g=te(27279),R=te(61020),E=te(58892),w=te(66769),C=te(70627),l=te.n(C),c=te(72450);const L=(0,c.css)`
  .ck-word-count {
    display: flex;
    gap: 0.5rem;
    justify-content: flex-end;
    padding-block: 0.2rem;
    font-size: 0.875rem;
  }

  .ck-editor__main {
    --ck-font-face: "Source Sans Pro", system-ui, Roboto, "Helvetica Neue", "Helvetica", Arial, sans-serif;
    color: var(--ck-color-editor-base-text);
    font-family: var(--ck-font-face);

    * {
      font: revert;
      margin: revert;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 0.6em;
      font-weight: 400;
    }

    h2 {
      font-size: 1.68em;
      margin-bottom: 0.4em;
      font-weight: 400;
    }

    h3 {
      font-size: 1.36em;
      margin-bottom: 0.2em;
      font-weight: 400;
    }

    h4 {
      font-size: 1.15em;
      margin-bottom: 0.1em;
      font-weight: 400;
    }

    p {
      font-size: 1em;
      line-height: 1.6em;
      margin-bottom: 0.8em;
    }

    figcaption {
      background-color: var(--ck-color-image-caption-background);
      caption-side: bottom;
      color: var(--ck-color-image-caption-text);
      display: table-caption;
      font-size: .75em;
      outline-offset: -1px;
      padding: 0.6em;
      word-break: break-word;
    }

    blockquote {
    }

    .table {
      margin: 0;
    }

    ul.todo-list {
      list-style: none;
      margin: revert;
      color: revert;
      font-family: revert;
      margin-left: 2rem;
    }

    ul,
    ol {
      list-style: initial;
      margin-left: 2rem;
    }

    ol {
      list-style: decimal;
    }

    sub {
      vertical-align: sub
    }

    sup {
      vertical-align: super
    }

    // higher specificity needed
    .ck.ck-content.ck-editor__editable {
      line-height: initial;
      min-height: 12.5rem;
      border-bottom-left-radius: 0.25rem;
      border-bottom-right-radius: 0.25rem;

      // so it's more Strapi alike
      &.ck-focused:not(.ck-editor__nested-editable) {
        border: 1px solid rgb(73, 69, 255);
        box-shadow: rgb(73 69 255) 0 0 0 0.125rem;
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
        transition-property: border-color, box-shadow;
        transition-duration: 0.2s;
      }
    }
  }
`,B=(0,c.css)`
`,y=(0,c.css)`
  .ck {
    --ck-color-toolbar-background: rgb(24, 24, 38);
    --ck-color-text: rgb(165, 165, 186);
    --ck-color-editor-base-text: rgb(255, 255, 255);
    --ck-color-toolbar-border: rgb(74, 74, 106);
    --ck-color-base-border: rgb(74, 74, 106);
    --ck-color-base-background: rgb(33, 33, 52);
    --ck-color-button-default-background: rgb(33, 33, 52);
    --ck-color-list-button-hover-background: rgb(24, 24, 38);
    --ck-color-button-default-hover-background: rgb(33, 33, 52);
    --ck-color-button-on-background: rgb(33, 33, 52);
    --ck-color-button-on-hover-background: rgb(33, 33, 52);
    --ck-color-button-default-active-background: rgb(33, 33, 52);
  }
  .ck-word-count {
    color: rgb(165, 165, 186)
  }
`,h=$e=>{let tt=null;switch($e){case"dark":tt=y;break;case"light":tt=B;break}return(0,c.createGlobalStyle)`
    ${L}
    ${tt}
  `};var V=te(72958),q=te(96538),Y=te(98709),ee=te(69711),re=te(49614),ie=te(83948),u=te(16619),_=te(89716),p=te(25901),v=te(20397),A=te(32550),T=te(59576),S=te(35646),ae=te(34047),$=te(78982),z=te(54769),f=te(30047),j=te(84690),Z=te(33055),D=te(32521),oe=te(59540),Se=te(54248),je=te(79549),Ie=te(53832),De=te(38036);const mt=window.CKEditor5.core.Plugin,lt=window.CKEditor5.ui.ButtonView,ut='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.3.6a.9.9 0 100 1.8h15.311a.9.9 0 100-1.8H4.301zm17.1 3.7A1.6 1.6 0 0123 5.9v15.5a1.6 1.6 0 01-1.6 1.6H2.6A1.601 1.601 0 011 21.4V8 5.915C1 5.03 1.716 4.3 2.6 4.3h18.8zM5.032 19.18h14.336l-3.136-3.205-1.792 1.831-4.032-4.12-5.376 5.494zm13.44-8.697c0 1.282-.985 2.289-2.24 2.289-1.254 0-2.24-1.007-2.24-2.29 0-1.281.986-2.288 2.24-2.288 1.255 0 2.24 1.007 2.24 2.289z"></path></svg>';class dt extends mt{strapiToggle=null;static get pluginName(){return"strapiMediaLib"}init(){this.editor.ui.componentFactory.add("strapiMediaLib",()=>{const st=new lt;return st.set({label:"Media Library",icon:ut,tooltip:!0}),st.on("execute",this.toggle.bind(this)),st})}connect(tt){if(typeof tt!="function")throw new Error("Input parameter for toogle should be a function");this.strapiToggle=tt}toggle(){if(typeof this.strapiToggle!="function")throw new Error("Strapi media library toggle function not connected. Use connect function first");this.strapiToggle()}}const vt={light:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.list.List,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,dt],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","insertTable","|","bulletedList","numberedList"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},standard:{plugins:[window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.heading.Heading,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.indent.Indent,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,dt],toolbar:["undo","redo","|","heading","|","bold","italic","|","link","strapiMediaLib","mediaEmbed","blockQuote","insertTable","codeBlock","|","bulletedList","numberedList","outdent","indent"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","toggleTableCaption"]}},rich:{plugins:[window.CKEditor5.alignment.Alignment,window.CKEditor5.autoformat.Autoformat,window.CKEditor5.basicStyles.Bold,window.CKEditor5.basicStyles.Italic,window.CKEditor5.basicStyles.Underline,window.CKEditor5.basicStyles.Strikethrough,window.CKEditor5.basicStyles.Code,window.CKEditor5.basicStyles.Subscript,window.CKEditor5.basicStyles.Superscript,window.CKEditor5.blockQuote.BlockQuote,window.CKEditor5.codeBlock.CodeBlock,window.CKEditor5.essentials.Essentials,window.CKEditor5.font.FontSize,window.CKEditor5.font.FontFamily,window.CKEditor5.font.FontColor,window.CKEditor5.font.FontBackgroundColor,window.CKEditor5.findAndReplace.FindAndReplace,window.CKEditor5.heading.Heading,window.CKEditor5.horizontalLine.HorizontalLine,window.CKEditor5.htmlEmbed.HtmlEmbed,window.CKEditor5.image.Image,window.CKEditor5.image.ImageCaption,window.CKEditor5.image.ImageStyle,window.CKEditor5.image.ImageToolbar,window.CKEditor5.image.ImageUpload,window.CKEditor5.image.ImageResize,window.CKEditor5.indent.Indent,window.CKEditor5.indent.IndentBlock,window.CKEditor5.link.Link,window.CKEditor5.link.LinkImage,window.CKEditor5.list.List,window.CKEditor5.list.ListProperties,window.CKEditor5.list.TodoList,window.CKEditor5.mediaEmbed.MediaEmbed,window.CKEditor5.paragraph.Paragraph,window.CKEditor5.pasteFromOffice.PasteFromOffice,window.CKEditor5.removeFormat.RemoveFormat,window.CKEditor5.specialCharacters.SpecialCharacters,window.CKEditor5.specialCharacters.SpecialCharactersEssentials,window.CKEditor5.table.Table,window.CKEditor5.table.TableToolbar,window.CKEditor5.table.TableProperties,window.CKEditor5.table.TableCellProperties,window.CKEditor5.table.TableColumnResize,window.CKEditor5.table.TableCaption,window.CKEditor5.wordCount.WordCount,window.CKEditor5.highlight.Highlight,dt],toolbar:{items:["undo","redo","|","findAndReplace","selectAll","|","heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","superscript","subscript","code","removeFormat","-","link","strapiMediaLib","mediaEmbed","insertTable","horizontalLine","blockQuote","codeBlock","htmlEmbed","specialCharacters","highlight","|","alignment","|","bulletedList","numberedList","todoList","outdent","indent"],shouldNotGroupWhenFull:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"}]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},image:{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}],toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative","|","linkImage","|","resizeImage:25","resizeImage:50","resizeImage:75","resizeImage:original"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","|","tableCellProperties","tableProperties","|","toggleTableCaption"]},fontSize:{options:[9,11,13,"default",17,19,21,27,35],supportAllValues:!1},fontFamily:{options:["default","Arial, Helvetica Neue, Helvetica, Source Sans Pro, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Roboto, Roboto Black, Roboto Medium, Roboto Light, sans-serif"],supportAllValues:!0},fontColor:{columns:5,documentColors:10},fontBackgroundColor:{columns:5,documentColors:10}}};class bt{constructor(tt){this.fieldConfig=tt}getEditorConfig(){const tt=this._getBaseConfig(),st=this.fieldConfig.maxLength;return this.fieldConfig.options.output==="Markdown"&&tt.plugins.push(window.CKEditor5.markdownGfm.Markdown),st&&(tt.plugins.push(window.CKEditor5.maximumLength.MaximumLength),tt.maximumLength={characters:st}),tt}_getBaseConfig(){const tt=this.fieldConfig.options.preset;switch(tt){case"light":return vt.light;case"standard":return vt.standard;case"rich":return vt.rich;default:throw new Error("Invalid preset name "+tt)}}}var Qe=te(47665);const ft=({isOpen:$e,onChange:tt,onToggle:st})=>{const{components:Pt}=(0,Qe.yX)(),Ft=Pt["media-library"],Gt=ui=>{const Vt=ui.map(ti=>({alt:ti.alternativeText||ti.name,url:(0,Qe.CR)(ti.url),mime:ti.mime}));tt(Vt)};return $e?(0,zt.jsx)(Ft,{onClose:st,onSelectAssets:Gt}):null};ft.defaultProps={isOpen:!1,onChange:()=>{},onToggle:()=>{}},ft.propTypes={isOpen:l().bool,onChange:l().func,onToggle:l().func};const Ve=ft;var Te=te(15515),Q=te(66916);function xe($e){const tt={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};for(const st in tt){const Pt=tt[st];$e=$e.replaceAll(st,Pt)}return $e}const Oe=({attribute:$e,onChange:tt,name:st,value:Pt,disabled:Ft,labelAction:Gt,intlLabel:ui,required:Vt,description:ti,error:hi})=>{const[Ci,Oi]=(0,g.useState)(!1),{formatMessage:Di}=(0,R.Z)(),{maxLengthCharacters:Vi,...Pi}=$e.options,at=new bt({options:Pi,maxLength:Vi}).getEditorConfig(),ue=(0,g.useRef)(null),ye=localStorage.getItem("STRAPI_THEME"),Le=h(ye),[Ge,ot]=(0,g.useState)(!1),gt=()=>ot(Ot=>!Ot),Lt=Ot=>{let Ut="";Ot.map(wi=>{if(wi.mime.includes("image")){const Ii=xe(wi.url),Li=xe(wi.alt);Ut+=`<img src="${Ii}" alt="${Li}" />`}});const oi=Ci.data.processor.toView(Ut),ri=Ci.data.toModel(oi);Ci.model.insertContent(ri),gt()};return(0,zt.jsxs)(w.Field,{name:st,id:st,error:hi,hint:ti&&Di(ti),children:[(0,zt.jsxs)(E.Stack,{spacing:1,children:[(0,zt.jsx)(w.FieldLabel,{action:Gt,required:Vt,children:Di(ui)}),(0,zt.jsx)(Le,{}),(0,zt.jsx)(Te.CKEditor,{editor:window.CKEditor5.editorClassic.ClassicEditor,disabled:Ft,data:Pt,onReady:Ot=>{const Ut=Ot.plugins.get("WordCount");ue.current.appendChild(Ut.wordCountContainer),Ot.plugins.get("strapiMediaLib").connect(gt),Oi(Ot)},onChange:(Ot,Ut)=>{const oi=Ut.getData();tt({target:{name:st,value:oi}}),Ut.plugins.get("WordCount").characters>Vi&&console.log("Too long")},config:at}),(0,zt.jsx)("div",{ref:ue}),(0,zt.jsx)(w.FieldHint,{}),(0,zt.jsx)(w.FieldError,{})]}),(0,zt.jsx)(Ve,{isOpen:Ge,onChange:Lt,onToggle:gt})]})};Oe.defaultProps={description:null,disabled:!1,error:null,labelAction:null,required:!1,value:""},Oe.propTypes={intlLabel:l().object.isRequired,onChange:l().func.isRequired,attribute:l().object.isRequired,name:l().string.isRequired,description:l().object,disabled:l().bool,error:l().string,labelAction:l().object,required:l().bool,value:l().string};const Je=Oe},38036:()=>{(()=>{var Qt={98:(g,R,E)=>{"use strict";E.d(R,{Z:()=>l});var w=E(645),C=E.n(w)()(function(c){return c[1]});C.push([g.id,".ck.ck-editor__editable .ck-maximum-length-excess{background-color:rgba(204,51,51,.3)}",""]);const l=C},645:g=>{"use strict";g.exports=function(R){var E=[];return E.toString=function(){return this.map(function(w){var C=R(w);return w[2]?"@media ".concat(w[2]," {").concat(C,"}"):C}).join("")},E.i=function(w,C,l){typeof w=="string"&&(w=[[null,w,""]]);var c={};if(l)for(var L=0;L<this.length;L++){var B=this[L][0];B!=null&&(c[B]=!0)}for(var y=0;y<w.length;y++){var h=[].concat(w[y]);l&&c[h[0]]||(C&&(h[2]?h[2]="".concat(C," and ").concat(h[2]):h[2]=C),E.push(h))}},E}},379:(g,R,E)=>{"use strict";var w,C=function(){return w===void 0&&(w=Boolean(window&&document&&document.all&&!window.atob)),w},l=function(){var u={};return function(_){if(u[_]===void 0){var p=document.querySelector(_);if(window.HTMLIFrameElement&&p instanceof window.HTMLIFrameElement)try{p=p.contentDocument.head}catch{p=null}u[_]=p}return u[_]}}(),c=[];function L(u){for(var _=-1,p=0;p<c.length;p++)if(c[p].identifier===u){_=p;break}return _}function B(u,_){for(var p={},v=[],A=0;A<u.length;A++){var T=u[A],S=_.base?T[0]+_.base:T[0],ae=p[S]||0,$="".concat(S," ").concat(ae);p[S]=ae+1;var z=L($),f={css:T[1],media:T[2],sourceMap:T[3]};z!==-1?(c[z].references++,c[z].updater(f)):c.push({identifier:$,updater:ie(f,_),references:1}),v.push($)}return v}function y(u){var _=document.createElement("style"),p=u.attributes||{};if(p.nonce===void 0){var v=E.nc;v&&(p.nonce=v)}if(Object.keys(p).forEach(function(T){_.setAttribute(T,p[T])}),typeof u.insert=="function")u.insert(_);else{var A=l(u.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(_)}return _}var h,V=(h=[],function(u,_){return h[u]=_,h.filter(Boolean).join(`
`)});function q(u,_,p,v){var A=p?"":v.media?"@media ".concat(v.media," {").concat(v.css,"}"):v.css;if(u.styleSheet)u.styleSheet.cssText=V(_,A);else{var T=document.createTextNode(A),S=u.childNodes;S[_]&&u.removeChild(S[_]),S.length?u.insertBefore(T,S[_]):u.appendChild(T)}}function Y(u,_,p){var v=p.css,A=p.media,T=p.sourceMap;if(A?u.setAttribute("media",A):u.removeAttribute("media"),T&&typeof btoa<"u"&&(v+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),u.styleSheet)u.styleSheet.cssText=v;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(v))}}var ee=null,re=0;function ie(u,_){var p,v,A;if(_.singleton){var T=re++;p=ee||(ee=y(_)),v=q.bind(null,p,T,!1),A=q.bind(null,p,T,!0)}else p=y(_),v=Y.bind(null,p,_),A=function(){(function(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)})(p)};return v(u),function(S){if(S){if(S.css===u.css&&S.media===u.media&&S.sourceMap===u.sourceMap)return;v(u=S)}else A()}}g.exports=function(u,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=C());var p=B(u=u||[],_);return function(v){if(v=v||[],Object.prototype.toString.call(v)==="[object Array]"){for(var A=0;A<p.length;A++){var T=L(p[A]);c[T].references--}for(var S=B(v,_),ae=0;ae<p.length;ae++){var $=L(p[ae]);c[$].references===0&&(c[$].updater(),c.splice($,1))}p=S}}}},704:(g,R,E)=>{g.exports=E(79)("./src/core.js")},79:g=>{"use strict";g.exports=CKEditor5.dll}},It={};function te(g){var R=It[g];if(R!==void 0)return R.exports;var E=It[g]={id:g,exports:{}};return Qt[g](E,E.exports,te),E.exports}te.n=g=>{var R=g&&g.__esModule?()=>g.default:()=>g;return te.d(R,{a:R}),R},te.d=(g,R)=>{for(var E in R)te.o(R,E)&&!te.o(g,E)&&Object.defineProperty(g,E,{enumerable:!0,get:R[E]})},te.o=(g,R)=>Object.prototype.hasOwnProperty.call(g,R),te.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},te.nc=void 0;var zt={};(()=>{"use strict";te.r(zt),te.d(zt,{MaximumLength:()=>l});var g=te(704),R=te(379),E=te.n(R),w=te(98),C={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};E()(w.Z,C),w.Z.locals;class l extends g.Plugin{static get pluginName(){return"MaximumLength"}static get requires(){return["WordCount"]}init(){const L=this.editor,B=L.plugins.get("WordCount"),y=L.config.get("maximumLength.characters");let h=!1;L.model.document.registerPostFixer(V=>{const q=B.characters,Y=this._calculateExcessRange(y,q);Y?h?V.updateMarker("maximumLengthExcess",{range:Y,usingOperation:!1}):(V.addMarker("maximumLengthExcess",{range:Y,usingOperation:!1}),h=!0):h&&(V.removeMarker("maximumLengthExcess"),h=!1)}),L.conversion.for("editingDowncast").markerToHighlight({model:"maximumLengthExcess",view:{classes:"ck-maximum-length-excess"}})}_calculateExcessRange(L,B){if(L>B)return null;const y=this.editor,h=y.model.createRangeIn(y.model.document.getRoot()).getWalker({singleCharacters:!0,direction:"backward"});let V,q,Y=B;for(const ee of h)if(ee.type=="text"&&(V||(V=ee.previousPosition),Y--,Y<L))return q=ee.previousPosition,y.model.createRange(q,V)}}})(),(window.CKEditor5=window.CKEditor5||{}).maximumLength=zt})()},59817:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(74081),g=te(27279),R=te(20565),E=te(54673),w=te(44747),C=g.forwardRef(({children:l,name:c,error:L,hint:B,id:y,required:h=!1,...V},q)=>{const Y=E.useId(y),ee=g.useMemo(()=>({name:c,id:Y,error:L,hint:B,required:h}),[L,Y,B,c,h]);return zt.jsx(w.Box,{ref:q,...V,children:zt.jsx(R.FieldContext.Provider,{value:ee,children:l})})});It.Field=C},53785:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(74081),g=te(27279),R=te(72450),E=te(35725),w=te(70321),c=(B=>B&&B.__esModule?B:{default:B})(R).default(E.Flex)`
  font-size: 1.6rem;
  padding: 0;
`,L=g.forwardRef(({label:B,children:y,...h},V)=>zt.jsxs(c,{justifyContent:"unset",background:"transparent",borderStyle:"none",type:"button",...h,as:"button",ref:V,children:[zt.jsx(w.VisuallyHidden,{as:"span",children:B}),g.cloneElement(y,{"aria-hidden":!0,focusable:!1})]}));It.FieldAction=L},20565:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(27279),g=zt.createContext({id:"",required:!1}),R=()=>zt.useContext(g);It.FieldContext=g,It.useField=R},28518:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(74081),g=te(20565),R=te(11880),E=()=>{const{id:w,error:C}=g.useField();return!C||typeof C!="string"?null:zt.jsx(R.Typography,{variant:"pi",as:"p",id:`${w}-error`,textColor:"danger600","data-strapi-field-error":!0,children:C})};It.FieldError=E},63391:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(74081),g=te(20565),R=te(11880),E=()=>{const{id:w,hint:C,error:l}=g.useField();return!C||l?null:zt.jsx(R.Typography,{variant:"pi",as:"p",id:`${w}-hint`,textColor:"neutral600",children:C})};It.FieldHint=E},20601:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(74081),g=te(27279),R=te(72450),E=te(20565),w=te(5529),C=te(44747),l=te(35725),L=(q=>q&&q.__esModule?q:{default:q})(R),B={S:6.5,M:10.5},y=g.forwardRef(({endAction:q,startAction:Y,disabled:ee=!1,onChange:re,size:ie="M",...u},_)=>{const{id:p,error:v,hint:A,name:T,required:S}=E.useField();let ae;v?ae=`${p}-error`:A&&(ae=`${p}-hint`);const $=Boolean(v),z=f=>{!ee&&re&&re(f)};return zt.jsxs(V,{justifyContent:"space-between",hasError:$,disabled:ee,children:[Y?zt.jsx(C.Box,{paddingLeft:3,paddingRight:2,children:Y}):null,zt.jsx(h,{id:p,name:T,ref:_,"aria-describedby":ae,"aria-invalid":$,"aria-disabled":ee,disabled:ee,"data-disabled":ee?"":void 0,hasLeftAction:Boolean(Y),hasRightAction:Boolean(q),onChange:z,"aria-required":S,$size:ie,...u}),q?zt.jsx(C.Box,{paddingLeft:2,paddingRight:3,children:q}):null]})}),h=L.default.input`
  border: none;
  border-radius: ${({theme:q})=>q.borderRadius};
  padding-bottom: ${({$size:q})=>`${B[q]/16}rem`};
  padding-left: ${({theme:q,hasLeftAction:Y})=>Y?0:q.spaces[4]};
  padding-right: ${({theme:q,hasRightAction:Y})=>Y?0:q.spaces[4]};
  padding-top: ${({$size:q})=>`${B[q]/16}rem`};
  cursor: ${q=>q["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:q})=>q.colors.neutral800};
  font-weight: 400;
  font-size: ${q=>q.theme.fontSizes[2]};
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:q})=>q.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,V=L.default(l.Flex)`
  border: 1px solid ${({theme:q,hasError:Y})=>Y?q.colors.danger600:q.colors.neutral200};
  border-radius: ${({theme:q})=>q.borderRadius};
  background: ${({theme:q})=>q.colors.neutral0};
  ${w.inputFocusStyle()}

  ${({theme:q,disabled:Y})=>Y?R.css`
          color: ${q.colors.neutral600};
          background: ${q.colors.neutral150};
        `:void 0}
`;It.FieldInput=y,It.InputWrapper=V},69803:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(74081),g=te(27279),R=te(72450),E=te(20565),w=te(63832),C=te(11880),l=te(35725),L=(Y=>Y&&Y.__esModule?Y:{default:Y})(R),B=w.once(console.warn),y=g.forwardRef(({children:Y,action:ee,required:re,...ie},u)=>{const{id:_,required:p}=E.useField(),v=p||re;return re!==void 0&&B('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),zt.jsxs(h,{ref:u,variant:"pi",textColor:"neutral800",htmlFor:_,fontWeight:"bold",as:"label",...ie,children:[Y,v&&zt.jsx(V,{textColor:"danger600",children:"*"}),ee&&zt.jsx(q,{marginLeft:1,children:ee})]})}),h=L.default(C.Typography)`
  display: flex;
  align-items: center;
`,V=L.default(C.Typography)`
  line-height: 0;
`,q=L.default(l.Flex)`
  line-height: 0;

  svg path {
    fill: ${({theme:Y})=>Y.colors.neutral500};
  }
`;It.FieldLabel=y},66769:(Qt,It,te)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const zt=te(59817),g=te(69803),R=te(20601),E=te(63391),w=te(28518),C=te(20565),l=te(53785);It.Field=zt.Field,It.FieldLabel=g.FieldLabel,It.FieldInput=R.FieldInput,It.InputWrapper=R.InputWrapper,It.FieldHint=E.FieldHint,It.FieldError=w.FieldError,It.FieldContext=C.FieldContext,It.useField=C.useField,It.FieldAction=l.FieldAction},63832:(Qt,It)=>{"use strict";Object.defineProperty(It,Symbol.toStringTag,{value:"Module"});const te="[@strapi/design-system]:",zt=g=>{const R=g;let E=!1;if(typeof R!="function")throw new TypeError(`${te} once requires a function parameter`);return(...w)=>{E||(R(...w),E=!0)}};It.PREFIX=te,It.once=zt},72958:(Qt,It,te)=>{Qt=te.nmd(Qt),function(zt){const g=zt.en=zt.en||{};g.dictionary=Object.assign(g.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept",Aquamarine:"Aquamarine",Black:"Black",Blue:"Blue",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:",Clear:"Clear","Click to edit block":"Click to edit block","Dim grey":"Dim grey","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar",Green:"Green",Grey:"Grey",HEX:"HEX","Insert image with file manager":"Insert image with file manager","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert with file manager":"Insert with file manager","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",Orange:"Orange","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Save:"Save","Select all":"Select all","Show more items":"Show more items",Turquoise:"Turquoise",Undo:"Undo","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(()=>{var zt={"./node_modules/color-convert/conversions.js":(w,C,l)=>{const c=l("./node_modules/color-name/index.js"),L={};for(const y of Object.keys(c))L[c[y]]=y;const B={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};w.exports=B;for(const y of Object.keys(B)){if(!("channels"in B[y]))throw new Error("missing channels property: "+y);if(!("labels"in B[y]))throw new Error("missing channel labels property: "+y);if(B[y].labels.length!==B[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:h,labels:V}=B[y];delete B[y].channels,delete B[y].labels,Object.defineProperty(B[y],"channels",{value:h}),Object.defineProperty(B[y],"labels",{value:V})}B.rgb.hsl=function(y){const h=y[0]/255,V=y[1]/255,q=y[2]/255,Y=Math.min(h,V,q),ee=Math.max(h,V,q),re=ee-Y;let ie,u;ee===Y?ie=0:h===ee?ie=(V-q)/re:V===ee?ie=2+(q-h)/re:q===ee&&(ie=4+(h-V)/re),ie=Math.min(60*ie,360),ie<0&&(ie+=360);const _=(Y+ee)/2;return u=ee===Y?0:_<=.5?re/(ee+Y):re/(2-ee-Y),[ie,100*u,100*_]},B.rgb.hsv=function(y){let h,V,q,Y,ee;const re=y[0]/255,ie=y[1]/255,u=y[2]/255,_=Math.max(re,ie,u),p=_-Math.min(re,ie,u),v=function(A){return(_-A)/6/p+.5};return p===0?(Y=0,ee=0):(ee=p/_,h=v(re),V=v(ie),q=v(u),re===_?Y=q-V:ie===_?Y=.3333333333333333+h-q:u===_&&(Y=.6666666666666666+V-h),Y<0?Y+=1:Y>1&&(Y-=1)),[360*Y,100*ee,100*_]},B.rgb.hwb=function(y){const h=y[0],V=y[1];let q=y[2];const Y=B.rgb.hsl(y)[0],ee=1/255*Math.min(h,Math.min(V,q));return q=1-.00392156862745098*Math.max(h,Math.max(V,q)),[Y,100*ee,100*q]},B.rgb.cmyk=function(y){const h=y[0]/255,V=y[1]/255,q=y[2]/255,Y=Math.min(1-h,1-V,1-q);return[100*((1-h-Y)/(1-Y)||0),100*((1-V-Y)/(1-Y)||0),100*((1-q-Y)/(1-Y)||0),100*Y]},B.rgb.keyword=function(y){const h=L[y];if(h)return h;let V,q=1/0;for(const re of Object.keys(c)){const ie=c[re],u=(ee=ie,((Y=y)[0]-ee[0])**2+(Y[1]-ee[1])**2+(Y[2]-ee[2])**2);u<q&&(q=u,V=re)}var Y,ee;return V},B.keyword.rgb=function(y){return c[y]},B.rgb.xyz=function(y){let h=y[0]/255,V=y[1]/255,q=y[2]/255;return h=h>.04045?((h+.055)/1.055)**2.4:h/12.92,V=V>.04045?((V+.055)/1.055)**2.4:V/12.92,q=q>.04045?((q+.055)/1.055)**2.4:q/12.92,[100*(.4124*h+.3576*V+.1805*q),100*(.2126*h+.7152*V+.0722*q),100*(.0193*h+.1192*V+.9505*q)]},B.rgb.lab=function(y){const h=B.rgb.xyz(y);let V=h[0],q=h[1],Y=h[2];return V/=95.047,q/=100,Y/=108.883,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,q=q>.008856?q**.3333333333333333:7.787*q+.13793103448275862,Y=Y>.008856?Y**.3333333333333333:7.787*Y+.13793103448275862,[116*q-16,500*(V-q),200*(q-Y)]},B.hsl.rgb=function(y){const h=y[0]/360,V=y[1]/100,q=y[2]/100;let Y,ee,re;if(V===0)return re=255*q,[re,re,re];Y=q<.5?q*(1+V):q+V-q*V;const ie=2*q-Y,u=[0,0,0];for(let _=0;_<3;_++)ee=h+.3333333333333333*-(_-1),ee<0&&ee++,ee>1&&ee--,re=6*ee<1?ie+6*(Y-ie)*ee:2*ee<1?Y:3*ee<2?ie+(Y-ie)*(.6666666666666666-ee)*6:ie,u[_]=255*re;return u},B.hsl.hsv=function(y){const h=y[0];let V=y[1]/100,q=y[2]/100,Y=V;const ee=Math.max(q,.01);return q*=2,V*=q<=1?q:2-q,Y*=ee<=1?ee:2-ee,[h,100*(q===0?2*Y/(ee+Y):2*V/(q+V)),100*((q+V)/2)]},B.hsv.rgb=function(y){const h=y[0]/60,V=y[1]/100;let q=y[2]/100;const Y=Math.floor(h)%6,ee=h-Math.floor(h),re=255*q*(1-V),ie=255*q*(1-V*ee),u=255*q*(1-V*(1-ee));switch(q*=255,Y){case 0:return[q,u,re];case 1:return[ie,q,re];case 2:return[re,q,u];case 3:return[re,ie,q];case 4:return[u,re,q];case 5:return[q,re,ie]}},B.hsv.hsl=function(y){const h=y[0],V=y[1]/100,q=y[2]/100,Y=Math.max(q,.01);let ee,re;re=(2-V)*q;const ie=(2-V)*Y;return ee=V*Y,ee/=ie<=1?ie:2-ie,ee=ee||0,re/=2,[h,100*ee,100*re]},B.hwb.rgb=function(y){const h=y[0]/360;let V=y[1]/100,q=y[2]/100;const Y=V+q;let ee;Y>1&&(V/=Y,q/=Y);const re=Math.floor(6*h),ie=1-q;ee=6*h-re,1&re&&(ee=1-ee);const u=V+ee*(ie-V);let _,p,v;switch(re){default:case 6:case 0:_=ie,p=u,v=V;break;case 1:_=u,p=ie,v=V;break;case 2:_=V,p=ie,v=u;break;case 3:_=V,p=u,v=ie;break;case 4:_=u,p=V,v=ie;break;case 5:_=ie,p=V,v=u}return[255*_,255*p,255*v]},B.cmyk.rgb=function(y){const h=y[0]/100,V=y[1]/100,q=y[2]/100,Y=y[3]/100;return[255*(1-Math.min(1,h*(1-Y)+Y)),255*(1-Math.min(1,V*(1-Y)+Y)),255*(1-Math.min(1,q*(1-Y)+Y))]},B.xyz.rgb=function(y){const h=y[0]/100,V=y[1]/100,q=y[2]/100;let Y,ee,re;return Y=3.2406*h+-1.5372*V+-.4986*q,ee=-.9689*h+1.8758*V+.0415*q,re=.0557*h+-.204*V+1.057*q,Y=Y>.0031308?1.055*Y**.4166666666666667-.055:12.92*Y,ee=ee>.0031308?1.055*ee**.4166666666666667-.055:12.92*ee,re=re>.0031308?1.055*re**.4166666666666667-.055:12.92*re,Y=Math.min(Math.max(0,Y),1),ee=Math.min(Math.max(0,ee),1),re=Math.min(Math.max(0,re),1),[255*Y,255*ee,255*re]},B.xyz.lab=function(y){let h=y[0],V=y[1],q=y[2];return h/=95.047,V/=100,q/=108.883,h=h>.008856?h**.3333333333333333:7.787*h+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,q=q>.008856?q**.3333333333333333:7.787*q+.13793103448275862,[116*V-16,500*(h-V),200*(V-q)]},B.lab.xyz=function(y){let h,V,q;V=(y[0]+16)/116,h=y[1]/500+V,q=V-y[2]/200;const Y=V**3,ee=h**3,re=q**3;return V=Y>.008856?Y:(V-.13793103448275862)/7.787,h=ee>.008856?ee:(h-.13793103448275862)/7.787,q=re>.008856?re:(q-.13793103448275862)/7.787,h*=95.047,V*=100,q*=108.883,[h,V,q]},B.lab.lch=function(y){const h=y[0],V=y[1],q=y[2];let Y;return Y=360*Math.atan2(q,V)/2/Math.PI,Y<0&&(Y+=360),[h,Math.sqrt(V*V+q*q),Y]},B.lch.lab=function(y){const h=y[0],V=y[1],q=y[2]/360*2*Math.PI;return[h,V*Math.cos(q),V*Math.sin(q)]},B.rgb.ansi16=function(y,h=null){const[V,q,Y]=y;let ee=h===null?B.rgb.hsv(y)[2]:h;if(ee=Math.round(ee/50),ee===0)return 30;let re=30+(Math.round(Y/255)<<2|Math.round(q/255)<<1|Math.round(V/255));return ee===2&&(re+=60),re},B.hsv.ansi16=function(y){return B.rgb.ansi16(B.hsv.rgb(y),y[2])},B.rgb.ansi256=function(y){const h=y[0],V=y[1],q=y[2];return h===V&&V===q?h<8?16:h>248?231:Math.round((h-8)/247*24)+232:16+36*Math.round(h/255*5)+6*Math.round(V/255*5)+Math.round(q/255*5)},B.ansi16.rgb=function(y){let h=y%10;if(h===0||h===7)return y>50&&(h+=3.5),h=h/10.5*255,[h,h,h];const V=.5*(1+~~(y>50));return[(1&h)*V*255,(h>>1&1)*V*255,(h>>2&1)*V*255]},B.ansi256.rgb=function(y){if(y>=232){const V=10*(y-232)+8;return[V,V,V]}let h;return y-=16,[Math.floor(y/36)/5*255,Math.floor((h=y%36)/6)/5*255,h%6/5*255]},B.rgb.hex=function(y){const h=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(h.length)+h},B.hex.rgb=function(y){const h=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!h)return[0,0,0];let V=h[0];h[0].length===3&&(V=V.split("").map(Y=>Y+Y).join(""));const q=parseInt(V,16);return[q>>16&255,q>>8&255,255&q]},B.rgb.hcg=function(y){const h=y[0]/255,V=y[1]/255,q=y[2]/255,Y=Math.max(Math.max(h,V),q),ee=Math.min(Math.min(h,V),q),re=Y-ee;let ie,u;return ie=re<1?ee/(1-re):0,u=re<=0?0:Y===h?(V-q)/re%6:Y===V?2+(q-h)/re:4+(h-V)/re,u/=6,u%=1,[360*u,100*re,100*ie]},B.hsl.hcg=function(y){const h=y[1]/100,V=y[2]/100,q=V<.5?2*h*V:2*h*(1-V);let Y=0;return q<1&&(Y=(V-.5*q)/(1-q)),[y[0],100*q,100*Y]},B.hsv.hcg=function(y){const h=y[1]/100,V=y[2]/100,q=h*V;let Y=0;return q<1&&(Y=(V-q)/(1-q)),[y[0],100*q,100*Y]},B.hcg.rgb=function(y){const h=y[0]/360,V=y[1]/100,q=y[2]/100;if(V===0)return[255*q,255*q,255*q];const Y=[0,0,0],ee=h%1*6,re=ee%1,ie=1-re;let u=0;switch(Math.floor(ee)){case 0:Y[0]=1,Y[1]=re,Y[2]=0;break;case 1:Y[0]=ie,Y[1]=1,Y[2]=0;break;case 2:Y[0]=0,Y[1]=1,Y[2]=re;break;case 3:Y[0]=0,Y[1]=ie,Y[2]=1;break;case 4:Y[0]=re,Y[1]=0,Y[2]=1;break;default:Y[0]=1,Y[1]=0,Y[2]=ie}return u=(1-V)*q,[255*(V*Y[0]+u),255*(V*Y[1]+u),255*(V*Y[2]+u)]},B.hcg.hsv=function(y){const h=y[1]/100,V=h+y[2]/100*(1-h);let q=0;return V>0&&(q=h/V),[y[0],100*q,100*V]},B.hcg.hsl=function(y){const h=y[1]/100,V=y[2]/100*(1-h)+.5*h;let q=0;return V>0&&V<.5?q=h/(2*V):V>=.5&&V<1&&(q=h/(2*(1-V))),[y[0],100*q,100*V]},B.hcg.hwb=function(y){const h=y[1]/100,V=h+y[2]/100*(1-h);return[y[0],100*(V-h),100*(1-V)]},B.hwb.hcg=function(y){const h=y[1]/100,V=1-y[2]/100,q=V-h;let Y=0;return q<1&&(Y=(V-q)/(1-q)),[y[0],100*q,100*Y]},B.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},B.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},B.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},B.gray.hsl=function(y){return[0,0,y[0]]},B.gray.hsv=B.gray.hsl,B.gray.hwb=function(y){return[0,100,y[0]]},B.gray.cmyk=function(y){return[0,0,0,y[0]]},B.gray.lab=function(y){return[y[0],0,0]},B.gray.hex=function(y){const h=255&Math.round(y[0]/100*255),V=((h<<16)+(h<<8)+h).toString(16).toUpperCase();return"000000".substring(V.length)+V},B.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},"./node_modules/color-convert/index.js":(w,C,l)=>{const c=l("./node_modules/color-convert/conversions.js"),L=l("./node_modules/color-convert/route.js"),B={};Object.keys(c).forEach(y=>{B[y]={},Object.defineProperty(B[y],"channels",{value:c[y].channels}),Object.defineProperty(B[y],"labels",{value:c[y].labels});const h=L(y);Object.keys(h).forEach(V=>{const q=h[V];B[y][V]=function(Y){const ee=function(...re){const ie=re[0];if(ie==null)return ie;ie.length>1&&(re=ie);const u=Y(re);if(typeof u=="object")for(let _=u.length,p=0;p<_;p++)u[p]=Math.round(u[p]);return u};return"conversion"in Y&&(ee.conversion=Y.conversion),ee}(q),B[y][V].raw=function(Y){const ee=function(...re){const ie=re[0];return ie==null?ie:(ie.length>1&&(re=ie),Y(re))};return"conversion"in Y&&(ee.conversion=Y.conversion),ee}(q)})}),w.exports=B},"./node_modules/color-convert/route.js":(w,C,l)=>{const c=l("./node_modules/color-convert/conversions.js");function L(h){const V=function(){const Y={},ee=Object.keys(c);for(let re=ee.length,ie=0;ie<re;ie++)Y[ee[ie]]={distance:-1,parent:null};return Y}(),q=[h];for(V[h].distance=0;q.length;){const Y=q.pop(),ee=Object.keys(c[Y]);for(let re=ee.length,ie=0;ie<re;ie++){const u=ee[ie],_=V[u];_.distance===-1&&(_.distance=V[Y].distance+1,_.parent=Y,q.unshift(u))}}return V}function B(h,V){return function(q){return V(h(q))}}function y(h,V){const q=[V[h].parent,h];let Y=c[V[h].parent][h],ee=V[h].parent;for(;V[ee].parent;)q.unshift(V[ee].parent),Y=B(c[V[ee].parent][ee],Y),ee=V[ee].parent;return Y.conversion=q,Y}w.exports=function(h){const V=L(h),q={},Y=Object.keys(V);for(let ee=Y.length,re=0;re<ee;re++){const ie=Y[re];V[ie].parent!==null&&(q[ie]=y(ie,V))}return q}},"./node_modules/color-name/index.js":w=>{"use strict";w.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header .ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{font-weight:700}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck-textarea{overflow-x:hidden}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}",""]);const B=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/css-loader/dist/runtime/api.js"),L=l.n(c)()(function(y){return y[1]});L.push([w.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',""]);const B=L},"./node_modules/css-loader/dist/runtime/api.js":w=>{"use strict";w.exports=function(C){var l=[];return l.toString=function(){return this.map(function(c){var L=C(c);return c[2]?"@media ".concat(c[2]," {").concat(L,"}"):L}).join("")},l.i=function(c,L,B){typeof c=="string"&&(c=[[null,c,""]]);var y={};if(B)for(var h=0;h<this.length;h++){var V=this[h][0];V!=null&&(y[V]=!0)}for(var q=0;q<c.length;q++){var Y=[].concat(c[q]);B&&y[Y[0]]||(L&&(Y[2]?Y[2]="".concat(L," and ").concat(Y[2]):Y[2]=L),l.push(Y))}},l}},"./packages/ckeditor5-core/src/index.ts":(w,C,l)=>{"use strict";l.d(C,{mY:()=>y,_y:()=>Y,eO:()=>ee,W9:()=>A,ML:()=>_,xK:()=>T,AJ:()=>V,lR:()=>ae,Sy:()=>L,P$:()=>v,icons:()=>j,Nu:()=>S});var c=l("./packages/ckeditor5-utils/src/index.ts");class L extends(0,c.Re)(){constructor(D){super(),this._disableStack=new Set,this.editor=D,this.set("isEnabled",!0)}forceDisabled(D){this._disableStack.add(D),this._disableStack.size==1&&(this.on("set:isEnabled",B,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(D){this._disableStack.delete(D),this._disableStack.size==0&&(this.off("set:isEnabled",B),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function B(Z){Z.return=!1,Z.stop()}class y extends(0,c.Re)(){constructor(D){super(),this.editor=D,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(D,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",oe=>{if(!this.affectsData)return;const Se=D.model.document.selection,je=Se.getFirstPosition().root.rootName!="$graveyard"&&D.model.canEditAt(Se);(D.isReadOnly||this._isEnabledBasedOnSelection&&!je)&&(oe.return=!1,oe.stop())},{priority:"highest"}),this.on("execute",oe=>{this.isEnabled||oe.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(D){this._affectsData=D}refresh(){this.isEnabled=!0}forceDisabled(D){this._disableStack.add(D),this._disableStack.size==1&&(this.on("set:isEnabled",h,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(D){this._disableStack.delete(D),this._disableStack.size==0&&(this.off("set:isEnabled",h),this.refresh())}execute(...D){}destroy(){this.stopListening()}}function h(Z){Z.return=!1,Z.stop()}class V extends y{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...D){const oe=this._getFirstEnabledCommand();return!!oe&&oe.execute(D)}registerChildCommand(D,oe={}){(0,c.VG)(this._childCommandsDefinitions,{command:D,priority:oe.priority||"normal"}),D.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const D=this._childCommandsDefinitions.find(({command:oe})=>oe.isEnabled);return D&&D.command}}class q extends(0,c.ln)(){constructor(D,oe=[],Se=[]){super(),this._plugins=new Map,this._context=D,this._availablePlugins=new Map;for(const je of oe)je.pluginName&&this._availablePlugins.set(je.pluginName,je);this._contextPlugins=new Map;for(const[je,Ie]of Se)this._contextPlugins.set(je,Ie),this._contextPlugins.set(Ie,je),je.pluginName&&this._availablePlugins.set(je.pluginName,je)}*[Symbol.iterator](){for(const D of this._plugins)typeof D[0]=="function"&&(yield D)}get(D){const oe=this._plugins.get(D);if(!oe){let Se=D;throw typeof D=="function"&&(Se=D.pluginName||D.name),new c.Bb("plugincollection-plugin-not-loaded",this._context,{plugin:Se})}return oe}has(D){return this._plugins.has(D)}init(D,oe=[],Se=[]){const je=this,Ie=this._context;(function ft(Ve,Te=new Set){Ve.forEach(Q=>{lt(Q)&&(Te.has(Q)||(Te.add(Q),Q.pluginName&&!je._availablePlugins.has(Q.pluginName)&&je._availablePlugins.set(Q.pluginName,Q),Q.requires&&ft(Q.requires,Te)))})})(D),bt(D);const De=[...function ft(Ve,Te=new Set){return Ve.map(Q=>lt(Q)?Q:je._availablePlugins.get(Q)).reduce((Q,xe)=>Te.has(xe)?Q:(Te.add(xe),xe.requires&&(bt(xe.requires,xe),ft(xe.requires,Te).forEach(Oe=>Q.add(Oe))),Q.add(xe)),new Set)}(D.filter(ft=>!dt(ft,oe)))];(function(ft,Ve){for(const Te of Ve){if(typeof Te!="function")throw new c.Bb("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Te});const Q=Te.pluginName;if(!Q)throw new c.Bb("plugincollection-replace-plugin-missing-name",null,{pluginItem:Te});if(Te.requires&&Te.requires.length)throw new c.Bb("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Q});const xe=je._availablePlugins.get(Q);if(!xe)throw new c.Bb("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Q});const Oe=ft.indexOf(xe);if(Oe===-1){if(je._contextPlugins.has(xe))return;throw new c.Bb("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Q})}if(xe.requires&&xe.requires.length)throw new c.Bb("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Q});ft.splice(Oe,1,Te),je._availablePlugins.set(Q,Te)}})(De,Se);const mt=De.map(ft=>{let Ve=je._contextPlugins.get(ft);return Ve=Ve||new ft(Ie),je._add(ft,Ve),Ve});return Qe(mt,"init").then(()=>Qe(mt,"afterInit")).then(()=>mt);function lt(ft){return typeof ft=="function"}function ut(ft){return lt(ft)&&!!ft.isContextPlugin}function dt(ft,Ve){return Ve.some(Te=>Te===ft||vt(ft)===Te||vt(Te)===ft)}function vt(ft){return lt(ft)?ft.pluginName||ft.name:ft}function bt(ft,Ve=null){ft.map(Te=>lt(Te)?Te:je._availablePlugins.get(Te)||Te).forEach(Te=>{(function(Q,xe){if(!lt(Q))throw xe?new c.Bb("plugincollection-soft-required",Ie,{missingPlugin:Q,requiredBy:vt(xe)}):new c.Bb("plugincollection-plugin-not-found",Ie,{plugin:Q})})(Te,Ve),function(Q,xe){if(ut(xe)&&!ut(Q))throw new c.Bb("plugincollection-context-required",Ie,{plugin:vt(Q),requiredBy:vt(xe)})}(Te,Ve),function(Q,xe){if(xe&&dt(Q,oe))throw new c.Bb("plugincollection-required",Ie,{plugin:vt(Q),requiredBy:vt(xe)})}(Te,Ve)})}function Qe(ft,Ve){return ft.reduce((Te,Q)=>Q[Ve]?je._contextPlugins.has(Q)?Te:Te.then(Q[Ve].bind(Q)):Te,Promise.resolve())}}destroy(){const D=[];for(const[,oe]of this)typeof oe.destroy!="function"||this._contextPlugins.has(oe)||D.push(oe.destroy());return Promise.all(D)}_add(D,oe){this._plugins.set(D,oe);const Se=D.pluginName;if(Se){if(this._plugins.has(Se))throw new c.Bb("plugincollection-plugin-name-conflict",null,{pluginName:Se,plugin1:this._plugins.get(Se).constructor,plugin2:D});this._plugins.set(Se,oe)}}}class Y{constructor(D){this._contextOwner=null,this.config=new c.De(D,this.constructor.defaultConfig);const oe=this.constructor.builtinPlugins;this.config.define("plugins",oe),this.plugins=new q(this,oe);const Se=this.config.get("language")||{};this.locale=new c.go({uiLanguage:typeof Se=="string"?Se:Se.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new c.FE}initPlugins(){const D=this.config.get("plugins")||[],oe=this.config.get("substitutePlugins")||[];for(const Se of D.concat(oe)){if(typeof Se!="function")throw new c.Bb("context-initplugins-constructor-only",null,{Plugin:Se});if(Se.isContextPlugin!==!0)throw new c.Bb("context-initplugins-invalid-plugin",null,{Plugin:Se})}return this.plugins.init(D,[],oe)}destroy(){return Promise.all(Array.from(this.editors,D=>D.destroy())).then(()=>this.plugins.destroy())}_addEditor(D,oe){if(this._contextOwner)throw new c.Bb("context-addeditor-private-context");this.editors.add(D),oe&&(this._contextOwner=D)}_removeEditor(D){return this.editors.has(D)&&this.editors.remove(D),this._contextOwner===D?this.destroy():Promise.resolve()}_getEditorConfig(){const D={};for(const oe of this.config.names())["plugins","removePlugins","extraPlugins"].includes(oe)||(D[oe]=this.config.get(oe));return D}static create(D){return new Promise(oe=>{const Se=new this(D);oe(Se.initPlugins().then(()=>Se))})}}class ee extends(0,c.Re)(){constructor(D){super(),this.context=D}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class re extends c.VD{constructor(D){super(),this.editor=D}set(D,oe,Se={}){if(typeof oe=="string"){const je=oe;oe=(Ie,De)=>{this.editor.execute(je),De()}}super.set(D,oe,Se)}}var ie=l("./packages/ckeditor5-engine/src/index.ts");class u{constructor(){this._commands=new Map}add(D,oe){this._commands.set(D,oe)}get(D){return this._commands.get(D)}execute(D,...oe){const Se=this.get(D);if(!Se)throw new c.Bb("commandcollection-command-not-found",this,{commandName:D});return Se.execute(...oe)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const D of this.commands())D.destroy()}}class _ extends(0,c.Re)(){constructor(D={}){super();const oe=this.constructor,Se=D.language||oe.defaultConfig&&oe.defaultConfig.language;this._context=D.context||new Y({language:Se}),this._context._addEditor(this,!D.context);const je=Array.from(oe.builtinPlugins||[]);this.config=new c.De(D,oe.defaultConfig),this.config.define("plugins",je),this.config.define(this._context._getEditorConfig()),this.plugins=new q(this,je,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new u,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new ie.Hn,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const Ie=new ie.A_;this.data=new ie.Yc(this.model,Ie),this.editing=new ie.jH(this.model,Ie),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ie.uz([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new re(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(D){throw new c.Bb("editor-isreadonly-has-no-setter")}enableReadOnlyMode(D){if(typeof D!="string"&&typeof D!="symbol")throw new c.Bb("editor-read-only-lock-id-invalid",null,{lockId:D});this._readOnlyLocks.has(D)||(this._readOnlyLocks.add(D),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(D){if(typeof D!="string"&&typeof D!="symbol")throw new c.Bb("editor-read-only-lock-id-invalid",null,{lockId:D});this._readOnlyLocks.has(D)&&(this._readOnlyLocks.delete(D),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const D=this.config,oe=D.get("plugins"),Se=D.get("removePlugins")||[],je=D.get("extraPlugins")||[],Ie=D.get("substitutePlugins")||[];return this.plugins.init(oe.concat(je),Se,Ie)}destroy(){let D=Promise.resolve();return this.state=="initializing"&&(D=new Promise(oe=>this.once("ready",oe))),D.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(D,...oe){try{return this.commands.execute(D,...oe)}catch(Se){c.Bb.rethrowUnexpectedError(Se,this)}}focus(){this.editing.view.focus()}static create(...D){throw new Error("This is an abstract method.")}}var p=l("./node_modules/lodash-es/isFunction.js");function v(Z){if(!(0,p.Z)(Z.updateSourceElement))throw new c.Bb("attachtoform-missing-elementapi-interface",Z);const D=Z.sourceElement;if(function(oe){return!!oe&&oe.tagName.toLowerCase()==="textarea"}(D)&&D.form){let oe;const Se=D.form,je=()=>Z.updateSourceElement();(0,p.Z)(Se.submit)&&(oe=Se.submit,Se.submit=()=>{je(),oe.apply(Se)}),Se.addEventListener("submit",je),Z.on("destroy",()=>{Se.removeEventListener("submit",je),oe&&(Se.submit=oe)})}}function A(Z){return class extends Z{setData(D){this.data.set(D)}getData(D){return this.data.get(D)}}}{const Z=A(Object);A.setData=Z.prototype.setData,A.getData=Z.prototype.getData}function T(Z){return class extends Z{updateSourceElement(D){if(!this.sourceElement)throw new c.Bb("editor-missing-sourceelement",this);const oe=this.config.get("updateSourceElementOnDestroy"),Se=this.sourceElement instanceof HTMLTextAreaElement;if(!oe&&!Se)return void(0,c.jS)(this.sourceElement,"");const je=typeof D=="string"?D:this.data.get();(0,c.jS)(this.sourceElement,je)}}}function S(Z,D){if(D.ckeditorInstance)throw new c.Bb("editor-source-element-already-used",Z);D.ckeditorInstance=Z,Z.once("destroy",()=>{delete D.ckeditorInstance})}T.updateSourceElement=T(Object).prototype.updateSourceElement;class ae extends ee{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new c.FE({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(D){if(typeof D!="string")throw new c.Bb("pendingactions-add-invalid-message",this);const oe=new((0,c.Re)());return oe.set("message",D),this._actions.add(oe),this.hasAny=!0,oe}remove(D){this._actions.remove(D),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}var $=l("./packages/ckeditor5-core/theme/icons/cancel.svg"),z=l("./packages/ckeditor5-core/theme/icons/check.svg"),f=l("./packages/ckeditor5-core/theme/icons/eraser.svg");const j={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:$.Z,caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:z.Z,cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:f.Z,history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v12.862c0 .64-.532 1.038-1.184 1.038H2.184C1.532 16 1 15.603 1 14.962V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.129 2.129 0 0 1 .157-2.364 2.133 2.133 0 1 1-.157 2.363Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.2 1C.536 1 0 1.47 0 2.1v12.863C0 15.603.547 16 1.199 16h6.3c.908-1.19 1.892-2.41 2.8-3.6L6.615 9.15a.694.694 0 0 0-.957-.033L1.5 13.5v-11h15v6c.6.6 1.012.857 1.5 1.5V2.1c0-.63-.55-1.1-1.201-1.1h-15.6Zm11.724 2.805a2.133 2.133 0 0 0-.998.283 2.129 2.129 0 0 0-.992 1.295c-.074.27-.095.55-.057.828a2.136 2.136 0 0 0 1.56 1.783 2.13 2.13 0 0 0 2.612-1.506 2.129 2.129 0 0 0-2.125-2.683Z"/><path d="M15.208 19.011c.436 0 .79-.327.79-.763v-5.4l2.059 2.455a.79.79 0 0 0 1.212-1.015l-3.352-3.995a.79.79 0 0 0-.996-.179.786.786 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017L14.5 12.9v5.3c0 .437.272.811.709.811Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.54 1 0 1.47 0 2.1v12.86c0 .64.448 1.029 1.1 1.039h6.4v-6l-.885-.85a.692.692 0 0 0-.955-.033L1.5 13.5v-11h15V10H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.129 2.129 0 0 0-1.621.832A2.125 2.125 0 0 0 11.146 7a2.13 2.13 0 0 0 3.905-.512 2.135 2.135 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.367-.44Z"/><path clip-rule="evenodd" d="M19.5 12.5v6.156c0 .224-.192.439-.35.597a.844.844 0 0 1-.597.247H9.834a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.532c.223 0 .476.049.634.207l1 .793h4.5c.224 0 .491.214.65.372.158.158.35.404.35.628ZM18 13h-4.5l-1-1h-2v6H18v-5Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_355_284)"><path d="M1.201 1C.54 1 0 1.47 0 2.1v12.863C0 15.603.548 16 1.2 16H8c.022-1.034.222-1.961.783-2.9L9.5 12 6.617 9.15a.694.694 0 0 0-.957-.033L1.5 13.5v-11h15v5.8c.58.188 1.012.43 1.5.8v-7c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.133 2.133 0 0 0-.996.283 2.131 2.131 0 0 0-.994 1.295 2.136 2.136 0 0 0 1.506 2.611 2.13 2.13 0 0 0 2.61-1.505 2.128 2.128 0 0 0-2.126-2.684Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.649.649 0 0 0-.096.493.665.665 0 0 0 .278.417.7.7 0 0 0 .944-.233 1.741 1.741 0 0 1 2.478-.464 1.869 1.869 0 0 1 .476 2.55.634.634 0 0 0-.071.5.648.648 0 0 0 .309.397.628.628 0 0 0 .869-.19l.027-.042a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.781-.044.065a3.228 3.228 0 0 0 .82 4.404 3.005 3.005 0 0 0 4.275-.799l.13-.196a.626.626 0 0 0 .092-.475.642.642 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.028a1.742 1.742 0 0 1-2.477.462 1.87 1.87 0 0 1-.476-2.551l.03-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.407l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.837-.19-1.067-.346-.229-.82-.123-1.059.237l-1.268 1.907c-.239.36-.153.837.192 1.066.345.23.818.124 1.057-.236l1.268-1.907Z"/></g><defs><clipPath id="clip0_355_284"><rect width="20" height="20"/></clipPath></defs></svg>',lowVision:`<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>
`,textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M.91 10.488A.909.909 0 0 0 0 11.4v6.877c0 .505.405.91.91.91h18.178a.909.909 0 0 0 .912-.91V11.4a.91.91 0 0 0-.912-.912H.91Zm2.758 1.5h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516l2.152-5.7Zm4.947 0h1.801v4.3h2.7v1.4h-4.5v-5.7Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9v-1.4Zm-8.517 1.457-.614 2.059h1.262l-.648-2.06Z"/><path d="M3.035 0C2.446 0 2 .54 2 1.098V9.5h1.5v-8h13v8H18V1.098C18 .539 17.48 0 16.9 0H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.894 1.894 0 0 0-.376 1.396 1.89 1.89 0 0 0 1.387 1.58c.485.13 1.004.063 1.439-.187a1.887 1.887 0 0 0-1.008-3.526ZM7.463 7.163a.611.611 0 0 0-.432.154L5.071 9.5h5.119L7.88 7.348a.627.627 0 0 0-.417-.184Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 9.5h2.969l-.92-1.113a.617.617 0 0 0-.42-.164Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'}},"./packages/ckeditor5-engine/src/index.ts":(w,C,l)=>{"use strict";l.d(C,{kW:()=>di,Yy:()=>jn,r7:()=>Ce,KU:()=>Ca,uz:()=>Fe,Yc:()=>Me,tn:()=>to,f4:()=>ei,uj:()=>vn,pG:()=>k,dK:()=>he,qZ:()=>ve,qD:()=>In,jH:()=>gs,W_:()=>ln,DX:()=>qr,Ay:()=>Ps,X5:()=>le,IZ:()=>On,jP:()=>dr,iE:()=>cn,zj:()=>cr,xO:()=>j,lB:()=>Sn,Hn:()=>xa,dM:()=>Ta,$z:()=>dn,Pk:()=>Hn,Qj:()=>ce,Bz:()=>js,Ly:()=>Xt,e6:()=>Bt,sN:()=>gr,Th:()=>Pn,_o:()=>Wr,tF:()=>Br,qh:()=>pn,A_:()=>yi,aY:()=>Ji,xv:()=>an,R:()=>Wn,Po:()=>wr,yj:()=>Aa,G7:()=>Cr,m1:()=>di,By:()=>Zt,Ux:()=>ki,y_:()=>En,W2:()=>Ne,y9:()=>Mi,pc:()=>Gi,wx:()=>qn,FY:()=>X,Xj:()=>$,rh:()=>se,dq:()=>$i,QR:()=>Ha,sI:()=>Ua,vt:()=>Za,J8:()=>$a,DA:()=>ee,ID:()=>Y,KT:()=>Os,I8:()=>fa,mq:()=>us,oz:()=>ds,YG:()=>wn,m0:()=>sa,uT:()=>Zs,$_:()=>ie,SB:()=>ga,D5:()=>ca,G9:()=>ua,IT:()=>da,zz:()=>Na,WK:()=>ma,Zb:()=>ha,PX:()=>pa,Q7:()=>u,NJ:()=>re,Rf:()=>Gs});var c=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),L=l.n(c),B=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/placeholder.css"),y={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(B.Z,y),B.Z.locals;var h=l("./packages/ckeditor5-utils/src/index.ts");const V=new WeakMap;let q=!1;function Y({view:n,element:e,text:t,isDirectHost:i=!0,keepOnFocus:r=!1}){const a=n.document;function x(W){V.get(a).set(e,{text:W,isDirectHost:i,keepOnFocus:r,hostElement:i?e:null}),n.change(de=>_(a,de))}V.has(a)||(V.set(a,new Map),a.registerPostFixer(W=>_(a,W)),a.on("change:isComposing",()=>{n.change(W=>_(a,W))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(W,de,ke)=>{x(ke)}),e.placeholder?x(e.placeholder):t&&x(t),t&&function(){q||(0,h.KE)("enableplaceholder-deprecated-text-option"),q=!0}()}function ee(n,e){const t=e.document;V.has(t)&&n.change(i=>{const r=V.get(t),a=r.get(e);i.removeAttribute("data-placeholder",a.hostElement),ie(i,a.hostElement),r.delete(e)})}function re(n,e){return!e.hasClass("ck-placeholder")&&(n.addClass("ck-placeholder",e),!0)}function ie(n,e){return!!e.hasClass("ck-placeholder")&&(n.removeClass("ck-placeholder",e),!0)}function u(n,e){if(!n.isAttached()||Array.from(n.getChildren()).some(r=>!r.is("uiElement")))return!1;const t=n.document,i=t.selection.anchor;return(!t.isComposing||!i||i.parent!==n)&&(!!e||!t.isFocused||!!i&&i.parent!==n)}function _(n,e){const t=V.get(n),i=[];let r=!1;for(const[a,x]of t)x.isDirectHost&&(i.push(a),p(e,a,x)&&(r=!0));for(const[a,x]of t){if(x.isDirectHost)continue;const W=v(a);W&&(i.includes(W)||(x.hostElement=W,p(e,a,x)&&(r=!0)))}return r}function p(n,e,t){const{text:i,isDirectHost:r,hostElement:a}=t;let x=!1;return a.getAttribute("data-placeholder")!==i&&(n.setAttribute("data-placeholder",i,a),x=!0),(r||e.childCount==1)&&u(a,t.keepOnFocus)?re(n,a)&&(x=!0):ie(n,a)&&(x=!0),x}function v(n){if(n.childCount){const e=n.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class A{is(){throw new Error("is() method is abstract")}}var T=l("./node_modules/lodash-es/_baseClone.js");const S=function(n){return(0,T.Z)(n,4)};l("./packages/ckeditor5-utils/src/version.ts");class ae extends(0,h.ln)(A){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new h.Bb("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),r=e.getAncestors(t);let a=0;for(;i[a]==r[a]&&i[a];)a++;return a===0?null:i[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),r=(0,h.Rt)(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=S(this);return delete e.parent,e}}ae.prototype.is=function(n){return n==="node"||n==="view:node"};class $ extends ae{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof $&&(this===e||this.data===e.data)}_clone(){return new $(this.document,this.data)}}$.prototype.is=function(n){return n==="$text"||n==="view:$text"||n==="text"||n==="view:text"||n==="node"||n==="view:node"};class z extends A{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.data.length)throw new h.Bb("view-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.data.length)throw new h.Bb("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let i=e.includeSelf?this.textNode:this.parent;for(;i!==null;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}}z.prototype.is=function(n){return n==="$textProxy"||n==="view:$textProxy"||n==="textProxy"||n==="view:textProxy"};var f=l("./node_modules/lodash-es/isPlainObject.js");class j{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const i of this._patterns){const r=Z(t,i);if(r)return{element:t,pattern:i,match:r}}return null}matchAll(...e){const t=[];for(const i of e)for(const r of this._patterns){const a=Z(i,r);a&&t.push({element:i,pattern:r,match:a})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function Z(n,e){if(typeof e=="function")return e(n);const t={};return e.name&&(t.name=function(i,r){return i instanceof RegExp?!!r.match(i):i===r}(e.name,n.name),!t.name)||e.attributes&&(t.attributes=function(i,r){const a=new Set(r.getAttributeKeys());return(0,f.Z)(i)?(i.style!==void 0&&(0,h.KE)("matcher-pattern-deprecated-attributes-style-key",i),i.class!==void 0&&(0,h.KE)("matcher-pattern-deprecated-attributes-class-key",i)):(a.delete("style"),a.delete("class")),D(i,a,x=>r.getAttribute(x))}(e.attributes,n),!t.attributes)||e.classes&&(t.classes=function(i,r){return D(i,r.getClassNames(),()=>{})}(e.classes,n),!t.classes)||e.styles&&(t.styles=function(i,r){return D(i,r.getStyleNames(!0),a=>r.getStyle(a))}(e.styles,n),!t.styles)?null:t}function D(n,e,t){const i=function(x){return Array.isArray(x)?x.map(W=>(0,f.Z)(W)?(W.key!==void 0&&W.value!==void 0||(0,h.KE)("matcher-pattern-missing-key-or-value",W),[W.key,W.value]):[W,!0]):(0,f.Z)(x)?Object.entries(x):[[x,!0]]}(n),r=Array.from(e),a=[];if(i.forEach(([x,W])=>{r.forEach(de=>{(function(ke,Ee){return ke===!0||ke===Ee||ke instanceof RegExp&&Ee.match(ke)})(x,de)&&function(ke,Ee,Ze){if(ke===!0)return!0;const rt=Ze(Ee);return ke===rt||ke instanceof RegExp&&!!String(rt).match(ke)}(W,de,t)&&a.push(de)})}),i.length&&!(a.length<i.length))return a}var oe=l("./node_modules/lodash-es/isObject.js"),Se=l("./node_modules/lodash-es/isArray.js"),je=l("./node_modules/lodash-es/isSymbol.js"),Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/;const mt=function(n,e){if((0,Se.Z)(n))return!1;var t=typeof n;return!(t!="number"&&t!="symbol"&&t!="boolean"&&n!=null&&!(0,je.Z)(n))||De.test(n)||!Ie.test(n)||e!=null&&n in Object(e)};var lt=l("./node_modules/lodash-es/_MapCache.js");function ut(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=t.cache;if(a.has(r))return a.get(r);var x=n.apply(this,i);return t.cache=a.set(r,x)||a,x};return t.cache=new(ut.Cache||lt.Z),t}ut.Cache=lt.Z;const dt=ut;var vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bt=/\\(\\)?/g;const Qe=function(n){var e=dt(n,function(i){return t.size===500&&t.clear(),i}),t=e.cache;return e}(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(vt,function(t,i,r,a){e.push(r?a.replace(bt,"$1"):i||t)}),e});var ft=l("./node_modules/lodash-es/toString.js");const Ve=function(n,e){return(0,Se.Z)(n)?n:mt(n,e)?[n]:Qe((0,ft.Z)(n))},Te=function(n){var e=n==null?0:n.length;return e?n[e-1]:void 0},Q=function(n){if(typeof n=="string"||(0,je.Z)(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e},xe=function(n,e){for(var t=0,i=(e=Ve(e,n)).length;n!=null&&t<i;)n=n[Q(e[t++])];return t&&t==i?n:void 0},Oe=function(n,e,t){var i=-1,r=n.length;e<0&&(e=-e>r?0:r+e),(t=t>r?r:t)<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(r);++i<r;)a[i]=n[i+e];return a},Je=function(n,e){return e.length<2?n:xe(n,Oe(e,0,-1))},$e=function(n,e){return e=Ve(e,n),(n=Je(n,e))==null||delete n[Q(Te(e))]},tt=function(n,e){return n==null||$e(n,e)},st=function(n,e,t){var i=n==null?void 0:xe(n,e);return i===void 0?t:i};var Pt=l("./node_modules/lodash-es/_Stack.js"),Ft=l("./node_modules/lodash-es/_baseAssignValue.js"),Gt=l("./node_modules/lodash-es/eq.js");const ui=function(n,e,t){(t!==void 0&&!(0,Gt.Z)(n[e],t)||t===void 0&&!(e in n))&&(0,Ft.Z)(n,e,t)},Vt=function(n){return function(e,t,i){for(var r=-1,a=Object(e),x=i(e),W=x.length;W--;){var de=x[n?W:++r];if(t(a[de],de,a)===!1)break}return e}}();var ti=l("./node_modules/lodash-es/_cloneBuffer.js"),hi=l("./node_modules/lodash-es/_cloneTypedArray.js"),Ci=l("./node_modules/lodash-es/_copyArray.js"),Oi=l("./node_modules/lodash-es/_initCloneObject.js"),Di=l("./node_modules/lodash-es/isArguments.js"),Vi=l("./node_modules/lodash-es/isArrayLike.js"),Pi=l("./node_modules/lodash-es/isObjectLike.js");const Zi=function(n){return(0,Pi.Z)(n)&&(0,Vi.Z)(n)};var at=l("./node_modules/lodash-es/isBuffer.js"),ue=l("./node_modules/lodash-es/isFunction.js"),ye=l("./node_modules/lodash-es/isTypedArray.js");const Le=function(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]};var Ge=l("./node_modules/lodash-es/_copyObject.js"),ot=l("./node_modules/lodash-es/keysIn.js");const gt=function(n){return(0,Ge.Z)(n,(0,ot.Z)(n))},Lt=function(n,e,t,i,r,a,x){var W=Le(n,t),de=Le(e,t),ke=x.get(de);if(ke)ui(n,t,ke);else{var Ee=a?a(W,de,t+"",n,e,x):void 0,Ze=Ee===void 0;if(Ze){var rt=(0,Se.Z)(de),jt=!rt&&(0,at.Z)(de),qt=!rt&&!jt&&(0,ye.Z)(de);Ee=de,rt||jt||qt?(0,Se.Z)(W)?Ee=W:Zi(W)?Ee=(0,Ci.Z)(W):jt?(Ze=!1,Ee=(0,ti.Z)(de,!0)):qt?(Ze=!1,Ee=(0,hi.Z)(de,!0)):Ee=[]:(0,f.Z)(de)||(0,Di.Z)(de)?(Ee=W,(0,Di.Z)(W)?Ee=gt(W):(0,oe.Z)(W)&&!(0,ue.Z)(W)||(Ee=(0,Oi.Z)(de))):Ze=!1}Ze&&(x.set(de,Ee),r(Ee,de,i,a,x),x.delete(de)),ui(n,t,Ee)}},Ot=function n(e,t,i,r,a){e!==t&&Vt(t,function(x,W){if(a||(a=new Pt.Z),(0,oe.Z)(x))Lt(e,t,W,i,n,r,a);else{var de=r?r(Le(e,W),x,W+"",e,t,a):void 0;de===void 0&&(de=x),ui(e,W,de)}},ot.Z)},Ut=(0,l("./node_modules/lodash-es/_createAssigner.js").Z)(function(n,e,t){Ot(n,e,t)});var oi=l("./node_modules/lodash-es/_assignValue.js"),ri=l("./node_modules/lodash-es/_isIndex.js");const wi=function(n,e,t,i){if(!(0,oe.Z)(n))return n;for(var r=-1,a=(e=Ve(e,n)).length,x=a-1,W=n;W!=null&&++r<a;){var de=Q(e[r]),ke=t;if(de==="__proto__"||de==="constructor"||de==="prototype")return n;if(r!=x){var Ee=W[de];(ke=i?i(Ee,de,W):void 0)===void 0&&(ke=(0,oe.Z)(Ee)?Ee:(0,ri.Z)(e[r+1])?[]:{})}(0,oi.Z)(W,de,ke),W=W[de]}return n},Ii=function(n,e,t){return n==null?n:wi(n,e,t)};class Li{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(i){let r=null,a=0,x=0,W=null;const de=new Map;if(i==="")return de;i.charAt(i.length-1)!=";"&&(i+=";");for(let ke=0;ke<i.length;ke++){const Ee=i.charAt(ke);if(r===null)switch(Ee){case":":W||(W=i.substr(a,ke-a),x=ke+1);break;case'"':case"'":r=Ee;break;case";":{const Ze=i.substr(x,ke-x);W&&de.set(W.trim(),Ze.trim()),W=null,a=ke+1;break}}else Ee===r&&(r=null)}return de}(e);for(const[i,r]of t)this._styleProcessor.toNormalizedForm(i,r,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)}set(e,t){if((0,oe.Z)(e))for(const[i,r]of Object.entries(e))this._styleProcessor.toNormalizedForm(i,r,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=ji(e);tt(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!(0,oe.Z)(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const i of t)e.push(...this._styleProcessor.getReducedForm(i,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),r=st(this._styles,i);r&&!Object.keys(r).length&&this.remove(i)}}class yi{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,i){if((0,oe.Z)(t))Ki(i,ji(e),t);else if(this._normalizers.has(e)){const r=this._normalizers.get(e),{path:a,value:x}=r(t);Ki(i,a,x)}else Ki(i,e,t)}getNormalized(e,t){if(!e)return Ut({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i=="string")return st(t,i);const r=i(e,t);if(r)return r}return st(t,ji(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);return i===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(i):[[e,i]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(r=>{const a=this.getNormalized(r,e);return a&&typeof a=="object"?Object.keys(a).length:a}),i=new Set([...t,...Object.keys(e)]);return Array.from(i)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t)this._mapStyleNames(i,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function ji(n){return n.replace("-",".")}function Ki(n,e,t){let i=t;(0,oe.Z)(t)&&(i=Ut({},st(n,e),t)),Ii(n,e,i)}class Mi extends ae{constructor(e,t,i,r){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(a){const x=(0,h.qL)(a);for(const[W,de]of x)de===null?x.delete(W):typeof de!="string"&&x.set(W,String(de));return x}(i),this._children=[],r&&this._insertChild(0,r),this._classes=new Set,this._attrs.has("class")){const a=this._attrs.get("class");tn(this._classes,a),this._attrs.delete("class")}this._styles=new Li(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Mi))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,i]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==i)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new j(...e);let i=this.parent;for(;i&&!i.is("documentFragment");){if(t.match(i))return i;i=i.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),i=Array.from(this._attrs).map(r=>`${r[0]}="${r[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(i==""?"":` ${i}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const r of this.getChildren())t.push(r._clone(e));const i=new this.constructor(this.document,this.name,this._attrs,t);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._unsafeAttributesToRender=this._unsafeAttributesToRender,i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const r=function(a,x){return typeof x=="string"?[new $(a,x)]:((0,h.TW)(x)||(x=[x]),Array.from(x).map(W=>typeof W=="string"?new $(a,W):W instanceof z?new $(a,W.data):W))}(this.document,t);for(const a of r)a.parent!==null&&a._remove(),a.parent=this,a.document=this.document,this._children.splice(e,0,a),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const i=String(t);this._fireChange("attributes",this),e=="class"?tn(this._classes,i):e=="style"?this._styles.setTo(i):this._attrs.set(e,i)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of(0,h.qo)(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function tn(n,e){const t=e.split(/\s+/);n.clear(),t.forEach(i=>n.add(i))}Mi.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="view:element"):n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Zt extends Mi{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=wn}}function wn(){const n=[...this.getChildren()],e=n[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of n)if(!t.is("uiElement"))return null;return this.childCount}Zt.prototype.is=function(n,e){return e?e===this.name&&(n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Ne extends(0,h.Re)(Zt){constructor(e,t,i,r){super(e,t,i,r),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",a=>a&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Ne.prototype.is=function(n,e){return e?e===this.name&&(n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};const H=Symbol("rootName");class X extends Ne{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(H)}set rootName(e){this._setCustomProperty(H,e)}set _name(e){this.name=e}}X.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"):n==="rootElement"||n==="view:rootElement"||n==="editableElement"||n==="view:editableElement"||n==="containerElement"||n==="view:containerElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class se{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new h.Bb("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new h.Bb("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=be._createAt(e.startPosition):this._position=be._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i;do i=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=i)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===i.childCount)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let r;if(i instanceof $){if(e.isAtEnd)return this._position=be._createAfter(i),this._next();r=i.data[e.offset]}else r=i.getChild(e.offset);if(r instanceof Mi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new be(r,0);return this._position=e,this._formatReturnValue("elementStart",r,t,e,1)}if(r instanceof $){if(this.singleCharacters)return e=new be(r,0),this._position=e,this._next();let a,x=r.data.length;return r==this._boundaryEndParent?(x=this.boundaries.end.offset,a=new z(r,0,x),e=be._createAfter(a)):(a=new z(r,0,r.data.length),e.offset++),this._position=e,this._formatReturnValue("text",a,t,e,x)}if(typeof r=="string"){let a;this.singleCharacters?a=1:a=(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-e.offset;const x=new z(i,e.offset,a);return e.offset+=a,this._position=e,this._formatReturnValue("text",x,t,e,a)}return e=be._createAfter(i),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,t,e)}_previous(){let e=this.position.clone();const t=this.position,i=e.parent;if(i.parent===null&&e.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let r;if(i instanceof $){if(e.isAtStart)return this._position=be._createBefore(i),this._previous();r=i.data[e.offset-1]}else r=i.getChild(e.offset-1);if(r instanceof Mi)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",r,t,e,1)):(e=new be(r,r.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",r,t,e));if(r instanceof $){if(this.singleCharacters)return e=new be(r,r.data.length),this._position=e,this._previous();let a,x=r.data.length;if(r==this._boundaryStartParent){const W=this.boundaries.start.offset;a=new z(r,W,r.data.length-W),x=a.data.length,e=be._createBefore(a)}else a=new z(r,0,r.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",a,t,e,x)}if(typeof r=="string"){let a;if(this.singleCharacters)a=1;else{const W=i===this._boundaryStartParent?this.boundaries.start.offset:0;a=e.offset-W}e.offset-=a;const x=new z(i,e.offset,a);return this._position=e,this._formatReturnValue("text",x,t,e,a)}return e=be._createBefore(i),this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}_formatReturnValue(e,t,i,r,a){return t instanceof z&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?i=be._createAfter(t.textNode):(r=be._createAfter(t.textNode),this._position=r)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?i=be._createBefore(t.textNode):(r=be._createBefore(t.textNode),this._position=r))),{done:!1,value:{type:e,item:t,previousPosition:i,nextPosition:r,length:a}}}}class be extends A{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Ne);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=be._createAt(this),i=t.offset+e;return t.offset=i<0?0:i,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new se(t);return i.skip(e),i.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),i.push(e.offset);const r=(0,h.Rt)(t,i);switch(r){case"prefix":return"before";case"extension":return"after";default:return t[r]<i[r]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new se(e)}clone(){return new be(this.parent,this.offset)}static _createAt(e,t){if(e instanceof be)return new this(e.parent,e.offset);{const i=e;if(t=="end")t=i.is("$text")?i.data.length:i.childCount;else{if(t=="before")return this._createBefore(i);if(t=="after")return this._createAfter(i);if(t!==0&&!t)throw new h.Bb("view-createpositionat-offset-required",i)}return new be(i,t)}}static _createAfter(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new h.Bb("view-position-after-root",e,{root:e});return new be(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new be(e.textNode,e.offsetInText);if(!e.parent)throw new h.Bb("view-position-before-root",e,{root:e});return new be(e.parent,e.index)}}be.prototype.is=function(n){return n==="position"||n==="view:position"};class ht extends A{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new se({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Rt,{direction:"backward"}),t=this.end.getLastMatchingPosition(Rt);return e.parent.is("$text")&&e.isAtStart&&(e=be._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=be._createAfter(t.parent)),new ht(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Rt);if(e.isAfter(this.end)||e.isEqual(this.end))return new ht(e,e);let t=this.end.getLastMatchingPosition(Rt,{direction:"backward"});const i=e.nodeAfter,r=t.nodeBefore;return i&&i.is("$text")&&(e=new be(i,0)),r&&r.is("$text")&&(t=new be(r,r.data.length)),new ht(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new ht(this.start,e.start)),this.containsPosition(e.end)&&t.push(new ht(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new ht(t,i)}return null}getWalker(e={}){return e.boundaries=this,new se(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new ht(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new se(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new se(e);yield t.position;for(const i of t)yield i.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,r){return new this(new be(e,t),new be(i,r))}static _createFromPositionAndShift(e,t){const i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(be._createBefore(e),t)}}function Rt(n){return!(!n.item.is("attributeElement")&&!n.item.is("uiElement"))}ht.prototype.is=function(n){return n==="range"||n==="view:range"};class Yt extends(0,h.ln)(A){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=(0,h.QX)(this.getRanges());if(t!=(0,h.QX)(e.getRanges()))return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let r=!1;for(let a of e.getRanges())if(a=a.getTrimmed(),i.start.isEqual(a.start)&&i.end.isEqual(a.end)){r=!0;break}if(!r)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]),this._setFakeOptions(r);else if(t instanceof Yt||t instanceof _t)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof ht)this._setRanges([t],r&&r.backward),this._setFakeOptions(r);else if(t instanceof be)this._setRanges([new ht(t)]),this._setFakeOptions(r);else if(t instanceof ae){const a=!!r&&!!r.backward;let x;if(i===void 0)throw new h.Bb("view-selection-setto-required-second-parameter",this);x=i=="in"?ht._createIn(t):i=="on"?ht._createOn(t):new ht(be._createAt(t,i)),this._setRanges([x],a),this._setFakeOptions(r)}else{if(!(0,h.TW)(t))throw new h.Bb("view-selection-setto-not-selectable",this);this._setRanges(t,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new h.Bb("view-selection-setfocus-no-ranges",this);const i=be._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.pop(),i.compareWith(r)=="before"?this._addRange(new ht(i,r),!0):this._addRange(new ht(r,i)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const i of e)this._addRange(i);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof ht))throw new h.Bb("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new h.Bb("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new ht(e.start,e.end))}}Yt.prototype.is=function(n){return n==="selection"||n==="view:selection"};class _t extends(0,h.ln)(A){constructor(...e){super(),this._selection=new Yt,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}_t.prototype.is=function(n){return n==="selection"||n=="documentSelection"||n=="view:selection"||n=="view:documentSelection"};class Ce extends h.M3{constructor(e,t,i){super(e,t),this.startRange=i,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const ze=Symbol("bubbling contexts");function nt(n){return class extends n{fire(e,...t){try{const i=e instanceof h.M3?e:new h.M3(this,e),r=ni(this);if(!r.size)return;if(Ke(i,"capturing",this),yt(r,"$capture",i,...t))return i.return;const a=i.startRange||this.selection.getFirstRange(),x=a?a.getContainedElement():null,W=!!x&&Boolean(si(r,x));let de=x||function(ke){if(!ke)return null;const Ee=ke.start.parent,Ze=ke.end.parent,rt=Ee.getPath(),jt=Ze.getPath();return rt.length>jt.length?Ee:Ze}(a);if(Ke(i,"atTarget",de),!W){if(yt(r,"$text",i,...t))return i.return;Ke(i,"bubbling",de)}for(;de;){if(de.is("rootElement")){if(yt(r,"$root",i,...t))return i.return}else if(de.is("element")&&yt(r,de.name,i,...t))return i.return;if(yt(r,de,i,...t))return i.return;de=de.parent,Ke(i,"bubbling",de)}return Ke(i,"bubbling",this),yt(r,"$document",i,...t),i.return}catch(i){h.Bb.rethrowUnexpectedError(i,this)}}_addEventListener(e,t,i){const r=(0,h.qo)(i.context||"$document"),a=ni(this);for(const x of r){let W=a.get(x);W||(W=new((0,h.ln)()),a.set(x,W)),this.listenTo(W,e,t,i)}}_removeEventListener(e,t){const i=ni(this);for(const r of i.values())this.stopListening(r,e,t)}}}{const n=nt(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{nt[e]=n.prototype[e]})}function Ke(n,e,t){n instanceof Ce&&(n._eventPhase=e,n._currentTarget=t)}function yt(n,e,t,...i){const r=typeof e=="string"?n.get(e):si(n,e);return!!r&&(r.fire(t,...i),t.stop.called)}function si(n,e){for(const[t,i]of n)if(typeof t=="function"&&t(e))return i;return null}function ni(n){return n[ze]||(n[ze]=new Map),n[ze]}class ki extends nt((0,h.Re)()){constructor(e){super(),this._postFixers=new Set,this.selection=new _t,this.roots=new h.FE({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(t=i(e),t)break;while(t)}}class di extends Mi{constructor(e,t,i,r){super(e,t,i,r),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Ti}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new h.Bb("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function Ti(){if(Ni(this))return null;let n=this.parent;for(;n&&n.is("attributeElement");){if(Ni(n)>1)return null;n=n.parent}return!n||Ni(n)>1?null:this.childCount}function Ni(n){return Array.from(n.getChildren()).filter(e=>!e.is("uiElement")).length}di.DEFAULT_PRIORITY=10,di.prototype.is=function(n,e){return e?e===this.name&&(n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"):n==="attributeElement"||n==="view:attributeElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class Gi extends Mi{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=rn}_insertChild(e,t){if(t&&(t instanceof ae||Array.from(t).length>0))throw new h.Bb("view-emptyelement-cannot-add",[this,t]);return 0}}function rn(){return null}Gi.prototype.is=function(n,e){return e?e===this.name&&(n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"):n==="emptyElement"||n==="view:emptyElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class $i extends Mi{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=kn}_insertChild(e,t){if(t&&(t instanceof ae||Array.from(t).length>0))throw new h.Bb("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const i of this.getAttributeKeys())t.setAttribute(i,this.getAttribute(i));return t}}function hn(n){n.document.on("arrowKey",(e,t)=>function(i,r,a){if(r.keyCode==h.Do.arrowright){const x=r.domTarget.ownerDocument.defaultView.getSelection(),W=x.rangeCount==1&&x.getRangeAt(0).collapsed;if(W||r.shiftKey){const de=x.focusNode,ke=x.focusOffset,Ee=a.domPositionToView(de,ke);if(Ee===null)return;let Ze=!1;const rt=Ee.getLastMatchingPosition(jt=>(jt.item.is("uiElement")&&(Ze=!0),!(!jt.item.is("uiElement")&&!jt.item.is("attributeElement"))));if(Ze){const jt=a.viewPositionToDom(rt);W?x.collapse(jt.parent,jt.offset):x.extend(jt.parent,jt.offset)}}}}(0,t,n.domConverter),{priority:"low"})}function kn(){return null}$i.prototype.is=function(n,e){return e?e===this.name&&(n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"):n==="uiElement"||n==="view:uiElement"||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class qn extends Mi{constructor(e,t,i,r){super(e,t,i,r),this.getFillerOffset=on}_insertChild(e,t){if(t&&(t instanceof ae||Array.from(t).length>0))throw new h.Bb("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function on(){return null}qn.prototype.is=function(n,e){return e?e===this.name&&(n==="rawElement"||n==="view:rawElement"||n==="element"||n==="view:element"):n==="rawElement"||n==="view:rawElement"||n===this.name||n==="view:"+this.name||n==="element"||n==="view:element"||n==="node"||n==="view:node"};class En extends(0,h.ln)(A){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const r=function(a,x){return typeof x=="string"?[new $(a,x)]:((0,h.TW)(x)||(x=[x]),Array.from(x).map(W=>typeof W=="string"?new $(a,W):W instanceof z?new $(a,W.data):W))}(this.document,t);for(const a of r)a.parent!==null&&a._remove(),a.parent=this,this._children.splice(e,0,a),e++,i++;return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++)this._children[i].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}En.prototype.is=function(n){return n==="documentFragment"||n==="view:documentFragment"};class In{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new En(this.document,e)}createText(e){return new $(this.document,e)}createAttributeElement(e,t,i={}){const r=new di(this.document,e,t);return typeof i.priority=="number"&&(r._priority=i.priority),i.id&&(r._id=i.id),i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createContainerElement(e,t,i={},r={}){let a=null;(0,f.Z)(i)?r=i:a=i;const x=new Zt(this.document,e,t,a);return r.renderUnsafeAttributes&&x._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),x}createEditableElement(e,t,i={}){const r=new Ne(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createEmptyElement(e,t,i={}){const r=new Gi(this.document,e,t);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createUIElement(e,t,i){const r=new $i(this.document,e,t);return i&&(r.render=i),r}createRawElement(e,t,i,r={}){const a=new qn(this.document,e,t);return i&&(a.render=i),r.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),a}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,f.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof be?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new h.Bb("view-writer-break-non-container-element",this.document);if(!t.parent)throw new h.Bb("view-writer-break-root",this.document);if(e.isAtStart)return be._createBefore(t);if(!e.isAtEnd){const i=t._clone(!1);this.insert(be._createAfter(t),i);const r=new ht(e,be._createAt(t,"end")),a=new be(i,0);this.move(r,a)}return be._createAfter(t)}mergeAttributes(e){const t=e.offset,i=e.parent;if(i.is("$text"))return e;if(i.is("attributeElement")&&i.childCount===0){const x=i.parent,W=i.index;return i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new be(x,W))}const r=i.getChild(t-1),a=i.getChild(t);if(!r||!a)return e;if(r.is("$text")&&a.is("$text"))return Ht(r,a);if(r.is("attributeElement")&&a.is("attributeElement")&&r.isSimilar(a)){const x=r.childCount;return r._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new be(r,x))}return e}mergeContainers(e){const t=e.nodeBefore,i=e.nodeAfter;if(!(t&&i&&t.is("containerElement")&&i.is("containerElement")))throw new h.Bb("view-writer-merge-containers-invalid-position",this.document);const r=t.getChild(t.childCount-1),a=r instanceof $?be._createAt(r,"end"):be._createAt(t,"end");return this.move(ht._createIn(i),be._createAt(t,"end")),this.remove(ht._createOn(i)),a}insert(e,t){Ae(t=(0,h.TW)(t)?[...t]:[t],this.document);const i=t.reduce((x,W)=>{const de=x[x.length-1],ke=!W.is("uiElement");return de&&de.breakAttributes==ke?de.nodes.push(W):x.push({breakAttributes:ke,nodes:[W]}),x},[]);let r=null,a=e;for(const{nodes:x,breakAttributes:W}of i){const de=this._insertNodes(a,x,W);r||(r=de.start),a=de.end}return r?new ht(r,a):new ht(e)}remove(e){const t=e instanceof ht?e:ht._createOn(e);if(Be(t,this.document),t.isCollapsed)return new En(this.document);const{start:i,end:r}=this._breakAttributesRange(t,!0),a=i.parent,x=r.offset-i.offset,W=a._removeChildren(i.offset,x);for(const ke of W)this._removeFromClonedElementsGroup(ke);const de=this.mergeAttributes(i);return t.start=de,t.end=de.clone(),new En(this.document,W)}clear(e,t){Be(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const r of i){const a=r.item;let x;if(a.is("element")&&t.isSimilar(a))x=ht._createOn(a);else if(!r.nextPosition.isAfter(e.start)&&a.is("$textProxy")){const W=a.getAncestors().find(de=>de.is("element")&&t.isSimilar(de));W&&(x=ht._createIn(W))}x&&(x.end.isAfter(e.end)&&(x.end=e.end),x.start.isBefore(e.start)&&(x.start=e.start),this.remove(x))}}move(e,t){let i;if(t.isAfter(e.end)){const r=(t=this._breakAttributes(t,!0)).parent,a=r.childCount;e=this._breakAttributesRange(e,!0),i=this.remove(e),t.offset+=r.childCount-a}else i=this.remove(e);return this.insert(t,i)}wrap(e,t){if(!(t instanceof di))throw new h.Bb("view-writer-wrap-invalid-attribute",this.document);if(Be(e,this.document),e.isCollapsed){let r=e.start;r.parent.is("element")&&(i=r.parent,!Array.from(i.getChildren()).some(x=>!x.is("uiElement")))&&(r=r.getLastMatchingPosition(x=>x.item.is("uiElement"))),r=this._wrapPosition(r,t);const a=this.document.selection;return a.isCollapsed&&a.getFirstPosition().isEqual(e.start)&&this.setSelection(r),new ht(r)}return this._wrapRange(e,t);var i}unwrap(e,t){if(!(t instanceof di))throw new h.Bb("view-writer-unwrap-invalid-attribute",this.document);if(Be(e,this.document),e.isCollapsed)return e;const{start:i,end:r}=this._breakAttributesRange(e,!0),a=i.parent,x=this._unwrapChildren(a,i.offset,r.offset,t),W=this.mergeAttributes(x.start);W.isEqual(x.start)||x.end.offset--;const de=this.mergeAttributes(x.end);return new ht(W,de)}rename(e,t){const i=new Zt(this.document,e,t.getAttributes());return this.insert(be._createAfter(t),i),this.move(ht._createIn(t),be._createAt(i,0)),this.remove(ht._createOn(t)),i}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Yt(...e)}createSlot(e="children"){if(!this._slotFactory)throw new h.Bb("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,i){let r,a;if(r=i?Yn(e):e.parent.is("$text")?e.parent.parent:e.parent,!r)throw new h.Bb("view-writer-invalid-position-container",this.document);a=i?this._breakAttributes(e,!0):e.parent.is("$text")?or(e):e;const x=r._insertChild(a.offset,t);for(const Ee of t)this._addToClonedElementsGroup(Ee);const W=a.getShiftedBy(x),de=this.mergeAttributes(a);de.isEqual(a)||W.offset--;const ke=this.mergeAttributes(W);return new ht(de,ke)}_wrapChildren(e,t,i,r){let a=t;const x=[];for(;a<i;){const de=e.getChild(a),ke=de.is("$text"),Ee=de.is("attributeElement");if(Ee&&this._wrapAttributeElement(r,de))x.push(new be(e,a));else if(ke||!Ee||ur(r,de)){const Ze=r._clone();de._remove(),Ze._appendChild(de),e._insertChild(a,Ze),this._addToClonedElementsGroup(Ze),x.push(new be(e,a))}else this._wrapChildren(de,0,de.childCount,r);a++}let W=0;for(const de of x)de.offset-=W,de.offset!=t&&(this.mergeAttributes(de).isEqual(de)||(W++,i--));return ht._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,r){let a=t;const x=[];for(;a<i;){const de=e.getChild(a);if(de.is("attributeElement"))if(de.isSimilar(r)){const ke=de.getChildren(),Ee=de.childCount;de._remove(),e._insertChild(a,ke),this._removeFromClonedElementsGroup(de),x.push(new be(e,a),new be(e,a+Ee)),a+=Ee,i+=Ee-1}else this._unwrapAttributeElement(r,de)?(x.push(new be(e,a),new be(e,a+1)),a++):(this._unwrapChildren(de,0,de.childCount,r),a++);else a++}let W=0;for(const de of x)de.offset-=W,!(de.offset==t||de.offset==i)&&(this.mergeAttributes(de).isEqual(de)||(W++,i--));return ht._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:r}=this._breakAttributesRange(e,!0),a=i.parent,x=this._wrapChildren(a,i.offset,r.offset,t),W=this.mergeAttributes(x.start);W.isEqual(x.start)||x.end.offset--;const de=this.mergeAttributes(x.end);return new ht(W,de)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return rr(e.clone());e.parent.is("$text")&&(e=or(e));const i=this.createAttributeElement("_wrapPosition-fake-element");i._priority=Number.POSITIVE_INFINITY,i.isSimilar=()=>!1,e.parent._insertChild(e.offset,i);const r=new ht(e,e.getShiftedBy(1));this.wrap(r,t);const a=new be(i.parent,i.index);i._remove();const x=a.nodeBefore,W=a.nodeAfter;return x instanceof $&&W instanceof $?Ht(x,W):rr(a)}_wrapAttributeElement(e,t){if(!et(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i))return!1;for(const i of e.getStyleNames())if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&(t.hasAttribute(i)||this.setAttribute(i,e.getAttribute(i),t));for(const i of e.getStyleNames())t.hasStyle(i)||this.setStyle(i,e.getStyle(i),t);for(const i of e.getClassNames())t.hasClass(i)||this.addClass(i,t);return!0}_unwrapAttributeElement(e,t){if(!et(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const i of e.getAttributeKeys())if(i!=="class"&&i!=="style"&&(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const i of e.getStyleNames())if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i))return!1;for(const i of e.getAttributeKeys())i!=="class"&&i!=="style"&&this.removeAttribute(i,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const i=e.start,r=e.end;if(Be(e,this.document),e.isCollapsed){const de=this._breakAttributes(e.start,t);return new ht(de,de)}const a=this._breakAttributes(r,t),x=a.parent.childCount,W=this._breakAttributes(i,t);return a.offset+=a.parent.childCount-x,new ht(W,a)}_breakAttributes(e,t=!1){const i=e.offset,r=e.parent;if(e.parent.is("emptyElement"))throw new h.Bb("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new h.Bb("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new h.Bb("view-writer-cannot-break-raw-element",this.document);if(!t&&r.is("$text")&&Ue(r.parent)||Ue(r))return e.clone();if(r.is("$text"))return this._breakAttributes(or(e),t);if(i==r.childCount){const a=new be(r.parent,r.index+1);return this._breakAttributes(a,t)}if(i===0){const a=new be(r.parent,r.index);return this._breakAttributes(a,t)}{const a=r.index+1,x=r._clone();r.parent._insertChild(a,x),this._addToClonedElementsGroup(x);const W=r.childCount-i,de=r._removeChildren(i,W);x._appendChild(de);const ke=new be(r.parent,a);return this._breakAttributes(ke,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const r of e.getChildren())this._addToClonedElementsGroup(r);const t=e.id;if(!t)return;let i=this._cloneGroups.get(t);i||(i=new Set,this._cloneGroups.set(t,i)),i.add(e),e._clonesGroup=i}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const r of e.getChildren())this._removeFromClonedElementsGroup(r);const t=e.id;if(!t)return;const i=this._cloneGroups.get(t);i&&i.delete(e)}}function Yn(n){let e=n.parent;for(;!Ue(e);){if(!e)return;e=e.parent}return e}function ur(n,e){return n.priority<e.priority||!(n.priority>e.priority)&&n.getIdentity()<e.getIdentity()}function rr(n){const e=n.nodeBefore;if(e&&e.is("$text"))return new be(e,e.data.length);const t=n.nodeAfter;return t&&t.is("$text")?new be(t,0):n}function or(n){if(n.offset==n.parent.data.length)return new be(n.parent.parent,n.parent.index+1);if(n.offset===0)return new be(n.parent.parent,n.parent.index);const e=n.parent.data.slice(n.offset);return n.parent._data=n.parent.data.slice(0,n.offset),n.parent.parent._insertChild(n.parent.index+1,new $(n.root.document,e)),new be(n.parent.parent,n.parent.index+1)}function Ht(n,e){const t=n.data.length;return n._data+=e.data,e._remove(),new be(n,t)}const K=[$,di,Zt,Gi,qn,$i];function Ae(n,e){for(const t of n){if(!K.some(i=>t instanceof i))throw new h.Bb("view-writer-insert-invalid-node-type",e);t.is("$text")||Ae(t.getChildren(),e)}}function Ue(n){return n&&(n.is("containerElement")||n.is("documentFragment"))}function Be(n,e){const t=Yn(n.start),i=Yn(n.end);if(!t||!i||t!==i)throw new h.Bb("view-writer-invalid-range-container",e)}function et(n,e){return n.id===null&&e.id===null}const Xe=n=>n.createTextNode("\xA0"),Et=n=>{const e=n.createElement("span");return e.dataset.ckeFiller="true",e.innerText="\xA0",e},kt=n=>{const e=n.createElement("br");return e.dataset.ckeFiller="true",e},At=7,Dt="\u2060".repeat(At);function Wt(n){return typeof n=="string"?n.substr(0,At)===Dt:(0,h.Gs)(n)&&n.data.substr(0,At)===Dt}function mi(n){return n.data.length==At&&Wt(n)}function ai(n){const e=typeof n=="string"?n:n.data;return Wt(n)?e.slice(At):e}function gi(n,e){if(e.keyCode==h.Do.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const i=t.getRangeAt(0).startContainer,r=t.getRangeAt(0).startOffset;Wt(i)&&r<=At&&t.collapse(i,0)}}}var Ri=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-engine/theme/renderer.css"),Qi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};L()(Ri.Z,Qi),Ri.Z.locals;class Pn extends(0,h.Re)(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),h.OB.isBlink&&!h.OB.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new h.Bb("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!h.OB.isAndroid)return;let e=null;const t=!(h.OB.isBlink&&!h.OB.isAndroid)||!this.isSelecting;for(const i of this.markedChildren)this._updateChildrenMappings(i);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=be._createBefore(e.parent)));for(const i of this.markedAttributes)this._updateAttrs(i);for(const i of this.markedChildren)this._updateChildren(i,{inlineFillerPosition:e});for(const i of this.markedTexts)!this.markedChildren.has(i.parent)&&this.domConverter.mapViewToDom(i.parent)&&this._updateText(i,{inlineFillerPosition:e});if(t)if(e){const i=this.domConverter.viewPositionToDom(e),r=i.parent.ownerDocument;Wt(i.parent)?this._inlineFiller=i.parent:this._inlineFiller=Mn(r,i.parent,i.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.childNodes),r=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),a=this._diffNodeLists(i,r),x=this._findUpdateActions(a,i,r,Qn);if(x.indexOf("update")!==-1){const W={equal:0,insert:0,delete:0};for(const de of x)if(de==="update"){const ke=W.equal+W.insert,Ee=W.equal+W.delete,Ze=e.getChild(ke);!Ze||Ze.is("uiElement")||Ze.is("rawElement")||this._updateElementMappings(Ze,i[Ee]),(0,h.Od)(r[ke]),W.equal++}else W[de]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?be._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&(0,h.Gs)(t.parent)&&Wt(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Wt(e))throw new h.Bb("view-renderer-filler-was-lost",this);mi(e)?e.remove():e.data=e.data.substr(At),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,i=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(x){if(x.getAttribute("contenteditable")=="false")return!1;const W=x.findAncestor(de=>de.hasAttribute("contenteditable"));return!W||W.getAttribute("contenteditable")=="true"}(t)||i===t.getFillerOffset())return!1;const r=e.nodeBefore,a=e.nodeAfter;return!(r instanceof $||a instanceof $)&&(!h.OB.isAndroid||!r&&!a)}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);let r=this.domConverter.viewToDom(e).data;const a=t.inlineFillerPosition;a&&a.parent==e.parent&&a.offset==e.index&&(r=Dt+r),hr(i,r)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const i=Array.from(t.attributes).map(a=>a.name),r=e.getAttributeKeys();for(const a of r)this.domConverter.setDomElementAttribute(t,a,e.getAttribute(a),e);for(const a of i)e.hasAttribute(a)||this.domConverter.removeDomElementAttribute(t,a)}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i)return;if(h.OB.isAndroid){let Ze=null;for(const rt of Array.from(i.childNodes)){if(Ze&&(0,h.Gs)(Ze)&&(0,h.Gs)(rt)){i.normalize();break}Ze=rt}}const r=t.inlineFillerPosition,a=i.childNodes,x=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));r&&r.parent===e&&Mn(i.ownerDocument,x,r.offset);const W=this._diffNodeLists(a,x),de=this._findUpdateActions(W,a,x,Kn);let ke=0;const Ee=new Set;for(const Ze of de)Ze==="delete"?(Ee.add(a[ke]),(0,h.Od)(a[ke])):Ze!=="equal"&&Ze!=="update"||ke++;ke=0;for(const Ze of de)Ze==="insert"?((0,h.ZQ)(i,ke,x[ke]),ke++):Ze==="update"?(hr(a[ke],x[ke].data),ke++):Ze==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(x[ke])),ke++);for(const Ze of Ee)Ze.parentNode||this.domConverter.unbindDomElement(Ze)}_diffNodeLists(e,t){return e=function(i,r){const a=Array.from(i);return a.length==0||!r||a[a.length-1]==r&&a.pop(),a}(e,this._fakeSelectionContainer),(0,h.Hg)(e,t,Rn.bind(null,this.domConverter))}_findUpdateActions(e,t,i,r){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let a=[],x=[],W=[];const de={equal:0,insert:0,delete:0};for(const ke of e)ke==="insert"?W.push(i[de.equal+de.insert]):ke==="delete"?x.push(t[de.equal+de.delete]):(a=a.concat((0,h.Hg)(x,W,r).map(Ee=>Ee==="equal"?"update":Ee)),a.push("equal"),x=[],W=[]),de[ke]++;return a.concat((0,h.Hg)(x,W,r).map(ke=>ke==="equal"?"update":ke))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(h.OB.isBlink&&!h.OB.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&h.OB.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(x){const W=x.createElement("div");return W.className="ck-fake-selection-container",Object.assign(W.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),W.textContent="\xA0",W}(t));const i=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(i,this.selection),!this._fakeSelectionNeedsUpdate(e))return;i.parentElement&&i.parentElement==e||e.appendChild(i),i.textContent=this.selection.fakeSelectionLabel||"\xA0";const r=t.getSelection(),a=t.createRange();r.removeAllRanges(),a.selectNodeContents(i),r.addRange(a)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const i=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(i.parent,i.offset,r.parent,r.offset),h.OB.isGecko&&function(a,x){const W=a.parent;if(W.nodeType!=Node.ELEMENT_NODE||a.offset!=W.childNodes.length-1)return;const de=W.childNodes[a.offset];de&&de.tagName=="BR"&&x.addRange(x.getRangeAt(0))}(r,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,i=e.ownerDocument.getSelection();return!t||t.parentElement!==e||i.anchorNode!==t&&!t.contains(i.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const i=e.activeElement,r=this.domConverter.mapDomToView(i);i&&r&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Mn(n,e,t){const i=e instanceof Array?e:e.childNodes,r=i[t];if((0,h.Gs)(r))return r.data=Dt+r.data,r;{const a=n.createTextNode(Dt);return Array.isArray(e)?i.splice(t,0,a):(0,h.ZQ)(e,t,a),a}}function Qn(n,e){return(0,h.UG)(n)&&(0,h.UG)(e)&&!(0,h.Gs)(n)&&!(0,h.Gs)(e)&&!(0,h.C3)(n)&&!(0,h.C3)(e)&&n.tagName.toLowerCase()===e.tagName.toLowerCase()}function Kn(n,e){return(0,h.UG)(n)&&(0,h.UG)(e)&&(0,h.Gs)(n)&&(0,h.Gs)(e)}function Rn(n,e,t){return e===t||((0,h.Gs)(e)&&(0,h.Gs)(t)?e.data===t.data:!(!n.isBlockFiller(e)||!n.isBlockFiller(t)))}function hr(n,e){const t=n.data;if(t==e)return;const i=(0,h.HZ)(t,e);for(const r of i)r.type==="insert"?n.insertData(r.index,r.values.join("")):n.deleteData(r.index,r.howMany)}const yr=kt(h.global.document),Nn=Xe(h.global.document),sr=Et(h.global.document),zn="data-ck-unsafe-attribute-",_e="data-ck-unsafe-element";class k{constructor(e,{blockFillerMode:t,renderingMode:i="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new j,this._inlineObjectElementMatcher=new j,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=i,this.blockFillerMode=t||(i==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?h.global.document:h.global.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Yt(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const i of Array.from(e.children))this.unbindDomElement(i)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,i){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(i==="img"&&(e==="src"||e==="srcset")||i==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const i=new DOMParser().parseFromString(t,"text/html"),r=i.createDocumentFragment(),a=i.body.childNodes;for(;a.length>0;)r.appendChild(a[0]);const x=i.createTreeWalker(r,NodeFilter.SHOW_ELEMENT),W=[];let de;for(;de=x.nextNode();)W.push(de);for(const ke of W){for(const Ze of ke.getAttributeNames())this.setDomElementAttribute(ke,Ze,ke.getAttribute(Ze));const Ee=ke.tagName.toLowerCase();this._shouldRenameElement(Ee)&&(J(Ee),ke.replaceWith(this._createReplacementDomElement(Ee,ke)))}for(;e.firstChild;)e.firstChild.remove();e.append(r)}viewToDom(e,t={}){if(e.is("$text")){const i=this._processDataFromViewText(e);return this._domDocument.createTextNode(i)}{const i=e;if(this.mapViewToDom(i)){if(!i.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(i);this._elementsWithTemporaryCustomProperties.add(i)}let r;if(i.is("documentFragment"))r=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(r,i);else{if(i.is("uiElement"))return r=i.name==="$comment"?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),t.bind&&this.bindElements(r,i),r;this._shouldRenameElement(i.name)?(J(i.name),r=this._createReplacementDomElement(i.name)):r=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(r,this),t.bind&&this.bindElements(r,i);for(const a of i.getAttributeKeys())this.setDomElementAttribute(r,a,i.getAttribute(a),i)}if(t.withChildren!==!1)for(const a of this.viewChildrenToDom(i,t))r.appendChild(a);return r}}setDomElementAttribute(e,t,i,r){const a=this.shouldRenderAttribute(t,i,e.tagName.toLowerCase())||r&&r.shouldRenderUnsafeAttribute(t);a||(0,h.KE)("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:i}),(0,h.$b)(t)?(e.hasAttribute(t)&&!a?e.removeAttribute(t):e.hasAttribute(zn+t)&&a&&e.removeAttribute(zn+t),e.setAttribute(a?t:zn+t,i)):(0,h.KE)("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:i})}removeDomElementAttribute(e,t){t!=_e&&(e.removeAttribute(t),e.removeAttribute(zn+t))}*viewChildrenToDom(e,t={}){const i=e.getFillerOffset&&e.getFillerOffset();let r=0;for(const a of e.getChildren()){i===r&&(yield this._getBlockFiller());const x=a.is("element")&&!!a.getCustomProperty("dataPipeline:transparentRendering")&&!(0,h.Ps)(a.getAttributes());x&&this.renderingMode=="data"?yield*this.viewChildrenToDom(a,t):(x&&(0,h.KE)("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:a}),yield this.viewToDom(a,t)),r++}i===r&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),i=this.viewPositionToDom(e.end),r=this._domDocument.createRange();return r.setStart(t.parent,t.offset),r.setEnd(i.parent,i.offset),r}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const i=this.findCorrespondingDomText(t);if(!i)return null;let r=e.offset;return Wt(i)&&(r+=At),{parent:i,offset:r}}{let i,r,a;if(e.offset===0){if(i=this.mapViewToDom(t),!i)return null;a=i.childNodes[0]}else{const x=e.nodeBefore;if(r=x.is("$text")?this.findCorrespondingDomText(x):this.mapViewToDom(x),!r)return null;i=r.parentNode,a=r.nextSibling}return(0,h.Gs)(a)&&Wt(a)?{parent:a,offset:At}:{parent:i,offset:r?(0,h.cq)(r)+1:0}}}domToView(e,t={}){const i=[],r=this._domToView(e,t,i),a=r.next().value;return a?(r.next(),this._processDomInlineNodes(null,i,t),a.is("$text")&&a.data.length==0?null:a):null}*domChildrenToView(e,t={},i=[]){for(let r=0;r<e.childNodes.length;r++){const a=e.childNodes[r],x=this._domToView(a,t,i),W=x.next().value;W!==null&&(this._isBlockViewElement(W)&&this._processDomInlineNodes(e,i,t),yield W,x.next())}this._processDomInlineNodes(e,i,t)}domSelectionToView(e){if(function(r){if(!h.OB.isGecko||!r.rangeCount)return!1;const a=r.getRangeAt(0).startContainer;try{Object.prototype.toString.call(a)}catch{return!0}return!1}(e))return new Yt([]);if(e.rangeCount===1){let r=e.getRangeAt(0).startContainer;(0,h.Gs)(r)&&(r=r.parentNode);const a=this.fakeSelectionToView(r);if(a)return a}const t=this.isDomSelectionBackward(e),i=[];for(let r=0;r<e.rangeCount;r++){const a=e.getRangeAt(r),x=this.domRangeToView(a);x&&i.push(x)}return new Yt(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),i=this.domPositionToView(e.endContainer,e.endOffset);return t&&i?new ht(t,i):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,(0,h.cq)(e));const i=this.mapDomToView(e);if(i&&(i.is("uiElement")||i.is("rawElement")))return be._createBefore(i);if((0,h.Gs)(e)){if(mi(e))return this.domPositionToView(e.parentNode,(0,h.cq)(e));const r=this.findCorrespondingViewText(e);let a=t;return r?(Wt(e)&&(a-=At,a=a<0?0:a),new be(r,a)):null}if(t===0){const r=this.mapDomToView(e);if(r)return new be(r,0)}else{const r=e.childNodes[t-1];if((0,h.Gs)(r)&&mi(r)||r&&this.isBlockFiller(r))return this.domPositionToView(r.parentNode,(0,h.cq)(r));const a=(0,h.Gs)(r)?this.findCorrespondingViewText(r):this.mapDomToView(r);if(a&&a.parent)return new be(a.parent,a.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(mi(e))return null;const t=this.getHostViewElement(e);if(t)return t;const i=e.previousSibling;if(i){if(!this.isElement(i))return null;const r=this.mapDomToView(i);if(r){const a=r.nextSibling;return a instanceof $?a:null}}else{const r=this.mapDomToView(e.parentNode);if(r){const a=r.getChild(0);return a instanceof $?a:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:i,scrollY:r}=h.global.window,a=[];I(t,x=>{const{scrollLeft:W,scrollTop:de}=x;a.push([W,de])}),t.focus(),I(t,x=>{const[W,de]=a.shift();x.scrollLeft=W,x.scrollTop=de}),h.global.window.scrollTo(i,r)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),i=this.domSelectionToView(t);i&&i.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(yr):!(e.tagName!=="BR"||!N(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(sr)||function(t,i){return t.isEqualNode(Nn)&&N(t,i)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const i=t.collapsed;return t.detach(),i}getHostViewElement(e){const t=(0,h.dk)(e);for(t.pop();t.length;){const i=t.pop(),r=this._domToViewMapping.get(i);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Xe(this._domDocument);case"markedNbsp":return Et(this._domDocument);case"br":return kt(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if((0,h.Gs)(e)&&Wt(e)&&t<At||this.isElement(e)&&Wt(e.childNodes[t]))return!1;const i=this.mapDomToView(e);return!i||!i.is("uiElement")&&!i.is("rawElement")}*_domToView(e,t,i){if(this.isBlockFiller(e))return null;const r=this.getHostViewElement(e);if(r)return r;if((0,h.C3)(e)&&t.skipComments)return null;if((0,h.Gs)(e)){if(mi(e))return null;{const a=e.data;if(a==="")return null;const x=new $(this.document,a);return i.push(x),x}}{let a=this.mapDomToView(e);if(a)return this._isInlineObjectElement(a)&&i.push(a),a;if(this.isDocumentFragment(e))a=new En(this.document),t.bind&&this.bindDocumentFragments(e,a);else{a=this._createViewElement(e,t),t.bind&&this.bindElements(e,a);const W=e.attributes;if(W)for(let de=W.length,ke=0;ke<de;ke++)a._setAttribute(W[ke].name,W[ke].value);if(this._isViewElementWithRawContent(a,t))return a._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(a)||i.push(a),a;if((0,h.C3)(e))return a._setCustomProperty("$rawContent",e.data),a}yield a;const x=[];if(t.withChildren!==!1)for(const W of this.domChildrenToView(e,t,x))a._appendChild(W);if(this._isInlineObjectElement(a))i.push(a);else for(const W of x)i.push(W)}}_processDomInlineNodes(e,t,i){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let r=!1;for(let a=0;a<t.length;a++){const x=t[a];if(!x.is("$text")){r=!1;continue}let W,de=!1;if(d(x,this.preElements))W=ai(x.data);else{W=x.data.replace(/[ \n\t\r]{1,}/g," "),de=/[^\S\u00A0]/.test(W.charAt(W.length-1));const ke=a>0?t[a-1]:null,Ee=a+1<t.length?t[a+1]:null,Ze=!ke||ke.is("element")&&ke.name=="br"||r,rt=!Ee&&!Wt(x.data);i.withChildren!==!1&&(Ze&&(W=W.replace(/^ /,"")),rt&&(W=W.replace(/ $/,""))),W=ai(W),W=W.replace(/ \u00A0/g,"  ");const jt=Ee&&Ee.is("element")&&Ee.name!="br",qt=Ee&&Ee.is("$text")&&Ee.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(W)||!Ee||jt||qt)&&(W=W.replace(/\u00A0$/," ")),(Ze||ke&&ke.is("element")&&ke.name!="br")&&(W=W.replace(/^\u00A0/," "))}W.length==0&&x.parent?(x._remove(),t.splice(a,1),a--):(x._data=W,r=de)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return t;if(t.charAt(0)==" "){const i=this._getTouchingInlineViewNode(e,!1);!(i&&i.is("$textProxy")&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){const i=this._getTouchingInlineViewNode(e,!0),r=i&&i.is("$textProxy")&&i.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&i&&!r||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}_nodeEndsWithSpace(e){if(e.getAncestors().some(i=>this.preElements.includes(i.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const i=new se({startPosition:t?be._createAfter(e):be._createBefore(e),direction:t?"forward":"backward"});for(const r of i){if(r.item.is("element","br"))return null;if(this._isInlineObjectElement(r.item))return r.item;if(r.item.is("containerElement"))return null;if(r.item.is("$textProxy"))return r.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if((0,h.C3)(e))return new $i(this.document,"$comment");const i=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Mi(this.document,i)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const i=this._domDocument.createElement("span");if(i.setAttribute(_e,e),t){for(;t.firstChild;)i.appendChild(t.firstChild);for(const r of t.getAttributeNames())i.setAttribute(r,t.getAttribute(r))}return i}}function d(n,e){return n.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function I(n,e){let t=n;for(;t;)e(t),t=t.parentElement}function N(n,e){const t=n.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function J(n){n==="script"&&(0,h.KE)("domconverter-unsafe-script-element-detected"),n==="style"&&(0,h.KE)("domconverter-unsafe-style-element-detected")}class ce extends(0,h.Xu)(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var pe=l("./node_modules/lodash-es/assignIn.js");class he{constructor(e,t,i){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,(0,pe.Z)(this,i)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ve extends ce{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(i,r)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(r.target)&&this.onDomEvent(r)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,i){this.isEnabled&&this.document.fire(e,new he(this.view,t,i))}}class Re extends ve{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return(0,h.Cq)(this)}};this.fire(e.type,e,t)}}var We=l("./node_modules/lodash-es/debounce.js");class Ye extends ce{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=(0,We.Z)(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&i.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,i)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(i.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,i=new Yt(t.getRanges(),{backward:t.isBackward,fake:!1});e!=h.Do.arrowleft&&e!=h.Do.arrowup||i.setTo(i.getFirstPosition()),e!=h.Do.arrowright&&e!=h.Do.arrowdown||i.setTo(i.getLastPosition());const r={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}const pt=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},Ct=function(n){return this.__data__.has(n)};function St(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new lt.Z;++e<t;)this.add(n[e])}St.prototype.add=St.prototype.push=pt,St.prototype.has=Ct;const xt=St,ii=function(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1},Jt=function(n,e){return n.has(e)},bi=function(n,e,t,i,r,a){var x=1&t,W=n.length,de=e.length;if(W!=de&&!(x&&de>W))return!1;var ke=a.get(n),Ee=a.get(e);if(ke&&Ee)return ke==e&&Ee==n;var Ze=-1,rt=!0,jt=2&t?new xt:void 0;for(a.set(n,e),a.set(e,n);++Ze<W;){var qt=n[Ze],ci=e[Ze];if(i)var vi=x?i(ci,qt,Ze,e,n,a):i(qt,ci,Ze,n,e,a);if(vi!==void 0){if(vi)continue;rt=!1;break}if(jt){if(!ii(e,function(Fi,Wi){if(!Jt(jt,Wi)&&(qt===Fi||r(qt,Fi,t,i,a)))return jt.push(Wi)})){rt=!1;break}}else if(qt!==ci&&!r(qt,ci,t,i,a)){rt=!1;break}}return a.delete(n),a.delete(e),rt};var Si=l("./node_modules/lodash-es/_Symbol.js"),Hi=l("./node_modules/lodash-es/_Uint8Array.js");const sn=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t},mn=function(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t};var Cn=Si.Z?Si.Z.prototype:void 0,pr=Cn?Cn.valueOf:void 0;const $r=function(n,e,t,i,r,a,x){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!a(new Hi.Z(n),new Hi.Z(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,Gt.Z)(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var W=sn;case"[object Set]":var de=1&i;if(W||(W=mn),n.size!=e.size&&!de)return!1;var ke=x.get(n);if(ke)return ke==e;i|=2,x.set(n,e);var Ee=bi(W(n),W(e),i,r,a,x);return x.delete(n),Ee;case"[object Symbol]":if(pr)return pr.call(n)==pr.call(e)}return!1};var Dr=l("./node_modules/lodash-es/_getAllKeys.js"),Xr=Object.prototype.hasOwnProperty;const fr=function(n,e,t,i,r,a){var x=1&t,W=(0,Dr.Z)(n),de=W.length;if(de!=(0,Dr.Z)(e).length&&!x)return!1;for(var ke=de;ke--;){var Ee=W[ke];if(!(x?Ee in e:Xr.call(e,Ee)))return!1}var Ze=a.get(n),rt=a.get(e);if(Ze&&rt)return Ze==e&&rt==n;var jt=!0;a.set(n,e),a.set(e,n);for(var qt=x;++ke<de;){var ci=n[Ee=W[ke]],vi=e[Ee];if(i)var Fi=x?i(vi,ci,Ee,e,n,a):i(ci,vi,Ee,n,e,a);if(!(Fi===void 0?ci===vi||r(ci,vi,t,i,a):Fi)){jt=!1;break}qt||(qt=Ee=="constructor")}if(jt&&!qt){var Wi=n.constructor,xn=e.constructor;Wi==xn||!("constructor"in n)||!("constructor"in e)||typeof Wi=="function"&&Wi instanceof Wi&&typeof xn=="function"&&xn instanceof xn||(jt=!1)}return a.delete(n),a.delete(e),jt};var Jn=l("./node_modules/lodash-es/_getTag.js"),Ir="[object Arguments]",zr="[object Array]",Fn="[object Object]",Xn=Object.prototype.hasOwnProperty;const Do=function(n,e,t,i,r,a){var x=(0,Se.Z)(n),W=(0,Se.Z)(e),de=x?zr:(0,Jn.Z)(n),ke=W?zr:(0,Jn.Z)(e),Ee=(de=de==Ir?Fn:de)==Fn,Ze=(ke=ke==Ir?Fn:ke)==Fn,rt=de==ke;if(rt&&(0,at.Z)(n)){if(!(0,at.Z)(e))return!1;x=!0,Ee=!1}if(rt&&!Ee)return a||(a=new Pt.Z),x||(0,ye.Z)(n)?bi(n,e,t,i,r,a):$r(n,e,de,t,i,r,a);if(!(1&t)){var jt=Ee&&Xn.call(n,"__wrapped__"),qt=Ze&&Xn.call(e,"__wrapped__");if(jt||qt){var ci=jt?n.value():n,vi=qt?e.value():e;return a||(a=new Pt.Z),r(ci,vi,t,i,a)}}return!!rt&&(a||(a=new Pt.Z),fr(n,e,t,i,r,a))},eo=function n(e,t,i,r,a){return e===t||(e==null||t==null||!(0,Pi.Z)(e)&&!(0,Pi.Z)(t)?e!=e&&t!=t:Do(e,t,i,r,n,a))},ho=function(n,e,t){var i=(t=typeof t=="function"?t:void 0)?t(n,e):void 0;return i===void 0?eo(n,e,void 0,t):!!i};class Fr extends ce{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,i=new Set,r=new Set;for(const x of e){const W=t.mapDomToView(x.target);W&&(W.is("uiElement")||W.is("rawElement")||x.type!=="childList"||this._isBogusBrMutation(x)||r.add(W))}for(const x of e){const W=t.mapDomToView(x.target);if((!W||!W.is("uiElement")&&!W.is("rawElement"))&&x.type==="characterData"){const de=t.findCorrespondingViewText(x.target);de&&!r.has(de.parent)?i.add(de):!de&&Wt(x.target)&&r.add(t.mapDomToView(x.target.parentNode))}}let a=!1;for(const x of i)a=!0,this.renderer.markToSync("text",x);for(const x of r){const W=t.mapViewToDom(x),de=Array.from(x.getChildren()),ke=Array.from(t.domChildrenToView(W,{withChildren:!1}));ho(de,ke,mo)||(a=!0,this.renderer.markToSync("children",x))}a&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function mo(n,e){if(!Array.isArray(n))return n===e||!(!n.is("$text")||!e.is("$text"))&&n.data===e.data}class qr extends ve{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(i,r)=>{const a=t.selection.editableElement;a!==null&&a!==r.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class zo extends ce{constructor(e){super(e),this.mutationObserver=e.getObserver(Fr),this.focusObserver=e.getObserver(qr),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=(0,We.Z)(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=(0,We.Z)(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(r,a)=>{this.document.isComposing&&!h.OB.isAndroid||(this._handleSelectionChange(a,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const i=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(i.anchorNode))return;this.mutationObserver.flush();const r=this.domConverter.domSelectionToView(i);if(r.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(r)||!this.domConverter.isDomSelectionCorrect(i))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(r))this.view.forceRender();else{const a={oldSelection:this.selection,newSelection:r,domSelection:i};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Eo extends ve{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class to{constructor(e,t={}){this._files=t.cacheFiles?So(e):null,this._native=e}get files(){return this._files||(this._files=So(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,i){this._native.setDragImage(e,t,i)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function So(n){const e=Array.from(n.files||[]),t=Array.from(n.items||[]);return e.length?e:t.filter(i=>i.kind==="file").map(i=>i.getAsFile())}class Io extends ve{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),i=this.view,r=i.document;let a=null,x=null,W=[];if(e.dataTransfer&&(a=new to(e.dataTransfer)),e.data!==null?x=e.data:a&&(x=a.getData("text/plain")),r.selection.isFake)W=Array.from(r.selection.getRanges());else if(t.length)W=t.map(de=>{const ke=i.domConverter.domPositionToView(de.startContainer,de.startOffset),Ee=i.domConverter.domPositionToView(de.endContainer,de.endOffset);return ke?i.createRange(ke,Ee):Ee?i.createRange(Ee):void 0}).filter(de=>!!de);else if(h.OB.isAndroid){const de=e.target.ownerDocument.defaultView.getSelection();W=Array.from(i.domConverter.domSelectionToView(de).getRanges())}if(h.OB.isAndroid&&e.inputType=="insertCompositionText"&&x&&x.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[i.createRange(W[0].end)]});else if(e.inputType=="insertText"&&x&&x.includes(`
`)){const de=x.split(/\n{1,2}/g);let ke=W;for(let Ee=0;Ee<de.length;Ee++){const Ze=de[Ee];Ze!=""&&(this.fire(e.type,e,{data:Ze,dataTransfer:a,targetRanges:ke,inputType:e.inputType,isComposing:e.isComposing}),ke=[r.selection.getFirstRange()]),Ee+1<de.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:ke}),ke=[r.selection.getFirstRange()])}}else this.fire(e.type,e,{data:x,dataTransfer:a,targetRanges:W,inputType:e.inputType,isComposing:e.isComposing})}}class go extends ce{constructor(e){super(e),this.document.on("keydown",(t,i)=>{if(this.isEnabled&&(0,h.dj)(i.keyCode)){const r=new Ce(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(r,i),r.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class Ji extends ce{constructor(e){super(e);const t=this.document;t.on("keydown",(i,r)=>{if(!this.isEnabled||r.keyCode!=h.Do.tab||r.ctrlKey)return;const a=new Ce(t,"tab",t.selection.getFirstRange());t.fire(a,r),a.stop.called&&i.stop()})}observe(){}stopObserving(){}}const xr=function(n){return(0,T.Z)(n,5)};class Cr extends(0,h.Re)(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new ki(e),this.domConverter=new k(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Pn(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new In(this.document),this.addObserver(Fr),this.addObserver(qr),this.addObserver(zo),this.addObserver(Re),this.addObserver(Ye),this.addObserver(Eo),this.addObserver(go),this.addObserver(Io),this.addObserver(Ji),this.document.on("arrowKey",gi,{priority:"low"}),hn(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),h.OB.isiOS&&this.listenTo(this.document,"blur",(t,i)=>{this.domConverter.mapDomToView(i.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const r={};for(const{name:x,value:W}of Array.from(e.attributes))r[x]=W,x==="class"?this._writer.addClass(W.split(" "),i):this._writer.setAttribute(x,W,i);this._initialDomRootAttributes.set(e,r);const a=()=>{this._writer.setAttribute("contenteditable",(!i.isReadOnly).toString(),i),i.isReadOnly?this._writer.addClass("ck-read-only",i):this._writer.removeClass("ck-read-only",i)};a(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(x,W)=>this._renderer.markToSync("children",W)),i.on("change:attributes",(x,W)=>this._renderer.markToSync("attributes",W)),i.on("change:text",(x,W)=>this._renderer.markToSync("text",W)),i.on("change:isReadOnly",()=>this.change(a)),i.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const x of this._observers.values())x.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:r})=>t.removeAttribute(r));const i=this._initialDomRootAttributes.get(t);for(const r in i)t.setAttribute(r,i[r]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const r of this._observers.values())r.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[i,r]of this.domRoots)t.observe(r,i);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:i=20,ancestorOffset:r=20}={}){const a=this.document.selection.getFirstRange();if(!a)return;const x=xr({alignToTop:e,forceScroll:t,viewportOffset:i,ancestorOffset:r});typeof i=="number"&&(i={top:i,bottom:i,left:i,right:i});const W={target:this.domConverter.viewRangeToDom(a),viewportOffset:i,ancestorOffset:r,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",W,x),(0,h.mR)(W)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new h.Bb("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){h.Bb.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(qr).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Yt(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Pr{is(){throw new Error("is() method is abstract")}}class br extends Pr{constructor(e){super(),this.parent=null,this._attrs=(0,h.qL)(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new h.Bb("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new h.Bb("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t),r=e.getAncestors(t);let a=0;for(;i[a]==r[a]&&i[a];)a++;return a===0?null:i[a-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),i=e.getPath(),r=(0,h.Rt)(t,i);switch(r){case"prefix":return!0;case"extension":return!1;default:return t[r]<i[r]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,i)=>(t[i[0]]=i[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=(0,h.qL)(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}br.prototype.is=function(n){return n==="node"||n==="model:node"};class Ln{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((i,r)=>i+r.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new h.Bb("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize)return this.getNodeIndex(i);t+=i.offsetSize}if(t!=e)throw new h.Bb("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const i of t)if(!(i instanceof br))throw new h.Bb("model-nodelist-insertnodes-not-node",this);this._nodes=(0,h.x)(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class an extends br{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new an(this.data,this.getAttributes())}static fromJSON(e){return new an(e.data,e.attributes)}}an.prototype.is=function(n){return n==="$text"||n==="model:$text"||n==="text"||n==="model:text"||n==="node"||n==="model:node"};class Wn extends Pr{constructor(e,t,i){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new h.Bb("model-textproxy-wrong-offsetintext",this);if(i<0||t+i>e.offsetSize)throw new h.Bb("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+i),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let i=e.includeSelf?this:this.parent;for(;i;)t[e.parentFirst?"push":"unshift"](i),i=i.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Wn.prototype.is=function(n){return n==="$textProxy"||n==="model:$textProxy"||n==="textProxy"||n==="model:textProxy"};class ln extends br{constructor(e,t,i){super(t),this._children=new Ln,this.name=e,i&&this._insertChild(0,i)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}findAncestor(e,t={}){let i=t.includeSelf?this:this.parent;for(;i;){if(i.name===e)return i;i=i.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(i=>i._clone(!0)):void 0;return new ln(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(r){return typeof r=="string"?[new an(r)]:((0,h.TW)(r)||(r=[r]),Array.from(r).map(a=>typeof a=="string"?new an(a):a instanceof Wn?new an(a.data,a.getAttributes()):a))}(t);for(const r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const r of i)r.parent=null;return i}static fromJSON(e){let t;if(e.children){t=[];for(const i of e.children)i.name?t.push(ln.fromJSON(i)):t.push(an.fromJSON(i))}return new ln(e.name,e.attributes,t)}}ln.prototype.is=function(n,e){return e?e===this.name&&(n==="element"||n==="model:element"):n==="element"||n==="model:element"||n==="node"||n==="model:node"};class wr{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new h.Bb("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new h.Bb("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Xt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,i,r,a;do r=this.position,a=this._visitedParent,{done:t,value:i}=this.next();while(!t&&e(i));t||(this._position=r,this._visitedParent=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset)return{done:!0,value:void 0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const r=nn(t,i),a=r||Kr(t,i,r);if(a instanceof ln){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=a;return this._position=t,Tr("elementStart",a,e,t,1)}if(a instanceof an){let x;if(this.singleCharacters)x=1;else{let ke=a.endOffset;this._boundaryEndParent==i&&this.boundaries.end.offset<ke&&(ke=this.boundaries.end.offset),x=ke-t.offset}const W=t.offset-a.startOffset,de=new Wn(a,W,x);return t.offset+=x,this._position=t,Tr("text",de,e,t,x)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=i.parent,this.ignoreElementEnd?this._next():Tr("elementEnd",i,e,t)}_previous(){const e=this.position,t=this.position.clone(),i=this._visitedParent;if(i.parent===null&&t.offset===0)return{done:!0,value:void 0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const r=t.parent,a=nn(t,r),x=a||po(t,r,a);if(x instanceof ln)return t.offset--,this.shallow?(this._position=t,Tr("elementStart",x,e,t,1)):(t.path.push(x.maxOffset),this._position=t,this._visitedParent=x,this.ignoreElementEnd?this._previous():Tr("elementEnd",x,e,t));if(x instanceof an){let W;if(this.singleCharacters)W=1;else{let Ee=x.startOffset;this._boundaryStartParent==i&&this.boundaries.start.offset>Ee&&(Ee=this.boundaries.start.offset),W=t.offset-Ee}const de=t.offset-x.startOffset,ke=new Wn(x,de-W,W);return t.offset-=W,this._position=t,Tr("text",ke,e,t,W)}return t.path.pop(),this._position=t,this._visitedParent=i.parent,Tr("elementStart",i,e,t,1)}}function Tr(n,e,t,i,r){return{done:!1,value:{type:n,item:e,previousPosition:t,nextPosition:i,length:r}}}class Xt extends Pr{constructor(e,t,i="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new h.Bb("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new h.Bb("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=i}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new h.Bb("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new h.Bb("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return nn(this,this.parent)}get nodeAfter(){const e=this.parent;return Kr(this,e,nn(this,e))}get nodeBefore(){const e=this.parent;return po(this,e,nn(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=(0,h.Rt)(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new wr(t);return i.skip(e),i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=(0,h.Rt)(this.path,e.path),i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors(),i=e.getAncestors();let r=0;for(;t[r]==i[r]&&t[r];)r++;return r===0?null:t[r-1]}getShiftedBy(e){const t=this.clone(),i=t.offset+e;return t.offset=i<0?0:i,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let i=0;i<t;i++){const r=this.path[i]-e.path[i];if(r<-1||r>1)return!1;if(r===1)return io(e,this,i);if(r===-1)return io(this,e,i)}return this.path.length===e.path.length||(this.path.length>e.path.length?no(this.path,t):no(e.path,t))}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),i=e.getParentPath();return(0,h.Rt)(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Xt._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let i;return t.containsPosition(this)||t.start.isEqual(this)?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):i=this.isEqual(e.deletionPosition)?Xt._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const i=Xt._createAt(this);if(this.root!=e.root)return i;if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;i.offset-=t}}else if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;if(e.offset<=this.path[r]){if(e.offset+t>this.path[r])return null;i.path[r]-=t}}return i}_getTransformedByInsertion(e,t){const i=Xt._createAt(this);if(this.root!=e.root)return i;if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(i.offset+=t);else if((0,h.Rt)(e.getParentPath(),this.getParentPath())=="prefix"){const r=e.path.length-1;e.offset<=this.path[r]&&(i.path[r]+=t)}return i}_getTransformedByMove(e,t,i){if(t=t._getTransformedByDeletion(e,i),e.isEqual(t))return Xt._createAt(this);const r=this._getTransformedByDeletion(e,i);return r===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):r._getTransformedByInsertion(t,i)}_getCombined(e,t){const i=e.path.length-1,r=Xt._createAt(t);return r.stickiness=this.stickiness,r.offset=r.offset+this.path[i]-e.offset,r.path=[...r.path,...this.path.slice(i+1)],r}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof Xt)return new Xt(e.root,e.path,e.stickiness);{const r=e;if(t=="end")t=r.maxOffset;else{if(t=="before")return this._createBefore(r,i);if(t=="after")return this._createAfter(r,i);if(t!==0&&!t)throw new h.Bb("model-createpositionat-offset-required",[this,e])}if(!r.is("element")&&!r.is("documentFragment"))throw new h.Bb("model-position-parent-incorrect",[this,e]);const a=r.getPath();return a.push(t),new this(r.root,a,i)}}static _createAfter(e,t){if(!e.parent)throw new h.Bb("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new h.Bb("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new Xt(t.graveyard,e.path);return i.stickiness=e.stickiness,i}if(!t.getRoot(e.root))throw new h.Bb("model-position-fromjson-no-root",t,{rootName:e.root});return new Xt(t.getRoot(e.root),e.path,e.stickiness)}}function nn(n,e){const t=e.getChild(e.offsetToIndex(n.offset));return t&&t.is("$text")&&t.startOffset<n.offset?t:null}function Kr(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset))}function po(n,e,t){return t!==null?null:e.getChild(e.offsetToIndex(n.offset)-1)}function io(n,e,t){return t+1!==n.path.length&&!!no(e.path,t+1)&&!!function(i,r){let a=i.parent,x=i.path.length-1,W=0;for(;x>=r;){if(i.path[x]+W!==a.maxOffset)return!1;W=1,x--,a=a.parent}return!0}(n,t+1)}function no(n,e){for(;e<n.length;){if(n[e]!==0)return!1;e++}return!0}Xt.prototype.is=function(n){return n==="position"||n==="model:position"};class Bt extends Pr{constructor(e,t){super(),this.start=Xt._createAt(e),this.end=t?Xt._createAt(t):Xt._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new wr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return(0,h.Rt)(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),r=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&r}containsItem(e){const t=Xt._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Bt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Bt(e.end,this.end))):t.push(new Bt(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,i=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(i=e.end),new Bt(t,i)}return null}getJoined(e,t=!1){let i=this.isIntersecting(e);if(i||(i=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!i)return null;let r=this.start,a=this.end;return e.start.isBefore(r)&&(r=e.start),e.end.isAfter(a)&&(a=e.end),new Bt(r,a)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,i=Xt._createAt(this.start);let r=i.parent;for(;i.path.length>t+1;){const a=r.maxOffset-i.offset;a!==0&&e.push(new Bt(i,i.getShiftedBy(a))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){const a=this.end.path[i.path.length-1],x=a-i.offset;x!==0&&e.push(new Bt(i,i.getShiftedBy(x))),i.offset=a,i.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new wr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new wr(e);for(const i of t)yield i.item}*getPositions(e={}){e.boundaries=this;const t=new wr(e);yield t.position;for(const i of t)yield i.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Bt(this.start,this.end)]}getTransformedByOperations(e){const t=[new Bt(this.start,this.end)];for(const i of e)for(let r=0;r<t.length;r++){const a=t[r].getTransformedByOperation(i);t.splice(r,1,...a),r+=a.length-1}for(let i=0;i<t.length;i++){const r=t[i];for(let a=i+1;a<t.length;a++){const x=t[a];(r.containsRange(x)||x.containsRange(r)||r.isEqual(x))&&t.splice(a,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const i=e.sourcePosition,r=e.howMany,a=e.targetPosition;return this._getTransformedByMove(i,a,r,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(i=this.end.getShiftedBy(1)),t.root!=i.root&&(i=this.end.getShiftedBy(-1)),new Bt(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Bt(this.start);let t=this.start._getTransformedByMergeOperation(e),i=this.end._getTransformedByMergeOperation(e);return t.root!=i.root&&(i=this.end.getShiftedBy(-1)),t.isAfter(i)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Xt._createAt(i),t.offset=0):(e.deletionPosition.isEqual(t)||(i=e.deletionPosition),t=e.targetPosition),new Bt(t,i)):new Bt(t,i)}_getTransformedByInsertion(e,t,i=!1){if(i&&this.containsPosition(e))return[new Bt(this.start,e),new Bt(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const r=new Bt(this.start,this.end);return r.start=r.start._getTransformedByInsertion(e,t),r.end=r.end._getTransformedByInsertion(e,t),[r]}}_getTransformedByMove(e,t,i,r=!1){if(this.isCollapsed){const Ze=this.start._getTransformedByMove(e,t,i);return[new Bt(Ze)]}const a=Bt._createFromPositionAndShift(e,i),x=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!r&&(a.containsPosition(this.start)||a.containsPosition(this.end))){const Ze=this.start._getTransformedByMove(e,t,i),rt=this.end._getTransformedByMove(e,t,i);return[new Bt(Ze,rt)]}let W;const de=this.getDifference(a);let ke=null;const Ee=this.getIntersection(a);if(de.length==1?ke=new Bt(de[0].start._getTransformedByDeletion(e,i),de[0].end._getTransformedByDeletion(e,i)):de.length==2&&(ke=new Bt(this.start,this.end._getTransformedByDeletion(e,i))),W=ke?ke._getTransformedByInsertion(x,i,Ee!==null||r):[],Ee){const Ze=new Bt(Ee.start._getCombined(a.start,x),Ee.end._getCombined(a.start,x));W.length==2?W.splice(1,0,Ze):W.push(Ze)}return W}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t),r=this.end._getTransformedByDeletion(e,t);return i==null&&r==null?null:(i==null&&(i=e),r==null&&(r=e),new Bt(i,r))}static _createFromPositionAndShift(e,t){const i=e,r=e.getShiftedBy(t);return t>0?new this(i,r):new this(r,i)}static _createIn(e){return new this(Xt._createAt(e,0),Xt._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Xt._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new h.Bb("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((a,x)=>a.start.isAfter(x.start)?1:-1);const i=e.indexOf(t),r=new this(t.start,t.end);if(i>0)for(let a=i-1;e[a].end.isEqual(r.start);a++)r.start=Xt._createAt(e[a].start);for(let a=i+1;a<e.length&&e[a].start.isEqual(r.end);a++)r.end=Xt._createAt(e[a].end);return r}static fromJSON(e,t){return new this(Xt.fromJSON(e.start,t),Xt.fromJSON(e.end,t))}}Bt.prototype.is=function(n){return n==="range"||n==="model:range"};class Vr extends(0,h.ln)(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const i=this._modelToViewMapping.get(t.modelPosition.parent);if(!i)throw new h.Bb("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(i,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const i=this.findMappedViewAncestor(t.viewPosition),r=this._viewToModelMapping.get(i),a=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=Xt._createAt(r,a)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const i=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const r of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(r);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(i)==e&&this._modelToViewMapping.delete(i))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const r=this._elementToMarkerNames.get(e)||new Set;r.add(t),this._markerNameToElements.set(t,i),this._elementToMarkerNames.set(e,r)}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);i&&(i.delete(e),i.size==0&&this._markerNameToElements.delete(t));const r=this._elementToMarkerNames.get(e);r&&(r.delete(t),r.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Bt(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ht(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",i),i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const i=new Set;for(const r of t)if(r.is("attributeElement"))for(const a of r.getElementsWithSameId())i.add(a);else i.add(r);return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,i){if(i!=e)return this._toModelOffset(e.parent,e.index,i)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let r=0;for(let a=0;a<t;a++)r+=this.getModelLength(e.getChild(a));return r}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const i of e.getChildren())t+=this.getModelLength(i);return t}}findPositionIn(e,t){let i,r=0,a=0,x=0;if(e.is("$text"))return new be(e,t);for(;a<t;)i=e.getChild(x),r=this.getModelLength(i),a+=r,x++;return a==t?this._moveViewPositionToTextNode(new be(e,x)):this.findPositionIn(i,t-(a-r))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,i=e.nodeAfter;return t instanceof $?new be(t,t.data.length):i instanceof $?new be(i,0):e}}class fo{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=Hr(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=Hr(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=Hr(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e));const i=this._consumable.get(e);if(i===void 0)return null;const r=i.get(t);return r===void 0?null:r}revert(e,t){t=Hr(t),e instanceof Wn&&(e=this._getSymbolForTextProxy(e));const i=this.test(e,t);return i===!1?(this._consumable.get(e).set(t,!0),!0):i!==!0&&null}verifyAllConsumed(e){const t=[];for(const[i,r]of this._consumable)for(const[a,x]of r){const W=a.split(":")[0];x&&e==W&&t.push({event:a,item:i.name||i.description})}if(t.length)throw new h.Bb("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const r=i.get(e.endOffset);r&&(t=r.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,i=e.endOffset,r=e.parent,a=Symbol("$textProxy:"+e.data);let x,W;return x=this._textProxyRegistry.get(t),x||(x=new Map,this._textProxyRegistry.set(t,x)),W=x.get(i),W||(W=new Map,x.set(i,W)),W.set(r,a),a}}function Hr(n){const e=n.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?n:e.length>1?e[0]+":"+e[1]:e[0]}var bo=Object.defineProperty,wo=Object.defineProperties,ro=Object.getOwnPropertyDescriptors,Ar=Object.getOwnPropertySymbols,Po=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,so=(n,e,t)=>e in n?bo(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,me=(n,e)=>{for(var t in e||(e={}))Po.call(e,t)&&so(n,t,e[t]);if(Ar)for(var t of Ar(e))oo.call(e,t)&&so(n,t,e[t]);return n},ge=(n,e)=>wo(n,ro(e));class qe extends(0,h.ln)(){constructor(e){super(),this._conversionApi=me({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,i){const r=this._createConversionApi(i,e.getRefreshedItems());for(const x of e.getMarkersToRemove())this._convertMarkerRemove(x.name,x.range,r);const a=this._reduceChanges(e.getChanges());for(const x of a)x.type==="insert"?this._convertInsert(Bt._createFromPositionAndShift(x.position,x.length),r):x.type==="reinsert"?this._convertReinsert(Bt._createFromPositionAndShift(x.position,x.length),r):x.type==="remove"?this._convertRemove(x.position,x.length,x.name,r):this._convertAttribute(x.range,x.attributeKey,x.attributeOldValue,x.attributeNewValue,r);r.mapper.flushDeferredBindings();for(const x of r.mapper.flushUnboundMarkerNames()){const W=t.get(x).getRange();this._convertMarkerRemove(x,W,r),this._convertMarkerAdd(x,W,r)}for(const x of e.getMarkersToAdd())this._convertMarkerAdd(x.name,x.range,r);r.consumable.verifyAllConsumed("insert")}convert(e,t,i,r={}){const a=this._createConversionApi(i,void 0,r);this._convertInsert(e,a);for(const[x,W]of t)this._convertMarkerAdd(x,W,a);a.consumable.verifyAllConsumed("insert")}convertSelection(e,t,i){const r=this._createConversionApi(i);this.fire("cleanSelection",{selection:e},r);const a=e.getFirstPosition().root;if(!r.mapper.toViewElement(a))return;const x=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(r.consumable,e,x),this.fire("selection",{selection:e},r),e.isCollapsed){for(const W of x)if(r.consumable.test(e,"addMarker:"+W.name)){const de=W.getRange();if(!Tt(e.getFirstPosition(),W,r.mapper))continue;const ke={item:e,markerName:W.name,markerRange:de};this.fire(`addMarker:${W.name}`,ke,r)}for(const W of e.getAttributeKeys())if(r.consumable.test(e,"attribute:"+W)){const de={item:e,range:e.getFirstRange(),attributeKey:W,attributeOldValue:null,attributeNewValue:e.getAttribute(W)};this.fire(`attribute:${W}:$text`,de,r)}}}_convertInsert(e,t,i={}){i.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const r of Array.from(e.getWalker({shallow:!0})).map(li))this._testAndFire("insert",r,t)}_convertRemove(e,t,i,r){this.fire(`remove:${i}`,{position:e,length:t},r)}_convertAttribute(e,t,i,r,a){this._addConsumablesForRange(a.consumable,e,`attribute:${t}`);for(const x of e){const W={item:x.item,range:Bt._createFromPositionAndShift(x.previousPosition,x.length),attributeKey:t,attributeOldValue:i,attributeNewValue:r};this._testAndFire(`attribute:${t}`,W,a)}}_convertReinsert(e,t){const i=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,i);for(const r of i.map(li))this._testAndFire("insert",ge(me({},r),{reconversion:!0}),t)}_convertMarkerAdd(e,t,i){if(t.root.rootName=="$graveyard")return;const r=`addMarker:${e}`;if(i.consumable.add(t,r),this.fire(r,{markerName:e,markerRange:t},i),i.consumable.consume(t,r)){this._addConsumablesForRange(i.consumable,t,r);for(const a of t.getItems()){if(!i.consumable.test(a,r))continue;const x={item:a,range:Bt._createOn(a),markerName:e,markerRange:t};this.fire(r,x,i)}}}_convertMarkerRemove(e,t,i){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},i)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const i of t){const r=i.item;if(e.test(r,"insert")===null){e.add(r,"insert");for(const a of r.getAttributeKeys())e.add(r,"attribute:"+a)}}return e}_addConsumablesForRange(e,t,i){for(const r of t.getItems())e.add(r,i);return e}_addConsumablesForSelection(e,t,i){e.add(t,"selection");for(const r of i)e.add(t,"addMarker:"+r.name);for(const r of t.getAttributeKeys())e.add(t,"attribute:"+r);return e}_testAndFire(e,t,i){const r=function(de,ke){const Ee=ke.item.is("element")?ke.item.name:"$text";return`${de}:${Ee}`}(e,t),a=t.item.is("$textProxy")?i.consumable._getSymbolForTextProxy(t.item):t.item,x=this._firedEventsMap.get(i),W=x.get(a);if(W){if(W.has(r))return;W.add(r)}else x.set(a,new Set([r]));this.fire(r,t,i)}_testAndFireAddAttributes(e,t){const i={item:e,range:Bt._createOn(e)};for(const r of i.item.getAttributeKeys())i.attributeKey=r,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(r),this._testAndFire(`attribute:${r}`,i,t)}_createConversionApi(e,t=new Set,i={}){const r=ge(me({},this._conversionApi),{consumable:new fo,writer:e,options:i,convertItem:a=>this._convertInsert(Bt._createOn(a),r),convertChildren:a=>this._convertInsert(Bt._createIn(a),r,{doNotAddConsumables:!0}),convertAttributes:a=>this._testAndFireAddAttributes(a,r),canReuseView:a=>!t.has(r.mapper.toModelElement(a))});return this._firedEventsMap.set(r,new Map),r}}function Tt(n,e,t){const i=e.getRange(),r=Array.from(n.getAncestors());return r.shift(),r.reverse(),!r.some(a=>{if(i.containsItem(a))return!!t.toViewElement(a).getCustomProperty("addHighlight")})}function li(n){return{item:n.item,range:Bt._createFromPositionAndShift(n.previousPosition,n.length)}}class _i extends(0,h.ln)(Pr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let i=!1;for(const r of e._ranges)if(t.isEqual(r)){i=!0;break}if(!i)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Bt(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Bt(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Bt(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,i,r]=e;if(typeof i=="object"&&(r=i,i=void 0),t===null)this._setRanges([]);else if(t instanceof _i)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Bt)this._setRanges([t],!!r&&!!r.backward);else if(t instanceof Xt)this._setRanges([new Bt(t)]);else if(t instanceof br){const a=!!r&&!!r.backward;let x;if(i=="in")x=Bt._createIn(t);else if(i=="on")x=Bt._createOn(t);else{if(i===void 0)throw new h.Bb("model-selection-setto-required-second-parameter",[this,t]);x=new Bt(Xt._createAt(t,i))}this._setRanges([x],a)}else{if(!(0,h.TW)(t))throw new h.Bb("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,r&&!!r.backward)}}_setRanges(e,t=!1){const i=Array.from(e),r=i.some(a=>{if(!(a instanceof Bt))throw new h.Bb("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(x=>!x.isEqual(a))});(i.length!==this._ranges.length||r)&&(this._replaceAllRanges(i),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new h.Bb("model-selection-setfocus-no-ranges",[this,e]);const i=Xt._createAt(e,t);if(i.compareWith(this.focus)=="same")return;const r=this.anchor;this._ranges.length&&this._popRange(),i.compareWith(r)=="before"?(this._pushRange(new Bt(i,r)),this._lastRangeBackward=!0):(this._pushRange(new Bt(r,i)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=Yi(t.start,e);ar(i,t)&&(yield i);for(const a of t.getWalker()){const x=a.item;a.type=="elementEnd"&&Ei(x,e,t)&&(yield x)}const r=Yi(t.end,e);Zn(r,t)&&(yield r)}}containsEntireContent(e=this.anchor.root){const t=Xt._createAt(e,0),i=Xt._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Bt(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new h.Bb("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Ai(n,e){return!e.has(n)&&(e.add(n),n.root.document.model.schema.isBlock(n)&&!!n.parent)}function Ei(n,e,t){return Ai(n,e)&&qi(n,t)}function Yi(n,e){const t=n.parent.root.document.model.schema,i=n.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const a=i.find(x=>!r&&(r=t.isLimit(x),!r&&Ai(x,e)));return i.forEach(x=>e.add(x)),a}function qi(n,e){const t=function(i){const r=i.root.document.model.schema;let a=i.parent;for(;a;){if(r.isBlock(a))return a;a=a.parent}}(n);return t?!e.containsRange(Bt._createOn(t),!0):!0}function ar(n,e){return!!n&&(!(!e.isCollapsed&&!n.isEmpty)||!e.start.isTouching(Xt._createAt(n,n.maxOffset))&&qi(n,e))}function Zn(n,e){return!!n&&(!(!e.isCollapsed&&!n.isEmpty)||!e.end.isTouching(Xt._createAt(n,0))&&qi(n,e))}_i.prototype.is=function(n){return n==="selection"||n==="model:selection"};class cn extends(0,h.ln)(Bt){constructor(e,t){super(e,t),lr.call(this)}detach(){this.stopListening()}toRange(){return new Bt(this.start,this.end)}static fromRange(e){return new cn(e.start,e.end)}}function lr(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&Lr.call(this,t)},{priority:"low"})}function Lr(n){const e=this.getTransformedByOperation(n),t=Bt._createFromRanges(e),i=!t.isEqual(this),r=function(x,W){switch(W.type){case"insert":return x.containsPosition(W.position);case"move":case"remove":case"reinsert":case"merge":return x.containsPosition(W.sourcePosition)||x.start.isEqual(W.sourcePosition)||x.containsPosition(W.targetPosition);case"split":return x.containsPosition(W.splitPosition)||x.containsPosition(W.insertionPosition)}return!1}(this,n);let a=null;if(i){t.root.rootName=="$graveyard"&&(a=n.type=="remove"?n.sourcePosition:n.deletionPosition);const x=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",x,{deletionPosition:a})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:a})}cn.prototype.is=function(n){return n==="liveRange"||n==="model:liveRange"||n=="range"||n==="model:range"};const er="selection:";class vn extends(0,h.ln)(Pr){constructor(e){super(),this._selection=new tr(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return er+e}static _isStoreAttributeKey(e){return e.startsWith(er)}}vn.prototype.is=function(n){return n==="selection"||n=="model:selection"||n=="documentSelection"||n=="model:documentSelection"};class tr extends _i{constructor(e){super(),this.markers=new h.FE({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&r.type!="marker"&&r.type!="rename"&&r.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,i,r,a)=>{this._updateMarker(i,a)}),this.listenTo(this._document,"change",(t,i)=>{(function(r,a){const x=r.document.differ;for(const W of x.getChanges()){if(W.type!="insert")continue;const de=W.position.parent;W.length===de.maxOffset&&r.enqueueChange(a,ke=>{const Ee=Array.from(de.getAttributeKeys()).filter(Ze=>Ze.startsWith(er));for(const Ze of Ee)ke.removeAttribute(Ze,de)})}})(this._model,i)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=(0,h.hQ)();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new h.Bb("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new h.Bb("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=cn.fromRange(e);return t.on("change:range",(i,r,a)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=a.deletionPosition;const x=this._ranges.indexOf(t);this._ranges.splice(x,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const r of this._model.markers){const a=r.name.split(":",1)[0];if(!this._observedMarkers.has(a))continue;const x=r.getRange();for(const W of this.getRanges())x.containsRange(W,!W.isCollapsed)&&e.push(r)}const i=Array.from(this.markers);for(const r of e)this.markers.has(r)||(this.markers.add(r),t=!0);for(const r of Array.from(this.markers))e.includes(r)||(this.markers.remove(r),t=!0);t&&this.fire("change:marker",{oldMarkers:i,directChange:!1})}_updateMarker(e,t){const i=e.name.split(":",1)[0];if(!this._observedMarkers.has(i))return;let r=!1;const a=Array.from(this.markers),x=this.markers.has(e);if(t){let W=!1;for(const de of this.getRanges())if(t.containsRange(de,!de.isCollapsed)){W=!0;break}W&&!x?(this.markers.add(e),r=!0):!W&&x&&(this.markers.remove(e),r=!0)}else x&&(this.markers.remove(e),r=!0);r&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateAttributes(e){const t=(0,h.qL)(this._getSurroundingAttributes()),i=(0,h.qL)(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[a,x]of this._attributePriority)x=="low"&&(this._attrs.delete(a),this._attributePriority.delete(a));this._setAttributesTo(t);const r=[];for(const[a,x]of this.getAttributes())i.has(a)&&i.get(a)===x||r.push(a);for(const[a]of i)this.hasAttribute(a)||r.push(a);r.length>0&&this.fire("change:attribute",{attributeKeys:r,directChange:!1})}_setAttribute(e,t,i=!0){const r=i?"normal":"low";return r=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,r),!0)}_removeAttribute(e,t=!0){const i=t?"normal":"low";return(i!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,i),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[i,r]of this.getAttributes())e.get(i)!==r&&this._removeAttribute(i,!1);for(const[i,r]of e)this._setAttribute(i,r,!1)&&t.add(i);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(er)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let i=null;if(this.isCollapsed){const r=e.textNode?e.textNode:e.nodeBefore,a=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(i=An(r,t)),i||(i=An(a,t)),!this.isGravityOverridden&&!i){let x=r;for(;x&&!i;)x=x.previousSibling,i=An(x,t)}if(!i){let x=a;for(;x&&!i;)x=x.nextSibling,i=An(x,t)}i||(i=this.getStoredAttributes())}else{const r=this.getFirstRange();for(const a of r){if(a.item.is("element")&&t.isObject(a.item)){i=An(a.item,t);break}if(a.type=="text"){i=a.item.getAttributes();break}}}return i}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function An(n,e){if(!n)return null;if(n instanceof Wn||n instanceof an)return n.getAttributes();if(!e.isInline(n))return null;if(!e.isObject(n))return[];const t=[];for(const[i,r]of n.getAttributes())e.checkAttribute("$text",i)&&e.getAttributeProperties(i).copyFromObject!==!1&&t.push([i,r]);return t}class Gn{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class kr extends Gn{elementToElement(e){return this.add(function(t){const i=Oo(t.model),r=mr(t.view,"container");return i.attributes.length&&(i.children=!0),a=>{a.on(`insert:${i.name}`,function(x,W=Er){return(de,ke,Ee)=>{if(!W(ke.item,Ee.consumable,{preflight:!0}))return;const Ze=x(ke.item,Ee,ke);if(!Ze)return;W(ke.item,Ee.consumable);const rt=Ee.mapper.toViewPosition(ke.range.start);Ee.mapper.bindElements(ke.item,Ze),Ee.writer.insert(rt,Ze),Ee.convertAttributes(ke.item),ir(Ze,ke.item.getChildren(),Ee,{reconversion:ke.reconversion})}}(r,Xi(i)),{priority:t.converterPriority||"normal"}),(i.children||i.attributes.length)&&a.on("reduceChanges",fn(i),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const i=Oo(t.model),r=mr(t.view,"container");return i.children=!0,a=>{if(a._conversionApi.schema.checkChild(i.name,"$text"))throw new h.Bb("conversion-element-to-structure-disallowed-text",a,{elementName:i.name});var x,W;a.on(`insert:${i.name}`,(x=r,W=Xi(i),(de,ke,Ee)=>{if(!W(ke.item,Ee.consumable,{preflight:!0}))return;const Ze=new Map;Ee.writer._registerSlotFactory(function(qt,ci,vi){return(Fi,Wi)=>{const xn=Fi.createContainerElement("$slot");let jr=null;if(Wi==="children")jr=Array.from(qt.getChildren());else{if(typeof Wi!="function")throw new h.Bb("conversion-slot-mode-unknown",vi.dispatcher,{modeOrFilter:Wi});jr=Array.from(qt.getChildren()).filter(Jr=>Wi(Jr))}return ci.set(xn,jr),xn}}(ke.item,Ze,Ee));const rt=x(ke.item,Ee,ke);if(Ee.writer._clearSlotFactory(),!rt)return;(function(qt,ci,vi){const Fi=Array.from(ci.values()).flat(),Wi=new Set(Fi);if(Wi.size!=Fi.length)throw new h.Bb("conversion-slot-filter-overlap",vi.dispatcher,{element:qt});if(Wi.size!=qt.childCount)throw new h.Bb("conversion-slot-filter-incomplete",vi.dispatcher,{element:qt})})(ke.item,Ze,Ee),W(ke.item,Ee.consumable);const jt=Ee.mapper.toViewPosition(ke.range.start);Ee.mapper.bindElements(ke.item,rt),Ee.writer.insert(jt,rt),Ee.convertAttributes(ke.item),function(qt,ci,vi,Fi){vi.mapper.on("modelToViewPosition",jr,{priority:"highest"});let Wi=null,xn=null;for([Wi,xn]of ci)ir(qt,xn,vi,Fi),vi.writer.move(vi.writer.createRangeIn(Wi),vi.writer.createPositionBefore(Wi)),vi.writer.remove(Wi);function jr(Jr,la){const qa=la.modelPosition.nodeAfter,wa=xn.indexOf(qa);wa<0||(la.viewPosition=la.mapper.findPositionIn(Wi,wa))}vi.mapper.off("modelToViewPosition",jr)}(rt,Ze,Ee,{reconversion:ke.reconversion})}),{priority:t.converterPriority||"normal"}),a.on("reduceChanges",fn(i),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=xr(t);let i=t.model;typeof i=="string"&&(i={key:i});let r=`attribute:${i.key}`;if(i.name&&(r+=":"+i.name),i.values)for(const x of i.values)t.view[x]=mr(t.view[x],"attribute");else t.view=mr(t.view,"attribute");const a=vo(t);return x=>{x.on(r,function(W){return(de,ke,Ee)=>{if(!Ee.consumable.test(ke.item,de.name))return;const Ze=W(ke.attributeOldValue,Ee,ke),rt=W(ke.attributeNewValue,Ee,ke);if(!Ze&&!rt)return;Ee.consumable.consume(ke.item,de.name);const jt=Ee.writer,qt=jt.document.selection;if(ke.item instanceof _i||ke.item instanceof vn)jt.wrap(qt.getFirstRange(),rt);else{let ci=Ee.mapper.toViewRange(ke.range);ke.attributeOldValue!==null&&Ze&&(ci=jt.unwrap(ci,Ze)),ke.attributeNewValue!==null&&rt&&jt.wrap(ci,rt)}}}(a),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=xr(t);let i=t.model;typeof i=="string"&&(i={key:i});let r=`attribute:${i.key}`;if(i.name&&(r+=":"+i.name),i.values)for(const x of i.values)t.view[x]=Mo(t.view[x]);else t.view=Mo(t.view);const a=vo(t);return x=>{var W;x.on(r,(W=a,(de,ke,Ee)=>{if(!Ee.consumable.test(ke.item,de.name))return;const Ze=W(ke.attributeOldValue,Ee,ke),rt=W(ke.attributeNewValue,Ee,ke);if(!Ze&&!rt)return;Ee.consumable.consume(ke.item,de.name);const jt=Ee.mapper.toViewElement(ke.item),qt=Ee.writer;if(!jt)throw new h.Bb("conversion-attribute-to-attribute-on-text",Ee.dispatcher,ke);if(ke.attributeOldValue!==null&&Ze)if(Ze.key=="class"){const ci=(0,h.qo)(Ze.value);for(const vi of ci)qt.removeClass(vi,jt)}else if(Ze.key=="style"){const ci=Object.keys(Ze.value);for(const vi of ci)qt.removeStyle(vi,jt)}else qt.removeAttribute(Ze.key,jt);if(ke.attributeNewValue!==null&&rt)if(rt.key=="class"){const ci=(0,h.qo)(rt.value);for(const vi of ci)qt.addClass(vi,jt)}else if(rt.key=="style"){const ci=Object.keys(rt.value);for(const vi of ci)qt.setStyle(vi,rt.value[vi],jt)}else qt.setAttribute(rt.key,rt.value,jt)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const i=mr(t.view,"ui");return r=>{var a;r.on(`addMarker:${t.model}`,(a=i,(x,W,de)=>{W.isOpening=!0;const ke=a(W,de);W.isOpening=!1;const Ee=a(W,de);if(!ke||!Ee)return;const Ze=W.markerRange;if(Ze.isCollapsed&&!de.consumable.consume(Ze,x.name))return;for(const qt of Ze)if(!de.consumable.consume(qt.item,x.name))return;const rt=de.mapper,jt=de.writer;jt.insert(rt.toViewPosition(Ze.start),ke),de.mapper.bindElementToMarker(ke,W.markerName),Ze.isCollapsed||(jt.insert(rt.toViewPosition(Ze.end),Ee),de.mapper.bindElementToMarker(Ee,W.markerName)),x.stop()}),{priority:t.converterPriority||"normal"}),r.on(`removeMarker:${t.model}`,(x,W,de)=>{const ke=de.mapper.markerNameToElements(W.markerName);if(ke){for(const Ee of ke)de.mapper.unbindElementFromMarkerName(Ee,W.markerName),de.writer.clear(de.writer.createRangeOn(Ee),Ee);de.writer.clearClonedElementsGroup(W.markerName),x.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return i=>{var r;i.on(`addMarker:${t.model}`,(r=t.view,(a,x,W)=>{if(!x.item||!(x.item instanceof _i||x.item instanceof vn||x.item.is("$textProxy")))return;const de=Ui(r,x,W);if(!de||!W.consumable.consume(x.item,a.name))return;const ke=W.writer,Ee=ko(ke,de),Ze=ke.document.selection;if(x.item instanceof _i||x.item instanceof vn)ke.wrap(Ze.getFirstRange(),Ee);else{const rt=W.mapper.toViewRange(x.range),jt=ke.wrap(rt,Ee);for(const qt of jt.getItems())if(qt.is("attributeElement")&&qt.isSimilar(Ee)){W.mapper.bindElementToMarker(qt,x.markerName);break}}}),{priority:t.converterPriority||"normal"}),i.on(`addMarker:${t.model}`,function(a){return(x,W,de)=>{if(!W.item||!(W.item instanceof ln))return;const ke=Ui(a,W,de);if(!ke||!de.consumable.test(W.item,x.name))return;const Ee=de.mapper.toViewElement(W.item);if(Ee&&Ee.getCustomProperty("addHighlight")){de.consumable.consume(W.item,x.name);for(const Ze of Bt._createIn(W.item))de.consumable.consume(Ze.item,x.name);Ee.getCustomProperty("addHighlight")(Ee,ke,de.writer),de.mapper.bindElementToMarker(Ee,W.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),i.on(`removeMarker:${t.model}`,function(a){return(x,W,de)=>{if(W.markerRange.isCollapsed)return;const ke=Ui(a,W,de);if(!ke)return;const Ee=ko(de.writer,ke),Ze=de.mapper.markerNameToElements(W.markerName);if(Ze){for(const rt of Ze)de.mapper.unbindElementFromMarkerName(rt,W.markerName),rt.is("attributeElement")?de.writer.unwrap(de.writer.createRangeOn(rt),Ee):rt.getCustomProperty("removeHighlight")(rt,ke.id,de.writer);de.writer.clearClonedElementsGroup(W.markerName),x.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=xr(t);const i=t.model;let r=t.view;return r||(r=a=>({group:i,name:a.substr(t.model.length+1)})),a=>{var x;a.on(`addMarker:${i}`,(x=r,(W,de,ke)=>{const Ee=x(de.markerName,ke);if(!Ee)return;const Ze=de.markerRange;ke.consumable.consume(Ze,W.name)&&(Lo(Ze,!1,ke,de,Ee),Lo(Ze,!0,ke,de,Ee),W.stop())}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${i}`,function(W){return(de,ke,Ee)=>{const Ze=W(ke.markerName,Ee);if(!Ze)return;const rt=Ee.mapper.markerNameToElements(ke.markerName);if(rt){for(const qt of rt)Ee.mapper.unbindElementFromMarkerName(qt,ke.markerName),qt.is("containerElement")?(jt(`data-${Ze.group}-start-before`,qt),jt(`data-${Ze.group}-start-after`,qt),jt(`data-${Ze.group}-end-before`,qt),jt(`data-${Ze.group}-end-after`,qt)):Ee.writer.clear(Ee.writer.createRangeOn(qt),qt);Ee.writer.clearClonedElementsGroup(ke.markerName),de.stop()}function jt(qt,ci){if(ci.hasAttribute(qt)){const vi=new Set(ci.getAttribute(qt).split(","));vi.delete(Ze.name),vi.size==0?Ee.writer.removeAttribute(qt,ci):Ee.writer.setAttribute(qt,Array.from(vi).join(","),ci)}}}}(r),{priority:t.converterPriority||"normal"})}}(e))}}function ko(n,e){const t=n.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Lo(n,e,t,i,r){const a=e?n.start:n.end,x=a.nodeAfter&&a.nodeAfter.is("element")?a.nodeAfter:null,W=a.nodeBefore&&a.nodeBefore.is("element")?a.nodeBefore:null;if(x||W){let de,ke;e&&x||!e&&!W?(de=x,ke=!0):(de=W,ke=!1);const Ee=t.mapper.toViewElement(de);if(Ee)return void function(Ze,rt,jt,qt,ci,vi){const Fi=`data-${vi.group}-${rt?"start":"end"}-${jt?"before":"after"}`,Wi=Ze.hasAttribute(Fi)?Ze.getAttribute(Fi).split(","):[];Wi.unshift(vi.name),qt.writer.setAttribute(Fi,Wi.join(","),Ze),qt.mapper.bindElementToMarker(Ze,ci.markerName)}(Ee,e,ke,t,i,r)}(function(de,ke,Ee,Ze,rt){const jt=`${rt.group}-${ke?"start":"end"}`,qt=rt.name?{name:rt.name}:null,ci=Ee.writer.createUIElement(jt,qt);Ee.writer.insert(de,ci),Ee.mapper.bindElementToMarker(ci,Ze.markerName)})(t.mapper.toViewPosition(a),e,t,i,r)}function Oo(n){return typeof n=="string"&&(n={name:n}),{name:n.name,attributes:n.attributes?(0,h.qo)(n.attributes):[],children:!!n.children}}function mr(n,e){return typeof n=="function"?n:(t,i)=>function(r,a,x){typeof r=="string"&&(r={name:r});let W;const de=a.writer,ke=Object.assign({},r.attributes);if(x=="container")W=de.createContainerElement(r.name,ke);else if(x=="attribute"){const Ee={priority:r.priority||di.DEFAULT_PRIORITY};W=de.createAttributeElement(r.name,ke,Ee)}else W=de.createUIElement(r.name,ke);if(r.styles){const Ee=Object.keys(r.styles);for(const Ze of Ee)de.setStyle(Ze,r.styles[Ze],W)}if(r.classes){const Ee=r.classes;if(typeof Ee=="string")de.addClass(Ee,W);else for(const Ze of Ee)de.addClass(Ze,W)}return W}(n,i,e)}function vo(n){return n.model.values?(e,t,i)=>{const r=n.view[e];return r?r(e,t,i):null}:n.view}function Mo(n){return typeof n=="string"?e=>({key:n,value:e}):typeof n=="object"?n.value?()=>n:e=>({key:n.key,value:e}):n}function Ui(n,e,t){const i=typeof n=="function"?n(e,t):n;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}function fn(n){const e=function(t){return(i,r)=>{if(!i.is("element",t.name))return!1;if(r.type=="attribute"){if(t.attributes.includes(r.attributeKey))return!0}else if(t.children)return!0;return!1}}(n);return(t,i)=>{const r=[];i.reconvertedElements||(i.reconvertedElements=new Set);for(const a of i.changes){const x=a.type=="attribute"?a.range.start.nodeAfter:a.position.parent;if(x&&e(x,a)){if(!i.reconvertedElements.has(x)){i.reconvertedElements.add(x);const W=Xt._createBefore(x);let de=r.length;for(let ke=r.length-1;ke>=0;ke--){const Ee=r[ke],Ze=(Ee.type=="attribute"?Ee.range.start:Ee.position).compareWith(W);if(Ze=="before"||Ee.type=="remove"&&Ze=="same")break;de=ke}r.splice(de,0,{type:"remove",name:x.name,position:W,length:1},{type:"reinsert",name:x.name,position:W,length:1})}}else r.push(a)}i.changes=r}}function Xi(n){return(e,t,i={})=>{const r=["insert"];for(const a of n.attributes)e.hasAttribute(a)&&r.push(`attribute:${a}`);return!!r.every(a=>t.test(e,a))&&(i.preflight||r.forEach(a=>t.consume(e,a)),!0)}}function ir(n,e,t,i){for(const r of e)Or(n.root,r,t,i)||t.convertItem(r)}function Or(n,e,t,i){const{writer:r,mapper:a}=t;if(!i.reconversion)return!1;const x=a.toViewElement(e);return!(!x||x.root==n)&&!!t.canReuseView(x)&&(r.move(r.createRangeOn(x),a.toViewPosition(Xt._createBefore(e))),!0)}function Er(n,e,{preflight:t}={}){return t?e.test(n,"insert"):e.consume(n,"insert")}function Bn(n){const{schema:e,document:t}=n.model;for(const i of t.getRoots())if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return n.insertElement("paragraph",i),!0;return!1}function $n(n,e,t){const i=t.createContext(n);return!!t.checkChild(i,"paragraph")&&!!t.checkChild(i.push("paragraph"),e)}function _n(n,e){const t=e.createElement("paragraph");return e.insert(t,n),e.createPositionAt(t,0)}var vr=Object.defineProperty,nr=Object.defineProperties,Tn=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,Ur=Object.prototype.hasOwnProperty,Yo=Object.prototype.propertyIsEnumerable,Qo=(n,e,t)=>e in n?vr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class ao extends Gn{elementToElement(e){return this.add(Ro(e))}elementToAttribute(e){return this.add(function(t){t=xr(t),lo(t);const i=Uo(t,!1),r=Fo(t.view),a=r?`element:${r}`:"element";return x=>{x.on(a,i,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=xr(t);let i=null;(typeof t.view=="string"||t.view.key)&&(i=function(a){typeof a.view=="string"&&(a.view={key:a.view});const x=a.view.key;let W;return x=="class"||x=="style"?W={[x=="class"?"classes":"styles"]:a.view.value}:W={attributes:{[x]:a.view.value===void 0?/[\s\S]*/:a.view.value}},a.view.name&&(W.name=a.view.name),a.view=W,x}(t)),lo(t,i);const r=Uo(t,!0);return a=>{a.on("element",r,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const i=function(x){return(W,de)=>{const ke=typeof x=="string"?x:x(W,de);return de.writer.createElement("$marker",{"data-name":ke})}}(t.model);return Ro((r=((x,W)=>{for(var de in W||(W={}))Ur.call(W,de)&&Qo(x,de,W[de]);if(Dn)for(var de of Dn(W))Yo.call(W,de)&&Qo(x,de,W[de]);return x})({},t),a={model:i},nr(r,Tn(a))));var r,a}(e))}dataToMarker(e){return this.add(function(t){t=xr(t),t.model||(t.model=x=>x?t.view+":"+x:t.view);const i={view:t.view,model:t.model},r=Ho(Wo(i,"start")),a=Ho(Wo(i,"end"));return x=>{x.on(`element:${t.view}-start`,r,{priority:t.converterPriority||"normal"}),x.on(`element:${t.view}-end`,a,{priority:t.converterPriority||"normal"});const W=h.tA.low,de=h.tA.highest,ke=h.tA.get(t.converterPriority)/de;x.on("element",function(Ee){return(Ze,rt,jt)=>{const qt=`data-${Ee.view}`;function ci(vi,Fi){for(const Wi of Fi){const xn=Ee.model(Wi,jt),jr=jt.writer.createElement("$marker",{"data-name":xn});jt.writer.insert(jr,vi),rt.modelCursor.isEqual(vi)?rt.modelCursor=rt.modelCursor.getShiftedBy(1):rt.modelCursor=rt.modelCursor._getTransformedByInsertion(vi,1),rt.modelRange=rt.modelRange._getTransformedByInsertion(vi,1)[0]}}(jt.consumable.test(rt.viewItem,{attributes:qt+"-end-after"})||jt.consumable.test(rt.viewItem,{attributes:qt+"-start-after"})||jt.consumable.test(rt.viewItem,{attributes:qt+"-end-before"})||jt.consumable.test(rt.viewItem,{attributes:qt+"-start-before"}))&&(rt.modelRange||Object.assign(rt,jt.convertChildren(rt.viewItem,rt.modelCursor)),jt.consumable.consume(rt.viewItem,{attributes:qt+"-end-after"})&&ci(rt.modelRange.end,rt.viewItem.getAttribute(qt+"-end-after").split(",")),jt.consumable.consume(rt.viewItem,{attributes:qt+"-start-after"})&&ci(rt.modelRange.end,rt.viewItem.getAttribute(qt+"-start-after").split(",")),jt.consumable.consume(rt.viewItem,{attributes:qt+"-end-before"})&&ci(rt.modelRange.start,rt.viewItem.getAttribute(qt+"-end-before").split(",")),jt.consumable.consume(rt.viewItem,{attributes:qt+"-start-before"})&&ci(rt.modelRange.start,rt.viewItem.getAttribute(qt+"-start-before").split(",")))}}(i),{priority:W+ke})}}(e))}}function Ro(n){const e=Ho(n=xr(n)),t=Fo(n.view),i=t?`element:${t}`:"element";return r=>{r.on(i,e,{priority:n.converterPriority||"normal"})}}function Fo(n){return typeof n=="string"?n:typeof n=="object"&&typeof n.name=="string"?n.name:null}function Ho(n){const e=new j(n.view);return(t,i,r)=>{const a=e.match(i.viewItem);if(!a)return;const x=a.match;if(x.name=!0,!r.consumable.test(i.viewItem,x))return;const W=function(de,ke,Ee){return de instanceof Function?de(ke,Ee):Ee.writer.createElement(de)}(n.model,i.viewItem,r);W&&r.safeInsert(W,i.modelCursor)&&(r.consumable.consume(i.viewItem,x),r.convertChildren(i.viewItem,W),r.updateConversionResult(W,i))}}function lo(n,e=null){const t=e===null||(a=>a.getAttribute(e)),i=typeof n.model!="object"?n.model:n.model.key,r=typeof n.model!="object"||n.model.value===void 0?t:n.model.value;n.model={key:i,value:r}}function Uo(n,e){const t=new j(n.view);return(i,r,a)=>{if(!r.modelRange&&e)return;const x=t.match(r.viewItem);if(!x||(function(Ee,Ze){const rt=typeof Ee=="function"?Ee(Ze):Ee;return typeof rt=="object"&&!Fo(rt)?!1:!rt.classes&&!rt.attributes&&!rt.styles}(n.view,r.viewItem)?x.match.name=!0:delete x.match.name,!a.consumable.test(r.viewItem,x.match)))return;const W=n.model.key,de=typeof n.model.value=="function"?n.model.value(r.viewItem,a):n.model.value;if(de===null)return;r.modelRange||Object.assign(r,a.convertChildren(r.viewItem,r.modelCursor)),function(Ee,Ze,rt,jt){let qt=!1;for(const ci of Array.from(Ee.getItems({shallow:rt})))jt.schema.checkAttribute(ci,Ze.key)&&(qt=!0,ci.hasAttribute(Ze.key)||jt.writer.setAttribute(Ze.key,Ze.value,ci));return qt}(r.modelRange,{key:W,value:de},e,a)&&(a.consumable.test(r.viewItem,{name:!0})&&(x.match.name=!0),a.consumable.consume(r.viewItem,x.match))}}function Wo(n,e){return{view:`${n.view}-${e}`,model:(t,i)=>{const r=t.getAttribute("name"),a=n.model(r,i);return i.writer.createElement("$marker",{"data-name":a})}}}function ms(n){n.document.registerPostFixer(e=>function(t,i){const r=i.document.selection,a=i.schema,x=[];let W=!1;for(const de of r.getRanges()){const ke=jo(de,a);ke&&!ke.isEqual(de)?(x.push(ke),W=!0):x.push(de)}return W&&t.setSelection(function(de){const ke=[...de],Ee=new Set;let Ze=1;for(;Ze<ke.length;){const rt=ke[Ze],jt=ke.slice(0,Ze);for(const[qt,ci]of jt.entries())if(!Ee.has(qt)){if(rt.isEqual(ci))Ee.add(qt);else if(rt.isIntersecting(ci)){Ee.add(qt),Ee.add(Ze);const vi=rt.getJoined(ci);ke.push(vi)}}Ze++}return ke.filter((rt,jt)=>!Ee.has(jt))}(x),{backward:r.isBackward}),!1}(e,n))}function jo(n,e){return n.isCollapsed?function(t,i){const r=t.start,a=i.getNearestSelectionRange(r);if(!a){const W=r.getAncestors().reverse().find(de=>i.isObject(de));return W?Bt._createOn(W):null}if(!a.isCollapsed)return a;const x=a.start;return r.isEqual(x)?null:new Bt(x)}(n,e):function(t,i){const{start:r,end:a}=t,x=i.checkChild(r,"$text"),W=i.checkChild(a,"$text"),de=i.getLimitElement(r),ke=i.getLimitElement(a);if(de===ke){if(x&&W)return null;if(function(rt,jt,qt){const ci=rt.nodeAfter&&!qt.isLimit(rt.nodeAfter)||qt.checkChild(rt,"$text"),vi=jt.nodeBefore&&!qt.isLimit(jt.nodeBefore)||qt.checkChild(jt,"$text");return ci||vi}(r,a,i)){const rt=r.nodeAfter&&i.isSelectable(r.nodeAfter)?null:i.getNearestSelectionRange(r,"forward"),jt=a.nodeBefore&&i.isSelectable(a.nodeBefore)?null:i.getNearestSelectionRange(a,"backward"),qt=rt?rt.start:r,ci=jt?jt.end:a;return new Bt(qt,ci)}}const Ee=de&&!de.is("rootElement"),Ze=ke&&!ke.is("rootElement");if(Ee||Ze){const rt=r.nodeAfter&&a.nodeBefore&&r.nodeAfter.parent===a.nodeBefore.parent,jt=Ee&&(!rt||!Zo(r.nodeAfter,i)),qt=Ze&&(!rt||!Zo(a.nodeBefore,i));let ci=r,vi=a;return jt&&(ci=Xt._createBefore(Nr(de,i))),qt&&(vi=Xt._createAfter(Nr(ke,i))),new Bt(ci,vi)}return null}(n,e)}function Nr(n,e){let t=n,i=t;for(;e.isLimit(i)&&i.parent;)t=i,i=i.parent;return t}function Zo(n,e){return n&&e.isSelectable(n)}class gs extends(0,h.Re)(){constructor(e,t){super(),this.model=e,this.view=new Cr(t),this.mapper=new Vr,this.downcastDispatcher=new qe({mapper:this.mapper,schema:e.schema});const i=this.model.document,r=i.selection,a=this.model.markers;var x,W,de;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(i,"change",()=>{this.view.change(ke=>{this.downcastDispatcher.convertChanges(i.differ,a,ke),this.downcastDispatcher.convertSelection(r,a,ke)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(ke,Ee){return(Ze,rt)=>{const jt=rt.newSelection,qt=[];for(const vi of jt.getRanges())qt.push(Ee.toModelRange(vi));const ci=ke.createSelection(qt,{backward:jt.isBackward});ci.isEqual(ke.document.selection)||ke.change(vi=>{vi.setSelection(ci)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(x=this.mapper,W=this.model.schema,de=this.view,(ke,Ee)=>{if(!de.document.isComposing||h.OB.isAndroid)for(let Ze=0;Ze<Ee.targetRanges.length;Ze++){const rt=Ee.targetRanges[Ze],jt=x.toModelRange(rt),qt=jo(jt,W);qt&&!qt.isEqual(jt)&&(Ee.targetRanges[Ze]=x.toViewRange(qt))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(ke,Ee,Ze)=>{if(!Ze.consumable.consume(Ee.item,ke.name))return;const rt=Ze.writer,jt=Ze.mapper.toViewPosition(Ee.range.start),qt=rt.createText(Ee.item.data);rt.insert(jt,qt)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(ke,Ee,Ze)=>{Ze.convertAttributes(Ee.item),Ee.reconversion||!Ee.item.is("element")||Ee.item.isEmpty||Ze.convertChildren(Ee.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(ke,Ee,Ze)=>{const rt=Ze.mapper.toViewPosition(Ee.position),jt=Ee.position.getShiftedBy(Ee.length),qt=Ze.mapper.toViewPosition(jt,{isPhantom:!0}),ci=Ze.writer.createRange(rt,qt),vi=Ze.writer.remove(ci.getTrimmed());for(const Fi of Ze.writer.createRangeIn(vi).getItems())Ze.mapper.unbindViewElement(Fi,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(ke,Ee,Ze)=>{const rt=Ze.writer,jt=rt.document.selection;for(const qt of jt.getRanges())qt.isCollapsed&&qt.end.parent.isAttached()&&Ze.writer.mergeAttributes(qt.start);rt.setSelection(null)}),this.downcastDispatcher.on("selection",(ke,Ee,Ze)=>{const rt=Ee.selection;if(rt.isCollapsed||!Ze.consumable.consume(rt,"selection"))return;const jt=[];for(const qt of rt.getRanges())jt.push(Ze.mapper.toViewRange(qt));Ze.writer.setSelection(jt,{backward:rt.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(ke,Ee,Ze)=>{const rt=Ee.selection;if(!rt.isCollapsed||!Ze.consumable.consume(rt,"selection"))return;const jt=Ze.writer,qt=rt.getFirstPosition(),ci=Ze.mapper.toViewPosition(qt),vi=jt.breakAttributes(ci);jt.setSelection(vi)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(ke=>{if(ke.rootName=="$graveyard")return null;const Ee=new X(this.view.document,ke.name);return Ee.rootName=ke.rootName,this.mapper.bindElements(ke,Ee),Ee})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new h.Bb("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(i)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Mr{constructor(){this._consumables=new Map}add(e,t){let i;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?i=this._consumables.get(e):(i=new Jo(e),this._consumables.set(e,i)),i.add(t))}test(e,t){const i=this._consumables.get(e);return i===void 0?null:e.is("$text")||e.is("documentFragment")?i:i.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const i=this._consumables.get(e);i!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):i.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},i=e.getAttributeKeys();for(const x of i)x!="style"&&x!="class"&&t.attributes.push(x);const r=e.getClassNames();for(const x of r)t.classes.push(x);const a=e.getStyleNames();for(const x of a)t.styles.push(x);return t}static createFrom(e,t){if(t||(t=new Mr),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,Mr.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const i of e.getChildren())t=Mr.createFrom(i,t);return t}}const co=["attributes","classes","styles"];class Jo{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of co)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of co)if(t in e){const i=this._test(t,e[t]);if(i!==!0)return i}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of co)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of co)t in e&&this._revert(t,e[t])}_add(e,t){const i=(0,Se.Z)(t)?t:[t],r=this._consumables[e];for(const a of i){if(e==="attributes"&&(a==="class"||a==="style"))throw new h.Bb("viewconsumable-invalid-attribute",this);if(r.set(a,!0),e==="styles")for(const x of this.element.document.stylesProcessor.getRelatedStyles(a))r.set(x,!0)}}_test(e,t){const i=(0,Se.Z)(t)?t:[t],r=this._consumables[e];for(const a of i)if(e!=="attributes"||a!=="class"&&a!=="style"){const x=r.get(a);if(x===void 0)return null;if(!x)return!1}else{const x=a=="class"?"classes":"styles",W=this._test(x,[...this._consumables[x].keys()]);if(W!==!0)return W}return!0}_consume(e,t){const i=(0,Se.Z)(t)?t:[t],r=this._consumables[e];for(const a of i)if(e!=="attributes"||a!=="class"&&a!=="style"){if(r.set(a,!1),e=="styles")for(const x of this.element.document.stylesProcessor.getRelatedStyles(a))r.set(x,!1)}else{const x=a=="class"?"classes":"styles";this._consume(x,[...this._consumables[x].keys()])}}_revert(e,t){const i=(0,Se.Z)(t)?t:[t],r=this._consumables[e];for(const a of i)if(e!=="attributes"||a!=="class"&&a!=="style")r.get(a)===!1&&r.set(a,!0);else{const x=a=="class"?"classes":"styles";this._revert(x,[...this._consumables[x].keys()])}}}class ps extends(0,h.Re)(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Sr(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Sr(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new h.Bb("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new h.Bb("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const i=this.getDefinition(e.last);return!!i&&i.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Xt){const i=e.nodeBefore,r=e.nodeAfter;if(!(i instanceof ln))throw new h.Bb("schema-check-merge-no-element-before",this);if(!(r instanceof ln))throw new h.Bb("schema-check-merge-no-element-after",this);return this.checkMerge(i,r)}for(const i of t.getChildren())if(!this.checkChild(e,i))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[i,r])=>{if(!r)return;const a=e(i,r);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[i,r])=>{const a=e(i,r);typeof a=="boolean"&&(t.stop(),t.return=a)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof Xt?t=e.parent:t=(e instanceof Bt?[e]:Array.from(e.getRanges())).reduce((i,r)=>{const a=r.getCommonAncestor();return i?i.getCommonAncestor(a,{includeSelf:!0}):a},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new an("",e.getAttributes())];return this.checkAttribute(i,t)}{const i=e.getRanges();for(const r of i)for(const a of r)if(this.checkAttribute(a.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(i){for(const r of i)yield*r.getMinimalFlatRanges()}(e);for(const i of e)yield*this._getValidRangesForRange(i,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Bt(e);let i,r;const a=e.getAncestors().reverse().find(x=>this.isLimit(x))||e.root;t!="both"&&t!="backward"||(i=new wr({boundaries:Bt._createIn(a),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(r=new wr({boundaries:Bt._createIn(a),startPosition:e}));for(const x of function*(W,de){let ke=!1;for(;!ke;){if(ke=!0,W){const Ee=W.next();Ee.done||(ke=!1,yield{walker:W,value:Ee.value})}if(de){const Ee=de.next();Ee.done||(ke=!1,yield{walker:de,value:Ee.value})}}}(i,r)){const W=x.walker==i?"elementEnd":"elementStart",de=x.value;if(de.type==W&&this.isObject(de.item))return Bt._createOn(de.item);if(this.checkChild(de.nextPosition,"$text"))return new Bt(de.nextPosition)}return null}findAllowedParent(e,t){let i=e.parent;for(;i;){if(this.checkChild(i,t))return i;if(this.isLimit(i))return null;i=i.parent}return null}setAllowedAttributes(e,t,i){const r=i.model;for(const[a,x]of Object.entries(t))r.schema.checkAttribute(e,a)&&i.setAttribute(a,x,e)}removeDisallowedAttributes(e,t){for(const i of e)if(i.is("$text"))ns(this,i,t);else{const r=Bt._createIn(i).getPositions();for(const a of r)ns(this,a.nodeBefore||a.parent,t)}}getAttributesWithProperty(e,t,i){const r={};for(const[a,x]of e.getAttributes()){const W=this.getAttributeProperties(a);W[t]!==void 0&&(i!==void 0&&i!==W[t]||(r[a]=x))}return r}createContext(e){return new Sr(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,i=Object.keys(t);for(const r of i)e[r]=Xo(t[r],r);for(const r of i)fs(e,r);for(const r of i)bs(e,r);for(const r of i)$o(e,r);for(const r of i)es(e,r),ws(e,r);for(const r of i)ts(e,r),is(e,r),qo(e,r);this._compiledDefinitions=e}_checkContextMatch(e,t,i=t.length-1){const r=t.getItem(i);if(e.allowIn.includes(r.name)){if(i==0)return!0;{const a=this.getDefinition(r);return this._checkContextMatch(a,t,i-1)}}return!1}*_getValidRangesForRange(e,t){let i=e.start,r=e.start;for(const a of e.getItems({shallow:!0}))a.is("element")&&(yield*this._getValidRangesForRange(Bt._createIn(a),t)),this.checkAttribute(a,t)||(i.isEqual(r)||(yield new Bt(i,r)),i=Xt._createAfter(a)),r=Xt._createAfter(a);i.isEqual(r)||(yield new Bt(i,r))}}class Sr{constructor(e){if(e instanceof Sr)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(_o)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Sr([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Xo(n,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(i,r){for(const a of i){const x=Object.keys(a).filter(W=>W.startsWith("is"));for(const W of x)r[W]=!!a[W]}}(n,t),Gr(n,t,"allowIn"),Gr(n,t,"allowContentOf"),Gr(n,t,"allowWhere"),Gr(n,t,"allowAttributes"),Gr(n,t,"allowAttributesOf"),Gr(n,t,"allowChildren"),Gr(n,t,"inheritTypesFrom"),function(i,r){for(const a of i){const x=a.inheritAllFrom;x&&(r.allowContentOf.push(x),r.allowWhere.push(x),r.allowAttributesOf.push(x),r.inheritTypesFrom.push(x))}}(n,t),t}function fs(n,e){const t=n[e];for(const i of t.allowChildren){const r=n[i];r&&r.allowIn.push(e)}t.allowChildren.length=0}function bs(n,e){for(const t of n[e].allowContentOf)n[t]&&ks(n,t).forEach(i=>{i.allowIn.push(e)});delete n[e].allowContentOf}function $o(n,e){for(const t of n[e].allowWhere){const i=n[t];if(i){const r=i.allowIn;n[e].allowIn.push(...r)}}delete n[e].allowWhere}function es(n,e){for(const t of n[e].allowAttributesOf){const i=n[t];if(i){const r=i.allowAttributes;n[e].allowAttributes.push(...r)}}delete n[e].allowAttributesOf}function ws(n,e){const t=n[e];for(const i of t.inheritTypesFrom){const r=n[i];if(r){const a=Object.keys(r).filter(x=>x.startsWith("is"));for(const x of a)x in t||(t[x]=r[x])}}delete t.inheritTypesFrom}function ts(n,e){const t=n[e],i=t.allowIn.filter(r=>n[r]);t.allowIn=Array.from(new Set(i))}function is(n,e){const t=n[e];for(const i of t.allowIn)n[i].allowChildren.push(e)}function qo(n,e){const t=n[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Gr(n,e,t){for(const i of n){const r=i[t];typeof r=="string"?e[t].push(r):Array.isArray(r)&&e[t].push(...r)}}function ks(n,e){const t=n[e];return(i=n,Object.keys(i).map(r=>i[r])).filter(r=>r.allowIn.includes(t.name));var i}function _o(n){return typeof n=="string"||n.is("documentFragment")?{name:typeof n=="string"?n:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:n.is("element")?n.name:"$text",*getAttributeKeys(){yield*n.getAttributeKeys()},getAttribute:e=>n.getAttribute(e)}}function ns(n,e,t){for(const i of e.getAttributeKeys())n.checkAttribute(e,i)||t.removeAttribute(i,e)}var rs=Object.defineProperty,vs=Object.defineProperties,_s=Object.getOwnPropertyDescriptors,Ko=Object.getOwnPropertySymbols,ys=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,o=(n,e,t)=>e in n?rs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class b extends(0,h.ln)(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((i,r)=>{for(var a in r||(r={}))ys.call(r,a)&&o(i,a,r[a]);if(Ko)for(var a of Ko(r))U.call(r,a)&&o(i,a,r[a]);return i})({},e),vs(t,_s({consumable:null,writer:null,store:null,convertItem:(i,r)=>this._convertItem(i,r),convertChildren:(i,r)=>this._convertChildren(i,r),safeInsert:(i,r)=>this._safeInsert(i,r),updateConversionResult:(i,r)=>this._updateConversionResult(i,r),splitToAllowedParent:(i,r)=>this._splitToAllowedParent(i,r),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)})))}convert(e,t,i=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(x,W){let de;for(const ke of new Sr(x)){const Ee={};for(const rt of ke.getAttributeKeys())Ee[rt]=ke.getAttribute(rt);const Ze=W.createElement(ke.name,Ee);de&&W.insert(Ze,de),de=Xt._createAt(Ze,0)}return de}(i,t),this.conversionApi.writer=t,this.conversionApi.consumable=Mr.createFrom(e),this.conversionApi.store={};const{modelRange:r}=this._convertItem(e,this._modelCursor),a=t.createDocumentFragment();if(r){this._removeEmptyElements();for(const x of Array.from(this._modelCursor.parent.getChildren()))t.append(x,a);a.markers=function(x,W){const de=new Set,ke=new Map,Ee=Bt._createIn(x).getItems();for(const Ze of Ee)Ze.is("element","$marker")&&de.add(Ze);for(const Ze of de){const rt=Ze.getAttribute("data-name"),jt=W.createPositionBefore(Ze);ke.has(rt)?ke.get(rt).end=jt.clone():ke.set(rt,new Bt(jt.clone())),W.remove(Ze)}return ke}(a,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,a}_convertItem(e,t){const i={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,i,this.conversionApi):e.is("$text")?this.fire("text",i,this.conversionApi):this.fire("documentFragment",i,this.conversionApi),i.modelRange&&!(i.modelRange instanceof Bt))throw new h.Bb("view-conversion-dispatcher-incorrect-result",this);return{modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){let i=t.is("position")?t:Xt._createAt(t,0);const r=new Bt(i);for(const a of Array.from(e.getChildren())){const x=this._convertItem(a,i);x.modelRange instanceof Bt&&(r.end=x.modelRange.end,i=x.modelCursor)}return{modelRange:r,modelCursor:i}}_safeInsert(e,t){const i=this._splitToAllowedParent(e,t);return!!i&&(this.conversionApi.writer.insert(e,i.position),!0)}_updateConversionResult(e,t){const i=this._getSplitParts(e),r=this.conversionApi.writer;t.modelRange||(t.modelRange=r.createRange(r.createPositionBefore(e),r.createPositionAfter(i[i.length-1])));const a=this._cursorParents.get(e);t.modelCursor=a?r.createPositionAt(a,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:i,writer:r}=this.conversionApi;let a=i.findAllowedParent(t,e);if(a){if(a===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(a)&&(a=null)}if(!a)return $n(t,e,i)?{position:_n(t,r)}:null;const x=this.conversionApi.writer.split(t,a),W=[];for(const ke of x.range.getWalker())if(ke.type=="elementEnd")W.push(ke.item);else{const Ee=W.pop(),Ze=ke.item;this._registerSplitPair(Ee,Ze)}const de=x.range.end.parent;return this._cursorParents.set(e,de),{position:x.position,cursorParent:de}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const i=this._splitParts.get(e);this._splitParts.set(t,i),i.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class F{getHtml(e){const t=h.global.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class le{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new k(e,{renderingMode:"data"}),this.htmlWriter=new F}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),i=t.createDocumentFragment(),r=t.body.childNodes;for(;r.length>0;)i.appendChild(r[0]);return i}}class Me extends(0,h.ln)(){constructor(e,t){super(),this.model=e,this.mapper=new Vr,this.downcastDispatcher=new qe({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(i,r,a)=>{if(!a.consumable.consume(r.item,i.name))return;const x=a.writer,W=a.mapper.toViewPosition(r.range.start),de=x.createText(r.item.data);x.insert(W,de)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(i,r,a)=>{a.convertAttributes(r.item),r.reconversion||!r.item.is("element")||r.item.isEmpty||a.convertChildren(r.item)},{priority:"lowest"}),this.upcastDispatcher=new b({schema:e.schema}),this.viewDocument=new ki(t),this.stylesProcessor=t,this.htmlProcessor=new le(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new In(this.viewDocument),this.upcastDispatcher.on("text",(i,r,{schema:a,consumable:x,writer:W})=>{let de=r.modelCursor;if(!x.test(r.viewItem))return;if(!a.checkChild(de,"$text")){if(!$n(de,"$text",a)||r.viewItem.data.trim().length==0)return;const Ee=de.nodeBefore;de=_n(de,W),Ee&&Ee.is("element","$marker")&&(W.move(W.createRangeOn(Ee),de),de=W.createPositionAfter(Ee))}x.consume(r.viewItem);const ke=W.createText(r.viewItem.data);W.insert(ke,de),r.modelRange=W.createRange(de,de.getShiftedBy(ke.offsetSize)),r.modelCursor=r.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(i,r,a)=>{if(!r.modelRange&&a.consumable.consume(r.viewItem,{name:!0})){const{modelRange:x,modelCursor:W}=a.convertChildren(r.viewItem,r.modelCursor);r.modelRange=x,r.modelCursor=W}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(i,r,a)=>{if(!r.modelRange&&a.consumable.consume(r.viewItem,{name:!0})){const{modelRange:x,modelCursor:W}=a.convertChildren(r.viewItem,r.modelCursor);r.modelRange=x,r.modelCursor=W}},{priority:"lowest"}),(0,h.Re)().prototype.decorate.call(this,"init"),(0,h.Re)().prototype.decorate.call(this,"set"),(0,h.Re)().prototype.decorate.call(this,"get"),(0,h.Re)().prototype.decorate.call(this,"toView"),(0,h.Re)().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Bn)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:i="empty"}=e;if(!this._checkIfRootsExists([t]))throw new h.Bb("datacontroller-get-non-existent-root",this);const r=this.model.document.getRoot(t);return r.isAttached()||(0,h.KE)("datacontroller-get-detached-root",this),i!=="empty"||this.model.hasContent(r,{ignoreWhitespaces:!0})?this.stringify(r,e):""}stringify(e,t={}){const i=this.toView(e,t);return this.processor.toData(i)}toView(e,t={}){const i=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();const a=Bt._createIn(e),x=new En(i);this.mapper.bindElements(e,x);const W=e.is("documentFragment")?e.markers:function(de){const ke=[],Ee=de.root.document;if(!Ee)return new Map;const Ze=Bt._createIn(de);for(const rt of Ee.model.markers){const jt=rt.getRange(),qt=jt.isCollapsed,ci=jt.start.isEqual(Ze.start)||jt.end.isEqual(Ze.end);if(qt&&ci)ke.push([rt.name,jt]);else{const vi=Ze.getIntersection(jt);vi&&ke.push([rt.name,vi])}}return ke.sort(([rt,jt],[qt,ci])=>{if(jt.end.compareWith(ci.start)!=="after")return 1;if(jt.start.compareWith(ci.end)!=="before")return-1;switch(jt.start.compareWith(ci.start)){case"before":return 1;case"after":return-1;default:switch(jt.end.compareWith(ci.end)){case"before":return 1;case"after":return-1;default:return qt.localeCompare(rt)}}}),new Map(ke)}(e);return this.downcastDispatcher.convert(a,W,r,t),x}init(e){if(this.model.document.version)throw new h.Bb("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new h.Bb("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},i=>{for(const r of Object.keys(t)){const a=this.model.document.getRoot(r);i.insert(this.parse(t[r],a),a,0)}}),Promise.resolve()}set(e,t={}){let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new h.Bb("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},r=>{r.setSelection(null),r.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const a of Object.keys(i)){const x=this.model.document.getRoot(a);r.remove(r.createRangeIn(x)),r.insert(this.parse(i[a],x),x,0)}})}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class Fe{constructor(e,t){this._helpers=new Map,this._downcast=(0,h.qo)(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=(0,h.qo)(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const i=this._downcast.includes(t);if(!this._upcast.includes(t)&&!i)throw new h.Bb("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i})}for(e){if(!this._helpers.has(e))throw new h.Bb("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of it(e))this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of it(e))this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of it(e))this.for("upcast").attributeToAttribute({view:i,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e))throw new h.Bb("conversion-group-exists",this);const r=i?new kr(t):new ao(t);this._helpers.set(e,r)}}function*it(n){if(n.model.values)for(const e of n.model.values){const t={key:n.model.key,value:e},i=n.view[e],r=n.upcastAlso?n.upcastAlso[e]:void 0;yield*Mt(t,i,r)}else yield*Mt(n.model,n.view,n.upcastAlso)}function*Mt(n,e,t){if(yield{model:n,view:e},t)for(const i of(0,h.qo)(t))yield{model:n,view:i}}class fi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function zi(n,e){const t=yo(e),i=t.reduce((x,W)=>x+W.offsetSize,0),r=n.parent;Go(n);const a=n.index;return r._insertChild(a,t),gn(r,a+t.length),gn(r,a),new Bt(n,n.getShiftedBy(i))}function bn(n){if(!n.isFlat)throw new h.Bb("operation-utils-remove-range-not-flat",this);const e=n.start.parent;Go(n.start),Go(n.end);const t=e._removeChildren(n.start.index,n.end.index-n.start.index);return gn(e,n.start.index),t}function Yr(n,e){if(!n.isFlat)throw new h.Bb("operation-utils-move-range-not-flat",this);const t=bn(n);return zi(e=e._getTransformedByDeletion(n.start,n.end.offset-n.start.offset),t)}function yo(n){const e=[];(function t(i){if(typeof i=="string")e.push(new an(i));else if(i instanceof Wn)e.push(new an(i.data,i.getAttributes()));else if(i instanceof br)e.push(i);else if((0,h.TW)(i))for(const r of i)t(r)})(n);for(let t=1;t<e.length;t++){const i=e[t],r=e[t-1];i instanceof an&&r instanceof an&&Rs(i,r)&&(e.splice(t-1,2,new an(r.data+i.data,r.getAttributes())),t--)}return e}function gn(n,e){const t=n.getChild(e-1),i=n.getChild(e);if(t&&i&&t.is("$text")&&i.is("$text")&&Rs(t,i)){const r=new an(t.data+i.data,t.getAttributes());n._removeChildren(e-1,2),n._insertChild(e-1,r)}}function Go(n){const e=n.textNode,t=n.parent;if(e){const i=n.offset-e.startOffset,r=e.index;t._removeChildren(r,1);const a=new an(e.data.substr(0,i),e.getAttributes()),x=new an(e.data.substr(i),e.getAttributes());t._insertChild(r,[a,x])}}function Rs(n,e){const t=n.getAttributes(),i=e.getAttributes();for(const r of t){if(r[1]!==e.getAttribute(r[0]))return!1;i.next()}return i.next().done}class dn extends fi{constructor(e,t,i,r){super(r),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Bt._createFromPositionAndShift(this.sourcePosition,this.howMany),Bt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new dn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new dn(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,i=this.sourcePosition.offset,r=this.targetPosition.offset;if(i+this.howMany>e.maxOffset)throw new h.Bb("move-operation-nodes-do-not-exist",this);if(e===t&&i<r&&r<i+this.howMany)throw new h.Bb("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&(0,h.Rt)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const a=this.sourcePosition.path.length-1;if(this.targetPosition.path[a]>=i&&this.targetPosition.path[a]<i+this.howMany)throw new h.Bb("move-operation-node-into-itself",this)}}_execute(){Yr(Bt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const i=Xt.fromJSON(e.sourcePosition,t),r=Xt.fromJSON(e.targetPosition,t);return new this(i,e.howMany,r,e.baseVersion)}}class On extends fi{constructor(e,t,i){super(i),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Ln(yo(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Ln([...this.nodes].map(i=>i._clone(!0))),t=new On(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Xt(e,[0]);return new dn(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new h.Bb("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Ln([...e].map(t=>t._clone(!0))),zi(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const i=[];for(const a of e.nodes)a.name?i.push(ln.fromJSON(a)):i.push(an.fromJSON(a));const r=new On(Xt.fromJSON(e.position,t),i,e.baseVersion);return r.shouldReceiveAttributes=e.shouldReceiveAttributes,r}}class pn extends fi{constructor(e,t,i,r,a){super(a),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=i,this.graveyardPosition=r?r.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Xt(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Bt(this.splitPosition,e)}get affectedSelectable(){const e=[Bt._createFromPositionAndShift(this.splitPosition,0),Bt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Bt._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new pn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Xt(e,[0]);return new Sn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new h.Bb("split-operation-position-invalid",this);if(!e.parent)throw new h.Bb("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new h.Bb("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new h.Bb("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Yr(Bt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();zi(this.insertionPosition,t)}Yr(new Bt(Xt._createAt(e,this.splitPosition.offset),Xt._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Xt(e.root,t,"toPrevious")}static fromJSON(e,t){const i=Xt.fromJSON(e.splitPosition,t),r=Xt.fromJSON(e.insertionPosition,t),a=e.graveyardPosition?Xt.fromJSON(e.graveyardPosition,t):null;return new this(i,e.howMany,r,a,e.baseVersion)}}class Sn extends fi{constructor(e,t,i,r,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=i.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=r.clone()}get type(){return"merge"}get deletionPosition(){return new Xt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Bt(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Bt._createOn(e),Bt._createFromPositionAndShift(this.targetPosition,0),Bt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Sn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),i=new Xt(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new pn(e,this.howMany,i,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new h.Bb("merge-operation-source-position-invalid",this);if(!t.parent)throw new h.Bb("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new h.Bb("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Yr(Bt._createIn(e),this.targetPosition),Yr(Bt._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const i=Xt.fromJSON(e.sourcePosition,t),r=Xt.fromJSON(e.targetPosition,t),a=Xt.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,r,a,e.baseVersion)}}class cr extends fi{constructor(e,t,i,r,a,x){super(x),this.name=e,this.oldRange=t?t.clone():null,this.newRange=i?i.clone():null,this.affectsData=a,this._markers=r}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new cr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new cr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new cr(e.name,e.oldRange?Bt.fromJSON(e.oldRange,t):null,e.newRange?Bt.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const xs=function(n,e){return eo(n,e)};class jn extends fi{constructor(e,t,i,r,a){super(a),this.range=e.clone(),this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new jn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new jn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new h.Bb("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!xs(e.getAttribute(this.key),this.oldValue))throw new h.Bb("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new h.Bb("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){xs(this.oldValue,this.newValue)||function(e,t,i){Go(e.start),Go(e.end);for(const r of e.getItems({shallow:!0})){const a=r.is("$textProxy")?r.textNode:r;i!==null?a._setAttribute(t,i):a._removeAttribute(t),gn(a.parent,a.index)}gn(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new jn(Bt.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Hn extends fi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Hn(this.baseVersion)}getReversed(){return new Hn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class gr extends fi{constructor(e,t,i,r){super(r),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=i}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new gr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new gr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof ln))throw new h.Bb("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new h.Bb("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new gr(Xt.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Wr extends fi{constructor(e,t,i,r,a){super(a),this.root=e,this.key=t,this.oldValue=i===void 0?null:i,this.newValue=r===void 0?null:r}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Wr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Wr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new h.Bb("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new h.Bb("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new h.Bb("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new h.Bb("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Wr(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Br extends fi{constructor(e,t,i,r,a){super(a),this.rootName=e,this.elementName=t,this.isAdd=i,this._document=r,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Br(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Br(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new Br(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const Rr={};Rr[jn.className]=jn,Rr[On.className]=On,Rr[cr.className]=cr,Rr[dn.className]=dn,Rr[Hn.className]=Hn,Rr[fi.className]=fi,Rr[gr.className]=gr,Rr[Wr.className]=Wr,Rr[Br.className]=Br,Rr[pn.className]=pn,Rr[Sn.className]=Sn;class js{static fromJSON(e,t){return Rr[e.__className].fromJSON(e,t)}}const Cs=new Map;function un(n,e,t){let i=Cs.get(n);i||(i=new Map,Cs.set(n,i)),i.set(e,t)}function Vs(n){return[n]}function Ns(n,e,t={}){const i=function(r,a){const x=Cs.get(r);return x&&x.has(a)?x.get(a):Vs}(n.constructor,e.constructor);try{return i(n=n.clone(),e,t)}catch(r){throw r}}function Gs(n,e,t){n=n.slice(),e=e.slice();const i=new Ts(t.document,t.useRelations,t.forceWeakRemove);i.setOriginalOperations(n),i.setOriginalOperations(e);const r=i.originalOperations;if(n.length==0||e.length==0)return{operationsA:n,operationsB:e,originalOperations:r};const a=new WeakMap;for(const de of n)a.set(de,0);const x={nextBaseVersionA:n[n.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:n.length,originalOperationsBCount:e.length};let W=0;for(;W<n.length;){const de=n[W],ke=a.get(de);if(ke==e.length){W++;continue}const Ee=e[ke],Ze=Ns(de,Ee,i.getContext(de,Ee,!0)),rt=Ns(Ee,de,i.getContext(Ee,de,!1));i.updateRelation(de,Ee),i.setOriginalOperations(Ze,de),i.setOriginalOperations(rt,Ee);for(const jt of Ze)a.set(jt,ke+rt.length);n.splice(W,1,...Ze),e.splice(ke,1,...rt)}if(t.padWithNoOps){const de=n.length-x.originalOperationsACount,ke=e.length-x.originalOperationsBCount;ss(n,ke-de),ss(e,de-ke)}return os(n,x.nextBaseVersionB),os(e,x.nextBaseVersionA),{operationsA:n,operationsB:e,originalOperations:r}}class Ts{constructor(e,t,i=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!i,this._relations=new Map}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const r of e)this.originalOperations.set(r,i||r)}updateRelation(e,t){if(e instanceof dn)t instanceof Sn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof dn&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof pn){if(t instanceof Sn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof dn)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const i=Bt._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const r=i.end.offset-e.splitPosition.offset,a=e.splitPosition.offset-i.start.offset;this._setRelation(e,t,{howMany:r,offset:a})}}}else if(e instanceof Sn)t instanceof Sn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof pn&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof cr){const i=e.newRange;if(!i)return;if(t instanceof dn){const r=Bt._createFromPositionAndShift(t.sourcePosition,t.howMany),a=r.containsPosition(i.start)||r.start.isEqual(i.start),x=r.containsPosition(i.end)||r.end.isEqual(i.end);!a&&!x||r.containsRange(i)||this._setRelation(e,t,{side:a?"left":"right",path:a?i.start.path.slice():i.end.path.slice()})}else if(t instanceof Sn){const r=i.start.isEqual(t.targetPosition),a=i.start.isEqual(t.deletionPosition),x=i.end.isEqual(t.deletionPosition),W=i.end.isEqual(t.sourcePosition);(r||a||x||W)&&this._setRelation(e,t,{wasInLeftElement:r,wasStartBeforeMergedElement:a,wasEndBeforeMergedElement:x,wasInRightElement:W})}}}getContext(e,t,i){return{aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t),r=this._history.getUndoneOperation(i);if(!r)return null;const a=this.originalOperations.get(e),x=this._relations.get(a);return x&&x.get(r)||null}_setRelation(e,t,i){const r=this.originalOperations.get(e),a=this.originalOperations.get(t);let x=this._relations.get(r);x||(x=new Map,this._relations.set(r,x)),x.set(a,i)}}function os(n,e){for(const t of n)t.baseVersion=e++}function ss(n,e){for(let t=0;t<e;t++)n.push(new Hn(0))}function as(n,e,t){const i=n.nodes.getNode(0).getAttribute(e);if(i==t)return null;const r=new Bt(n.position,n.position.getShiftedBy(n.howMany));return new jn(r,e,i,t,0)}function As(n,e){return n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function xo(n,e){const t=[];for(let i=0;i<n.length;i++){const r=n[i],a=new dn(r.start,r.end.offset-r.start.offset,e,0);t.push(a);for(let x=i+1;x<n.length;x++)n[x]=n[x]._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)[0];e=e._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany)}return t}un(jn,jn,(n,e,t)=>{if(n.key===e.key&&n.range.start.hasSameParentAs(e.range.start)){const i=n.range.getDifference(e.range).map(a=>new jn(a,n.key,n.oldValue,n.newValue,0)),r=n.range.getIntersection(e.range);return r&&t.aIsStrong&&i.push(new jn(r,e.key,e.newValue,n.newValue,0)),i.length==0?[new Hn(0)]:i}return[n]}),un(jn,On,(n,e)=>{if(n.range.start.hasSameParentAs(e.position)&&n.range.containsPosition(e.position)){const t=n.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new jn(i,n.key,n.oldValue,n.newValue,n.baseVersion));if(e.shouldReceiveAttributes){const i=as(e,n.key,n.oldValue);i&&t.unshift(i)}return t}return n.range=n.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[n]}),un(jn,Sn,(n,e)=>{const t=[];n.range.start.hasSameParentAs(e.deletionPosition)&&(n.range.containsPosition(e.deletionPosition)||n.range.start.isEqual(e.deletionPosition))&&t.push(Bt._createFromPositionAndShift(e.graveyardPosition,1));const i=n.range._getTransformedByMergeOperation(e);return i.isCollapsed||t.push(i),t.map(r=>new jn(r,n.key,n.oldValue,n.newValue,n.baseVersion))}),un(jn,dn,(n,e)=>function(t,i){const r=Bt._createFromPositionAndShift(i.sourcePosition,i.howMany);let a=null,x=[];r.containsRange(t,!0)?a=t:t.start.hasSameParentAs(r.start)?(x=t.getDifference(r),a=t.getIntersection(r)):x=[t];const W=[];for(let de of x){de=de._getTransformedByDeletion(i.sourcePosition,i.howMany);const ke=i.getMovedRangeStart(),Ee=de.start.hasSameParentAs(ke),Ze=de._getTransformedByInsertion(ke,i.howMany,Ee);W.push(...Ze)}return a&&W.push(a._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,!1)[0]),W}(n.range,e).map(t=>new jn(t,n.key,n.oldValue,n.newValue,n.baseVersion))),un(jn,pn,(n,e)=>{if(n.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.range.end.offset++,[n];if(n.range.start.hasSameParentAs(e.splitPosition)&&n.range.containsPosition(e.splitPosition)){const t=n.clone();return t.range=new Bt(e.moveTargetPosition.clone(),n.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),n.range.end=e.splitPosition.clone(),n.range.end.stickiness="toPrevious",[n,t]}return n.range=n.range._getTransformedBySplitOperation(e),[n]}),un(On,jn,(n,e)=>{const t=[n];if(n.shouldReceiveAttributes&&n.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(n.position)){const i=as(n,e.key,e.newValue);i&&t.push(i)}return t}),un(On,On,(n,e,t)=>(n.position.isEqual(e.position)&&t.aIsStrong||(n.position=n.position._getTransformedByInsertOperation(e)),[n])),un(On,dn,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),un(On,pn,(n,e)=>(n.position=n.position._getTransformedBySplitOperation(e),[n])),un(On,Sn,(n,e)=>(n.position=n.position._getTransformedByMergeOperation(e),[n])),un(cr,On,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByInsertOperation(e)[0]),n.newRange&&(n.newRange=n.newRange._getTransformedByInsertOperation(e)[0]),[n])),un(cr,cr,(n,e,t)=>{if(n.name==e.name){if(!t.aIsStrong)return[new Hn(0)];n.oldRange=e.newRange?e.newRange.clone():null}return[n]}),un(cr,Sn,(n,e)=>(n.oldRange&&(n.oldRange=n.oldRange._getTransformedByMergeOperation(e)),n.newRange&&(n.newRange=n.newRange._getTransformedByMergeOperation(e)),[n])),un(cr,dn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=Bt._createFromRanges(n.oldRange._getTransformedByMoveOperation(e))),n.newRange){if(t.abRelation){const i=Bt._createFromRanges(n.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(n.newRange.start))return n.newRange.end=i.end,n.newRange.start.path=t.abRelation.path,[n];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(n.newRange.end))return n.newRange.start=i.start,n.newRange.end.path=t.abRelation.path,[n]}n.newRange=Bt._createFromRanges(n.newRange._getTransformedByMoveOperation(e))}return[n]}),un(cr,pn,(n,e,t)=>{if(n.oldRange&&(n.oldRange=n.oldRange._getTransformedBySplitOperation(e)),n.newRange){if(t.abRelation){const i=n.newRange._getTransformedBySplitOperation(e);return n.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?n.newRange.start=Xt._createAt(e.insertionPosition):n.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(n.newRange.start=Xt._createAt(e.moveTargetPosition)),n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?n.newRange.end=Xt._createAt(e.moveTargetPosition):n.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?n.newRange.end=Xt._createAt(e.insertionPosition):n.newRange.end=i.end,[n]}n.newRange=n.newRange._getTransformedBySplitOperation(e)}return[n]}),un(Sn,On,(n,e)=>(n.sourcePosition.hasSameParentAs(e.position)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByInsertOperation(e),n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e),[n])),un(Sn,Sn,(n,e,t)=>{if(n.sourcePosition.isEqual(e.sourcePosition)&&n.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const i=e.graveyardPosition.path.slice();return i.push(0),n.sourcePosition=new Xt(e.graveyardPosition.root,i),n.howMany=0,[n]}return[new Hn(0)]}if(n.sourcePosition.isEqual(e.sourcePosition)&&!n.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const i=n.targetPosition.root.rootName=="$graveyard",r=e.targetPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){const a=e.targetPosition._getTransformedByMergeOperation(e),x=n.targetPosition._getTransformedByMergeOperation(e);return[new dn(a,n.howMany,x,0)]}return[new Hn(0)]}return n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMergeOperation(e),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),n.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),un(Sn,dn,(n,e,t)=>{const i=Bt._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&n.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.sourcePosition)?[new Hn(0)]:(n.sourcePosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.sourcePosition.hasSameParentAs(e.sourcePosition)&&(n.howMany-=e.howMany),n.sourcePosition=n.sourcePosition._getTransformedByMoveOperation(e),n.targetPosition=n.targetPosition._getTransformedByMoveOperation(e),n.graveyardPosition.isEqual(e.targetPosition)||(n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)),[n])}),un(Sn,pn,(n,e,t)=>{if(e.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),n.deletionPosition.isEqual(e.graveyardPosition)&&(n.howMany=e.howMany)),n.targetPosition.isEqual(e.splitPosition)){const i=e.howMany!=0,r=e.graveyardPosition&&n.deletionPosition.isEqual(e.graveyardPosition);if(i||r||t.abRelation=="mergeTargetNotMoved")return n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),[n]}if(n.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return n.howMany=0,n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n];if(t.abRelation=="mergeSameElement"||n.sourcePosition.offset>0)return n.sourcePosition=e.moveTargetPosition.clone(),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}return n.sourcePosition.hasSameParentAs(e.splitPosition)&&(n.howMany=e.splitPosition.offset),n.sourcePosition=n.sourcePosition._getTransformedBySplitOperation(e),n.targetPosition=n.targetPosition._getTransformedBySplitOperation(e),[n]}),un(dn,On,(n,e)=>{const t=Bt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByInsertOperation(e,!1)[0];return n.sourcePosition=t.start,n.howMany=t.end.offset-t.start.offset,n.targetPosition.isEqual(e.position)||(n.targetPosition=n.targetPosition._getTransformedByInsertOperation(e)),[n]}),un(dn,dn,(n,e,t)=>{const i=Bt._createFromPositionAndShift(n.sourcePosition,n.howMany),r=Bt._createFromPositionAndShift(e.sourcePosition,e.howMany);let a,x=t.aIsStrong,W=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?W=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(W=!1),a=n.targetPosition.isEqual(e.targetPosition)&&W?n.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):n.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),As(n,e)&&As(e,n))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xo([i],a);if(r.containsPosition(n.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),xo([i],a);const de=(0,h.Rt)(n.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(de=="prefix"||de=="extension")return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xo([i],a);n.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?n.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(x=!1):x=!0;const ke=[],Ee=i.getDifference(r);for(const rt of Ee){rt.start=rt.start._getTransformedByDeletion(e.sourcePosition,e.howMany),rt.end=rt.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const jt=(0,h.Rt)(rt.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",qt=rt._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,jt);ke.push(...qt)}const Ze=i.getIntersection(r);return Ze!==null&&x&&(Ze.start=Ze.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),Ze.end=Ze.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),ke.length===0?ke.push(Ze):ke.length==1?r.start.isBefore(i.start)||r.start.isEqual(i.start)?ke.unshift(Ze):ke.push(Ze):ke.splice(1,0,Ze)),ke.length===0?[new Hn(n.baseVersion)]:xo(ke,a)}),un(dn,pn,(n,e,t)=>{let i=n.targetPosition.clone();n.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(i=n.targetPosition._getTransformedBySplitOperation(e));const r=Bt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||n.howMany++,n.targetPosition=i,[n];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let x=new Bt(e.splitPosition,r.end);return x=x._getTransformedBySplitOperation(e),xo([new Bt(r.start,e.splitPosition),x],i)}n.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(i=e.moveTargetPosition),n.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(i=n.targetPosition);const a=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const x=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);n.howMany>1&&x&&!t.aWasUndone&&a.push(Bt._createFromPositionAndShift(e.insertionPosition,1))}return xo(a,i)}),un(dn,Sn,(n,e,t)=>{const i=Bt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(e.deletionPosition.hasSameParentAs(n.sourcePosition)&&i.containsPosition(e.sourcePosition)){if(n.type!="remove"||t.forceWeakRemove){if(n.howMany==1)return t.bWasUndone?(n.sourcePosition=e.graveyardPosition.clone(),n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]):[new Hn(0)]}else if(!t.aWasUndone){const a=[];let x=e.graveyardPosition.clone(),W=e.targetPosition._getTransformedByMergeOperation(e);n.howMany>1&&(a.push(new dn(n.sourcePosition,n.howMany-1,n.targetPosition,0)),x=x._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1),W=W._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany-1));const de=e.deletionPosition._getCombined(n.sourcePosition,n.targetPosition),ke=new dn(x,1,de,0),Ee=ke.getMovedRangeStart().path.slice();Ee.push(0);const Ze=new Xt(ke.targetPosition.root,Ee);W=W._getTransformedByMove(x,de,1);const rt=new dn(W,e.howMany,Ze,0);return a.push(ke),a.push(rt),a}}const r=Bt._createFromPositionAndShift(n.sourcePosition,n.howMany)._getTransformedByMergeOperation(e);return n.sourcePosition=r.start,n.howMany=r.end.offset-r.start.offset,n.targetPosition=n.targetPosition._getTransformedByMergeOperation(e),[n]}),un(gr,On,(n,e)=>(n.position=n.position._getTransformedByInsertOperation(e),[n])),un(gr,Sn,(n,e)=>n.position.isEqual(e.deletionPosition)?(n.position=e.graveyardPosition.clone(),n.position.stickiness="toNext",[n]):(n.position=n.position._getTransformedByMergeOperation(e),[n])),un(gr,dn,(n,e)=>(n.position=n.position._getTransformedByMoveOperation(e),[n])),un(gr,gr,(n,e,t)=>{if(n.position.isEqual(e.position)){if(!t.aIsStrong)return[new Hn(0)];n.oldName=e.newName}return[n]}),un(gr,pn,(n,e)=>{const t=n.position.path,i=e.splitPosition.getParentPath();if((0,h.Rt)(t,i)=="same"&&!e.graveyardPosition){const r=new gr(n.position.getShiftedBy(1),n.oldName,n.newName,0);return[n,r]}return n.position=n.position._getTransformedBySplitOperation(e),[n]}),un(Wr,Wr,(n,e,t)=>{if(n.root===e.root&&n.key===e.key){if(!t.aIsStrong||n.newValue===e.newValue)return[new Hn(0)];n.oldValue=e.newValue}return[n]}),un(Br,Br,(n,e)=>n.rootName===e.rootName&&n.isAdd===e.isAdd?[new Hn(0)]:[n]),un(pn,On,(n,e)=>(n.splitPosition.hasSameParentAs(e.position)&&n.splitPosition.offset<e.position.offset&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByInsertOperation(e),n.insertionPosition=n.insertionPosition._getTransformedByInsertOperation(e),[n])),un(pn,Sn,(n,e,t)=>{if(!n.graveyardPosition&&!t.bWasUndone&&n.splitPosition.hasSameParentAs(e.sourcePosition)){const i=e.graveyardPosition.path.slice();i.push(0);const r=new Xt(e.graveyardPosition.root,i),a=pn.getInsertionPosition(new Xt(e.graveyardPosition.root,i)),x=new pn(r,0,a,null,0);return n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition=x.insertionPosition.clone(),n.graveyardPosition.stickiness="toNext",[x,n]}return n.splitPosition.hasSameParentAs(e.deletionPosition)&&!n.splitPosition.isAfter(e.deletionPosition)&&n.howMany--,n.splitPosition.hasSameParentAs(e.targetPosition)&&(n.howMany+=e.howMany),n.splitPosition=n.splitPosition._getTransformedByMergeOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedByMergeOperation(e)),[n]}),un(pn,dn,(n,e,t)=>{const i=Bt._createFromPositionAndShift(e.sourcePosition,e.howMany);if(n.graveyardPosition){const a=i.start.isEqual(n.graveyardPosition)||i.containsPosition(n.graveyardPosition);if(!t.bWasUndone&&a){const x=n.splitPosition._getTransformedByMoveOperation(e),W=n.graveyardPosition._getTransformedByMoveOperation(e),de=W.path.slice();de.push(0);const ke=new Xt(W.root,de);return[new dn(x,n.howMany,ke,0)]}n.graveyardPosition=n.graveyardPosition._getTransformedByMoveOperation(e)}const r=n.splitPosition.isEqual(e.targetPosition);if(r&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return n.howMany+=e.howMany,n.splitPosition=n.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n];if(r&&t.abRelation&&t.abRelation.howMany){const{howMany:a,offset:x}=t.abRelation;return n.howMany+=a,n.splitPosition=n.splitPosition.getShiftedBy(x),[n]}if(n.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(n.splitPosition)){const a=e.howMany-(n.splitPosition.offset-e.sourcePosition.offset);return n.howMany-=a,n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany),n.splitPosition=e.sourcePosition.clone(),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]}return e.sourcePosition.isEqual(e.targetPosition)||(n.splitPosition.hasSameParentAs(e.sourcePosition)&&n.splitPosition.offset<=e.sourcePosition.offset&&(n.howMany-=e.howMany),n.splitPosition.hasSameParentAs(e.targetPosition)&&n.splitPosition.offset<e.targetPosition.offset&&(n.howMany+=e.howMany)),n.splitPosition.stickiness="toNone",n.splitPosition=n.splitPosition._getTransformedByMoveOperation(e),n.splitPosition.stickiness="toNext",n.graveyardPosition?n.insertionPosition=n.insertionPosition._getTransformedByMoveOperation(e):n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]}),un(pn,pn,(n,e,t)=>{if(n.splitPosition.isEqual(e.splitPosition)){if(!n.graveyardPosition&&!e.graveyardPosition)return[new Hn(0)];if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition))return[new Hn(0)];if(t.abRelation=="splitBefore")return n.howMany=0,n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e),[n]}if(n.graveyardPosition&&e.graveyardPosition&&n.graveyardPosition.isEqual(e.graveyardPosition)){const i=n.splitPosition.root.rootName=="$graveyard",r=e.splitPosition.root.rootName=="$graveyard";if(r&&!i||!(i&&!r)&&t.aIsStrong){const a=[];return e.howMany&&a.push(new dn(e.moveTargetPosition,e.howMany,e.splitPosition,0)),n.howMany&&a.push(new dn(n.splitPosition,n.howMany,n.moveTargetPosition,0)),a}return[new Hn(0)]}if(n.graveyardPosition&&(n.graveyardPosition=n.graveyardPosition._getTransformedBySplitOperation(e)),n.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return n.howMany++,[n];if(e.splitPosition.isEqual(n.insertionPosition)&&t.baRelation=="splitBefore"){const i=e.insertionPosition.path.slice();i.push(0);const r=new Xt(e.insertionPosition.root,i);return[n,new dn(n.insertionPosition,1,r,0)]}return n.splitPosition.hasSameParentAs(e.splitPosition)&&n.splitPosition.offset<e.splitPosition.offset&&(n.howMany-=e.howMany),n.splitPosition=n.splitPosition._getTransformedBySplitOperation(e),n.insertionPosition=pn.getInsertionPosition(n.splitPosition),[n]});class dr extends(0,h.ln)(Xt){constructor(e,t,i="toNone"){if(super(e,t,i),!this.root.is("rootElement"))throw new h.Bb("model-liveposition-root-not-rootelement",e);Bs.call(this)}detach(){this.stopListening()}toPosition(){return new Xt(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function Bs(){this.listenTo(this.root.document.model,"applyOperation",(n,e)=>{const t=e[0];t.isDocumentOperation&&Ds.call(this,t)},{priority:"low"})}function Ds(n){const e=this.getTransformedByOperation(n);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}dr.prototype.is=function(n){return n==="livePosition"||n==="model:livePosition"||n=="position"||n==="model:position"};class Vo{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},(0,h.KE)("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:i=!0,isUndo:r=!1,isTyping:a=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=i,this.isUndo=r,this.isTyping=a}get type(){return(0,h.KE)("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var Ys=Object.defineProperty,Qs=Object.defineProperties,Js=Object.getOwnPropertyDescriptors,zs=Object.getOwnPropertySymbols,Co=Object.prototype.hasOwnProperty,Fs=Object.prototype.propertyIsEnumerable,Es=(n,e,t)=>e in n?Ys(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ss=(n,e)=>{for(var t in e||(e={}))Co.call(e,t)&&Es(n,t,e[t]);if(zs)for(var t of zs(e))Fs.call(e,t)&&Es(n,t,e[t]);return n};class ls{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const i of t.range.getItems({shallow:!0}))this._isInInsertedElement(i.parent)||this._markAttribute(i);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const i=this._isInInsertedElement(t.sourcePosition.parent),r=this._isInInsertedElement(t.targetPosition.parent);i||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),r||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const i=Bt._createFromPositionAndShift(t.position,1);for(const r of this._markerCollection.getMarkersIntersectingRange(i)){const a=r.getData();this.bufferMarkerChange(r.name,a,a)}break}case"split":{const i=t.splitPosition.parent;this._isInInsertedElement(i)||this._markRemove(i,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const i=t.sourcePosition.parent;this._isInInsertedElement(i.parent)||this._markRemove(i.parent,i.startOffset,1);const r=t.graveyardPosition.parent;this._markInsert(r,t.graveyardPosition.offset,1);const a=t.targetPosition.parent;this._isInInsertedElement(a)||this._markInsert(a,t.targetPosition.offset,i.maxOffset);break}case"detachRoot":case"addRoot":{const i=t.affectedSelectable;if(!i._isLoaded||i.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const i=t.root.rootName;this._bufferRootAttributeChange(i,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,i){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null);let r=this._changedMarkers.get(e);r?r.newMarkerData=i:(r={newMarkerData:i,oldMarkerData:t},this._changedMarkers.set(e,r)),r.oldMarkerData.range==null&&i.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers)i.oldMarkerData.range!=null&&e.push({name:t,range:i.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers)i.newMarkerData.range!=null&&e.push({name:t,range:i.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const i=e.range&&!t.range,r=!e.range&&t.range,a=e.range&&t.range&&!e.range.isEqual(t.range);if(i||r||a)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const i of this._changesInElement.keys()){const r=this._changesInElement.get(i).sort((Ee,Ze)=>Ee.offset===Ze.offset?Ee.type!=Ze.type?Ee.type=="remove"?-1:1:0:Ee.offset<Ze.offset?-1:1),a=this._elementSnapshots.get(i),x=Is(i.getChildren()),W=Xs(a.length,r);let de=0,ke=0;for(const Ee of W)if(Ee==="i")t.push(this._getInsertDiff(i,de,x[de])),de++;else if(Ee==="r")t.push(this._getRemoveDiff(i,de,a[ke])),ke++;else if(Ee==="a"){const Ze=x[de].attributes,rt=a[ke].attributes;let jt;if(x[de].name=="$text")jt=new Bt(Xt._createAt(i,de),Xt._createAt(i,de+1));else{const qt=i.offsetToIndex(de);jt=new Bt(Xt._createAt(i,de),Xt._createAt(i.getChild(qt),0))}t.push(...this._getAttributesDiff(jt,rt,Ze)),de++,ke++}else de++,ke++}t.sort((i,r)=>i.position.root!=r.position.root?i.position.root.rootName<r.position.root.rootName?-1:1:i.position.isEqual(r.position)?i.changeCount-r.changeCount:i.position.isBefore(r.position)?-1:1);for(let i=1,r=0;i<t.length;i++){const a=t[r],x=t[i],W=a.type=="remove"&&x.type=="remove"&&a.name=="$text"&&x.name=="$text"&&a.position.isEqual(x.position),de=a.type=="insert"&&x.type=="insert"&&a.name=="$text"&&x.name=="$text"&&a.position.parent==x.position.parent&&a.position.offset+a.length==x.position.offset,ke=a.type=="attribute"&&x.type=="attribute"&&a.position.parent==x.position.parent&&a.range.isFlat&&x.range.isFlat&&a.position.offset+a.length==x.position.offset&&a.attributeKey==x.attributeKey&&a.attributeOldValue==x.attributeOldValue&&a.attributeNewValue==x.attributeNewValue;W||de||ke?(a.length++,ke&&(a.range.end=a.range.end.getShiftedBy(1)),t[i]=null):r=i}t=t.filter(i=>i);for(const i of t)delete i.changeCount,i.type=="attribute"&&(delete i.position,delete i.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(ea),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=Ss({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const i=this._changedRoots.get(e);i.state!==void 0?(delete i.state,i.attributes===void 0&&this._changedRoots.delete(e)):i.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,i,r){const a=this._changedRoots.get(e)||{name:e},x=a.attributes||{};if(x[t]){const W=x[t];r===W.oldValue?delete x[t]:W.newValue=r}else x[t]={oldValue:i,newValue:r};Object.entries(x).length===0?(delete a.attributes,a.state===void 0&&this._changedRoots.delete(e)):(a.attributes=x,this._changedRoots.set(e,a))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Bt._createOn(e);for(const i of this._markerCollection.getMarkersIntersectingRange(t)){const r=i.getData();this.bufferMarkerChange(i.name,r,r)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const i of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,i,null,e.getAttribute(i));for(const i of this._markerCollection)if(i.getRange().root==e){const r=i.getData();this.bufferMarkerChange(i.name,(t=Ss({},r),Qs(t,Js({range:null}))),r)}var t}}_markInsert(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r)}_markRemove(e,t,i){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const r={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,r),this._removeAllNestedChanges(e,t,i)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i),i.push(t);for(let r=0;r<i.length;r++)i[r].howMany<1&&(i.splice(r,1),r--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Is(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const r=e.offset+e.howMany,a=i.offset+i.howMany;if(e.type=="insert"&&(i.type=="insert"&&(e.offset<=i.offset?i.offset+=e.howMany:e.offset<a&&(i.howMany+=e.nodesToHandle,e.nodesToHandle=0)),i.type=="remove"&&e.offset<i.offset&&(i.offset+=e.howMany),i.type=="attribute")){if(e.offset<=i.offset)i.offset+=e.howMany;else if(e.offset<a){const x=i.howMany;i.howMany=e.offset-i.offset,t.unshift({type:"attribute",offset:r,howMany:x-i.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(i.type=="insert"){if(r<=i.offset)i.offset-=e.howMany;else if(r<=a)if(e.offset<i.offset){const x=r-i.offset;i.offset=e.offset,i.howMany-=x,e.nodesToHandle-=x}else i.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=i.offset)e.nodesToHandle-=i.howMany,i.howMany=0;else if(e.offset<a){const x=a-e.offset;i.howMany-=x,e.nodesToHandle-=x}}if(i.type=="remove"&&(r<=i.offset?i.offset-=e.howMany:e.offset<i.offset&&(e.nodesToHandle+=i.howMany,i.howMany=0)),i.type=="attribute"){if(r<=i.offset)i.offset-=e.howMany;else if(e.offset<i.offset){const x=r-i.offset;i.offset=e.offset,i.howMany-=x}else if(e.offset<a)if(r<=a){const x=i.howMany;i.howMany=e.offset-i.offset;const W=x-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:W,count:this._changeCount++})}else i.howMany-=a-e.offset}}if(e.type=="attribute"){if(i.type=="insert")if(e.offset<i.offset&&r>i.offset){if(r>a){const x={type:"attribute",offset:a,howMany:r-a,count:this._changeCount++};this._handleChange(x,t),t.push(x)}e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=i.offset&&e.offset<a&&(r>a?(e.nodesToHandle=r-a,e.offset=a):e.nodesToHandle=0);if(i.type=="remove"&&e.offset<i.offset&&r>i.offset){const x={type:"attribute",offset:i.offset,howMany:r-i.offset,count:this._changeCount++};this._handleChange(x,t),t.push(x),e.nodesToHandle=i.offset-e.offset,e.howMany=e.nodesToHandle}i.type=="attribute"&&(e.offset>=i.offset&&r<=a?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=i.offset&&r>=a&&(i.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,i){return{type:"insert",position:Xt._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return{type:"remove",position:Xt._createAt(e,t),name:i.name,attributes:new Map(i.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const r=[];i=new Map(i);for(const[a,x]of t){const W=i.has(a)?i.get(a):null;W!==x&&r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:x,attributeNewValue:W,changeCount:this._changeCount++}),i.delete(a)}for(const[a,x]of i)r.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:a,attributeOldValue:null,attributeNewValue:x,changeCount:this._changeCount++});return r}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const i=this._changesInElement.get(t),r=e.startOffset;if(i){for(const a of i)if(a.type=="insert"&&r>=a.offset&&r<a.offset+a.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const r=new Bt(Xt._createAt(e,t),Xt._createAt(e,t+i));for(const a of r.getItems({shallow:!0}))a.is("element")&&(this._elementSnapshots.delete(a),this._changesInElement.delete(a),this._removeAllNestedChanges(a,0,a.maxOffset))}}function Is(n){const e=[];for(const t of n)if(t.is("$text"))for(let i=0;i<t.data.length;i++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function Xs(n,e){const t=[];let i=0,r=0;for(const a of e){if(a.offset>i){for(let x=0;x<a.offset-i;x++)t.push("e");r+=a.offset-i}if(a.type=="insert"){for(let x=0;x<a.howMany;x++)t.push("i");i=a.offset+a.howMany}else if(a.type=="remove"){for(let x=0;x<a.howMany;x++)t.push("r");i=a.offset,r+=a.howMany}else t.push(..."a".repeat(a.howMany).split("")),i=a.offset+a.howMany,r+=a.howMany}if(r<n)for(let a=0;a<n-r-i;a++)t.push("e");return t}function ea(n){const e="position"in n&&n.position.root.rootName=="$graveyard",t="range"in n&&n.range.root.rootName=="$graveyard";return!e&&!t}class Ps{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new h.Bb("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const i=this._operations[0];e===void 0&&(e=i.baseVersion);let r=t-1;for(const[W,de]of this._gaps)e>W&&e<de&&(e=de),r>W&&r<de&&(r=W-1);if(r<i.baseVersion||e>this.lastOperation.baseVersion)return[];let a=this._baseVersionToOperationIndex.get(e);a===void 0&&(a=0);let x=this._baseVersionToOperationIndex.get(r);return x===void 0&&(x=this._operations.length-1),this._operations.slice(a,x+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class cs extends ln{constructor(e,t,i="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=i}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}cs.prototype.is=function(n,e){return e?e===this.name&&(n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"):n==="rootElement"||n==="model:rootElement"||n==="element"||n==="model:element"||n==="node"||n==="model:node"};var ta=Object.defineProperty,ia=Object.defineProperties,Hs=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,ra=Object.prototype.propertyIsEnumerable,O=(n,e,t)=>e in n?ta(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,s=(n,e)=>{for(var t in e||(e={}))na.call(e,t)&&O(n,t,e[t]);if(Ls)for(var t of Ls(e))ra.call(e,t)&&O(n,t,e[t]);return n},m=(n,e)=>ia(n,Hs(e));const P="$graveyard";class M extends(0,h.ln)(){constructor(e){super(),this.model=e,this.history=new Ps,this.selection=new vn(this),this.roots=new h.FE({idProperty:"rootName"}),this.differ=new ls(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",P),this.listenTo(e,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&this.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,i)=>{const r=i[0];r.isDocumentOperation&&this.history.addOperation(r)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,i,r,a,x)=>{const W=m(s({},i.getData()),{range:a});this.differ.bufferMarkerChange(i.name,x,W),r===null&&i.on("change",(de,ke)=>{const Ee=i.getData();this.differ.bufferMarkerChange(i.name,m(s({},Ee),{range:ke}),Ee)})}),this.registerPostFixer(t=>{let i=!1;for(const r of this.roots)r.isAttached()||r.isEmpty||(t.remove(t.createRangeIn(r)),i=!0);for(const r of this.model.markers)r.getRange().root.isAttached()||(t.removeMarker(r),i=!0);return i})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(P)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new h.Bb("model-document-createroot-name-exists",this,{name:t});const i=new cs(this,e,t);return this.roots.add(i),i}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return this.roots.filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=S(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,i=t.schema,r=t.createPositionFromPath(e,[0]);return i.getNearestSelectionRange(r)||t.createRange(r)}_validateSelectionRange(e){return G(e.start)&&G(e.end)}_callPostFixers(e){let t=!1;do for(const i of this._postFixers)if(this.selection.refresh(),t=i(e),t)break;while(t)}}function G(n){const e=n.textNode;if(e){const t=e.data,i=n.offset-e.startOffset;return!(0,h.to)(t,i)&&!(0,h.pp)(t,i)}return!0}var ne=Object.defineProperty,we=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable,wt=(n,e,t)=>e in n?ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;class Nt extends(0,h.ln)(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Kt?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,i=!1,r=!1){const a=e instanceof Kt?e.name:e;if(a.includes(","))throw new h.Bb("markercollection-incorrect-marker-name",this);const x=this._markers.get(a);if(x){const Ee=x.getData(),Ze=x.getRange();let rt=!1;return Ze.isEqual(t)||(x._attachLiveRange(cn.fromRange(t)),rt=!0),i!=x.managedUsingOperations&&(x._managedUsingOperations=i,rt=!0),typeof r=="boolean"&&r!=x.affectsData&&(x._affectsData=r,rt=!0),rt&&this.fire(`update:${a}`,x,Ze,t,Ee),x}const W=cn.fromRange(t),de=new Kt(a,W,i,r);var ke;return this._markers.set(a,de),this.fire(`update:${a}`,de,null,t,(ke=((Ee,Ze)=>{for(var rt in Ze||(Ze={}))He.call(Ze,rt)&&wt(Ee,rt,Ze[rt]);if(Pe)for(var rt of Pe(Ze))ct.call(Ze,rt)&&wt(Ee,rt,Ze[rt]);return Ee})({},de.getData()),we(ke,fe({range:null})))),de}_remove(e){const t=e instanceof Kt?e.name:e,i=this._markers.get(t);return!!i&&(this._markers.delete(t),this.fire(`update:${t}`,i,i.getRange(),null,i.getData()),this._destroyMarker(i),!0)}_refresh(e){const t=e instanceof Kt?e.name:e,i=this._markers.get(t);if(!i)throw new h.Bb("markercollection-refresh-marker-not-exists",this);const r=i.getRange();this.fire(`update:${t}`,i,r,r,i.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Kt extends(0,h.ln)(Pr){constructor(e,t,i,r){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=i,this._affectsData=r}get managedUsingOperations(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new h.Bb("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Kt.prototype.is=function(n){return n==="marker"||n==="model:marker"};class $t extends fi{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new h.Bb("detach-operation-on-document-node",this)}_execute(){bn(Bt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ei extends Pr{constructor(e){super(),this.markers=new Map,this._children=new Ln,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const i of e)t=t.getChild(t.offsetToIndex(i));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const i of e)i.name?t.push(ln.fromJSON(i)):t.push(an.fromJSON(i));return new ei(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const i=function(r){return typeof r=="string"?[new an(r)]:((0,h.TW)(r)||(r=[r]),Array.from(r).map(a=>typeof a=="string"?new an(a):a instanceof Wn?new an(a.data,a.getAttributes()):a))}(t);for(const r of i)r.parent!==null&&r._remove(),r.parent=this;this._children._insertNodes(e,i)}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const r of i)r.parent=null;return i}}ei.prototype.is=function(n){return n==="documentFragment"||n==="model:documentFragment"};class pi{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new an(e,t)}createElement(e,t){return new ln(e,t)}createDocumentFragment(){return new ei}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,i=0){if(this._assertWriterUsedCorrectly(),e instanceof an&&e.data=="")return;const r=Xt._createAt(t,i);if(e.parent){if(Un(e.root,r.root))return void this.move(Bt._createOn(e),r);if(e.root.document)throw new h.Bb("model-writer-insert-forbidden-move",this);this.remove(e)}const a=r.root.document?r.root.document.version:null,x=new On(r,e,a);if(e instanceof an&&(x.shouldReceiveAttributes=!0),this.batch.addOperation(x),this.model.applyOperation(x),e instanceof ei)for(const[W,de]of e.markers){const ke=Xt._createAt(de.root,0),Ee={range:new Bt(de.start._getCombined(ke,r),de.end._getCombined(ke,r)),usingOperation:!0,affectsData:!0};this.model.markers.has(W)?this.updateMarker(W,Ee):this.addMarker(W,Ee)}}insertText(e,t,i,r){t instanceof ei||t instanceof ln||t instanceof Xt?this.insert(this.createText(e),t,i):this.insert(this.createText(e,t),i,r)}insertElement(e,t,i,r){t instanceof ei||t instanceof ln||t instanceof Xt?this.insert(this.createElement(e),t,i):this.insert(this.createElement(e,t),i,r)}append(e,t){this.insert(e,t,"end")}appendText(e,t,i){t instanceof ei||t instanceof ln?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),i,"end")}appendElement(e,t,i){t instanceof ei||t instanceof ln?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),i,"end")}setAttribute(e,t,i){if(this._assertWriterUsedCorrectly(),i instanceof Bt){const r=i.getMinimalFlatRanges();for(const a of r)xi(this,e,t,a)}else Bi(this,e,t,i)}setAttributes(e,t){for(const[i,r]of(0,h.qL)(e))this.setAttribute(i,r,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Bt){const i=t.getMinimalFlatRanges();for(const r of i)xi(this,e,null,r)}else Bi(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=i=>{for(const r of i.getAttributeKeys())this.removeAttribute(r,i)};if(e instanceof Bt)for(const i of e.getItems())t(i);else t(e)}move(e,t,i){if(this._assertWriterUsedCorrectly(),!(e instanceof Bt))throw new h.Bb("writer-move-invalid-range",this);if(!e.isFlat)throw new h.Bb("writer-move-range-not-flat",this);const r=Xt._createAt(t,i);if(r.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Un(e.root,r.root))throw new h.Bb("writer-move-different-document",this);const a=e.root.document?e.root.document.version:null,x=new dn(e.start,e.end.offset-e.start.offset,r,a);this.batch.addOperation(x),this.model.applyOperation(x)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Bt?e:Bt._createOn(e)).getMinimalFlatRanges().reverse();for(const i of t)this._addOperationForAffectedMarkers("move",i),Vn(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,i=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof ln))throw new h.Bb("writer-merge-no-element-before",this);if(!(i instanceof ln))throw new h.Bb("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,i=e.nodeAfter;this.move(Bt._createIn(i),Xt._createAt(t,"end")),this.remove(i)}_merge(e){const t=Xt._createAt(e.nodeBefore,"end"),i=Xt._createAt(e.nodeAfter,0),r=e.root.document.graveyard,a=new Xt(r,[0]),x=e.root.document.version,W=new Sn(i,e.nodeAfter.maxOffset,t,a,x);this.batch.addOperation(W),this.model.applyOperation(W)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof ln))throw new h.Bb("writer-rename-not-element-instance",this);const i=e.root.document?e.root.document.version:null,r=new gr(Xt._createBefore(e),e.name,t,i);this.batch.addOperation(r),this.model.applyOperation(r)}split(e,t){this._assertWriterUsedCorrectly();let i,r,a=e.parent;if(!a.parent)throw new h.Bb("writer-split-element-no-parent",this);if(t||(t=a.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new h.Bb("writer-split-invalid-limit-element",this);do{const x=a.root.document?a.root.document.version:null,W=a.maxOffset-e.offset,de=pn.getInsertionPosition(e),ke=new pn(e,W,de,null,x);this.batch.addOperation(ke),this.model.applyOperation(ke),i||r||(i=a,r=e.parent.nextSibling),a=(e=this.createPositionAfter(e.parent)).parent}while(a!==t);return{position:e,range:new Bt(Xt._createAt(i,"end"),Xt._createAt(r,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new h.Bb("writer-wrap-range-not-flat",this);const i=t instanceof ln?t:new ln(t);if(i.childCount>0)throw new h.Bb("writer-wrap-element-not-empty",this);if(i.parent!==null)throw new h.Bb("writer-wrap-element-attached",this);this.insert(i,e.start);const r=new Bt(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(r,Xt._createAt(i,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new h.Bb("writer-unwrap-element-no-parent",this);this.move(Bt._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new h.Bb("writer-addmarker-no-usingoperation",this);const i=t.usingOperation,r=t.range,a=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new h.Bb("writer-addmarker-marker-exists",this);if(!r)throw new h.Bb("writer-addmarker-no-range",this);return i?(en(this,e,null,r,a),this.model.markers.get(e)):this.model.markers._set(e,r,i,a)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name,r=this.model.markers.get(i);if(!r)throw new h.Bb("writer-updatemarker-marker-not-exists",this);if(!t)return(0,h.KE)("writer-updatemarker-reconvert-using-editingcontroller",{markerName:i}),void this.model.markers._refresh(r);const a=typeof t.usingOperation=="boolean",x=typeof t.affectsData=="boolean",W=x?t.affectsData:r.affectsData;if(!a&&!t.range&&!x)throw new h.Bb("writer-updatemarker-wrong-options",this);const de=r.getRange(),ke=t.range?t.range:de;a&&t.usingOperation!==r.managedUsingOperations?t.usingOperation?en(this,i,null,ke,W):(en(this,i,de,null,W),this.model.markers._set(i,ke,void 0,W)):r.managedUsingOperations?en(this,i,de,ke,W):this.model.markers._set(i,ke,void 0,W)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new h.Bb("writer-removemarker-no-marker",this);const i=this.model.markers.get(t);if(!i.managedUsingOperations)return void this.model.markers._remove(t);en(this,t,i.getRange(),null,i.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const i=this.model.document.getRoot(e);if(i&&i.isAttached())throw new h.Bb("writer-addroot-root-exists",this);const r=this.model.document,a=new Br(e,t,!0,r,r.version);return this.batch.addOperation(a),this.model.applyOperation(a),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new h.Bb("writer-detachroot-no-root",this);for(const a of this.model.markers)a.getRange().root===t&&this.removeMarker(a);for(const a of t.getAttributeKeys())this.removeAttribute(a,t);this.remove(this.createRangeIn(t));const i=this.model.document,r=new Br(t.rootName,t.name,!1,i,i.version);this.batch.addOperation(r),this.model.applyOperation(r)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[i,r]of(0,h.qL)(e))this._setSelectionAttribute(i,r)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const r=vn._getStoreAttributeKey(e);this.setAttribute(r,t,i.anchor.parent)}i._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=vn._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new h.Bb("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations)continue;const r=i.getRange();let a=!1;if(e==="move"){const x=t;a=x.containsPosition(r.start)||x.start.isEqual(r.start)||x.containsPosition(r.end)||x.end.isEqual(r.end)}else{const x=t,W=x.nodeBefore,de=x.nodeAfter,ke=r.start.parent==W&&r.start.isAtEnd,Ee=r.end.parent==de&&r.end.offset==0,Ze=r.end.nodeAfter==de,rt=r.start.nodeAfter==de;a=ke||Ee||Ze||rt}a&&this.updateMarker(i.name,{range:r})}}}function xi(n,e,t,i){const r=n.model,a=r.document;let x,W,de,ke=i.start;for(const Ze of i.getWalker({shallow:!0}))de=Ze.item.getAttribute(e),x&&W!=de&&(W!=t&&Ee(),ke=x),x=Ze.nextPosition,W=de;function Ee(){const Ze=new Bt(ke,x),rt=Ze.root.document?a.version:null,jt=new jn(Ze,e,W,t,rt);n.batch.addOperation(jt),r.applyOperation(jt)}x instanceof Xt&&x!=ke&&W!=t&&Ee()}function Bi(n,e,t,i){const r=n.model,a=r.document,x=i.getAttribute(e);let W,de;if(x!=t){if(i.root===i){const ke=i.document?a.version:null;de=new Wr(i,e,x,t,ke)}else{W=new Bt(Xt._createBefore(i),n.createPositionAfter(i));const ke=W.root.document?a.version:null;de=new jn(W,e,x,t,ke)}n.batch.addOperation(de),r.applyOperation(de)}}function en(n,e,t,i,r){const a=n.model,x=a.document,W=new cr(e,t,i,a.markers,!!r,x.version);n.batch.addOperation(W),a.applyOperation(W)}function Vn(n,e,t,i){let r;if(n.root.document){const a=i.document,x=new Xt(a.graveyard,[0]);r=new dn(n,e,x,a.version)}else r=new $t(n,e);t.addOperation(r),i.applyOperation(r)}function Un(n,e){return n===e||n instanceof cs&&e instanceof cs}function yn(n,e,t={}){if(e.isCollapsed)return;const i=e.getFirstRange();if(i.root.rootName=="$graveyard")return;const r=n.schema;n.change(a=>{if(!t.doNotResetEntireContent&&function(ke,Ee){const Ze=ke.getLimitElement(Ee);if(!Ee.containsEntireContent(Ze))return!1;const rt=Ee.getFirstRange();return rt.start.parent==rt.end.parent?!1:ke.checkChild(Ze,"paragraph")}(r,e))return void function(ke,Ee){const Ze=ke.model.schema.getLimitElement(Ee);ke.remove(ke.createRangeIn(Ze)),uo(ke,ke.createPositionAt(Ze,0),Ee)}(a,e);const x={};if(!t.doNotAutoparagraph){const ke=e.getSelectedElement();ke&&Object.assign(x,r.getAttributesWithProperty(ke,"copyOnReplace",!0))}const[W,de]=function(ke){const Ee=ke.root.document.model,Ze=ke.start;let rt=ke.end;if(Ee.hasContent(ke,{ignoreMarkers:!0})){const jt=function(qt){const ci=qt.parent,vi=ci.root.document.model.schema,Fi=ci.getAncestors({parentFirst:!0,includeSelf:!0});for(const Wi of Fi){if(vi.isLimit(Wi))return null;if(vi.isBlock(Wi))return Wi}}(rt);if(jt&&rt.isTouching(Ee.createPositionAt(jt,0))){const qt=Ee.createSelection(ke);Ee.modifySelection(qt,{direction:"backward"});const ci=qt.getLastPosition(),vi=Ee.createRange(ci,rt);Ee.hasContent(vi,{ignoreMarkers:!0})||(rt=ci)}}return[dr.fromPosition(Ze,"toPrevious"),dr.fromPosition(rt,"toNext")]}(i);W.isTouching(de)||a.remove(a.createRange(W,de)),t.leaveUnmerged||(function(ke,Ee,Ze){const rt=ke.model;if(!No(ke.model.schema,Ee,Ze))return;const[jt,qt]=function(ci,vi){const Fi=ci.getAncestors(),Wi=vi.getAncestors();let xn=0;for(;Fi[xn]&&Fi[xn]==Wi[xn];)xn++;return[Fi[xn],Wi[xn]]}(Ee,Ze);!jt||!qt||(!rt.hasContent(jt,{ignoreMarkers:!0})&&rt.hasContent(qt,{ignoreMarkers:!0})?_r(ke,Ee,Ze,jt.parent):To(ke,Ee,Ze,jt.parent))}(a,W,de),r.removeDisallowedAttributes(W.parent.getChildren(),a)),Qr(a,e,W),!t.doNotAutoparagraph&&function(ke,Ee){const Ze=ke.checkChild(Ee,"$text"),rt=ke.checkChild(Ee,"paragraph");return!Ze&&rt}(r,W)&&uo(a,W,e,x),W.detach(),de.detach()})}function To(n,e,t,i){const r=e.parent,a=t.parent;if(r!=i&&a!=i){for(e=n.createPositionAfter(r),(t=n.createPositionBefore(a)).isEqual(e)||n.insert(a,e),n.merge(e);t.parent.isEmpty;){const x=t.parent;t=n.createPositionBefore(x),n.remove(x)}No(n.model.schema,e,t)&&To(n,e,t,i)}}function _r(n,e,t,i){const r=e.parent,a=t.parent;if(r!=i&&a!=i){for(e=n.createPositionAfter(r),(t=n.createPositionBefore(a)).isEqual(e)||n.insert(r,t);e.parent.isEmpty;){const x=e.parent;e=n.createPositionBefore(x),n.remove(x)}t=n.createPositionBefore(a),function(x,W){const de=W.nodeBefore,ke=W.nodeAfter;de.name!=ke.name&&x.rename(de,ke.name),x.clearAttributes(de),x.setAttributes(Object.fromEntries(ke.getAttributes()),de),x.merge(W)}(n,t),No(n.model.schema,e,t)&&_r(n,e,t,i)}}function No(n,e,t){const i=e.parent,r=t.parent;return i!=r&&!n.isLimit(i)&&!n.isLimit(r)&&function(a,x,W){const de=new Bt(a,x);for(const ke of de.getWalker())if(W.isLimit(ke.item))return!1;return!0}(e,t,n)}function uo(n,e,t,i={}){const r=n.createElement("paragraph");n.model.schema.setAllowedAttributes(r,i,n),n.insert(r,e),Qr(n,t,n.createPositionAt(r,0))}function Qr(n,e,t){e instanceof vn?n.setSelection(t):e.setTo(t)}function Ao(n,e){const t=[];Array.from(n.getItems({direction:"backward"})).map(i=>e.createRangeOn(i)).filter(i=>(i.start.isAfter(n.start)||i.start.isEqual(n.start))&&(i.end.isBefore(n.end)||i.end.isEqual(n.end))).forEach(i=>{t.push(i.start.parent),e.remove(i)}),t.forEach(i=>{let r=i;for(;r.parent&&r.isEmpty;){const a=e.createRangeOn(r);r=r.parent,e.remove(a)}})}class Bo{constructor(e,t,i){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),i=this.writer.createPositionAfter(e);if(i.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new h.Bb("insertcontent-invalid-insertion-position",this);this.position=i,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Bt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Bt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=dr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new h.Bb("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=dr.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=dr.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof ln)||!this._canMergeLeft(e))return;const t=dr._createBefore(e);t.stickiness="toNext";const i=dr.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=dr._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=dr._createAt(t.nodeBefore,"end","toNext")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof ln)||!this._canMergeRight(e))return;const t=dr._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new h.Bb("insertcontent-invalid-insertion-position",this);this.position=Xt._createAt(t.nodeBefore,"end");const i=dr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=dr._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=dr._createAt(t.nodeBefore,0,"toPrevious")),this.position=i.toPosition(),i.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof ln&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof ln&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const i=this.position.parent;this.position=this.writer.createPositionBefore(i),i.isEmpty&&i.parent===t&&this.writer.remove(i)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Os(n,e,t="auto"){const i=n.getSelectedElement();if(i&&e.schema.isObject(i)&&!e.schema.isInline(i))return t=="before"||t=="after"?e.createRange(e.createPositionAt(i,t)):e.createRangeOn(i);const r=(0,h.Ps)(n.getSelectedBlocks());if(!r)return e.createRange(n.focus);if(r.isEmpty)return e.createRange(e.createPositionAt(r,0));const a=e.createPositionAfter(r);return n.focus.isTouching(a)?e.createRange(a):e.createRange(e.createPositionBefore(r))}function Us(n,e,t,i={}){if(!n.schema.isObject(e))throw new h.Bb("insertobject-element-not-an-object",n,{object:e});const r=t||n.document.selection;let a=r;i.findOptimalPosition&&n.schema.isBlock(e)&&(a=n.createSelection(Os(r,n,i.findOptimalPosition)));const x=(0,h.Ps)(r.getSelectedBlocks()),W={};return x&&Object.assign(W,n.schema.getAttributesWithProperty(x,"copyOnReplace",!0)),n.change(de=>{a.isCollapsed||n.deleteContent(a,{doNotAutoparagraph:!0});let ke=e;const Ee=a.anchor.parent;!n.schema.checkChild(Ee,e)&&n.schema.checkChild(Ee,"paragraph")&&n.schema.checkChild("paragraph",e)&&(ke=de.createElement("paragraph"),de.insert(e,ke)),n.schema.setAllowedAttributes(ke,W,de);const Ze=n.insertContent(ke,a);return Ze.isCollapsed||i.setSelection&&function(rt,jt,qt,ci){const vi=rt.model;if(qt=="on")return void rt.setSelection(jt,"on");if(qt!="after")throw new h.Bb("insertobject-invalid-place-parameter-value",vi);let Fi=jt.nextSibling;if(vi.schema.isInline(jt))return void rt.setSelection(jt,"after");!(Fi&&vi.schema.checkChild(Fi,"$text"))&&vi.schema.checkChild(jt.parent,"paragraph")&&(Fi=rt.createElement("paragraph"),vi.schema.setAllowedAttributes(Fi,ci,rt),vi.insertContent(Fi,rt.createPositionAfter(jt))),Fi&&rt.setSelection(Fi,0)}(de,e,i.setSelection,W),Ze})}const Ws=' ,.?!:;"-()';function ka(n,e){const{isForward:t,walker:i,unit:r,schema:a,treatEmojiAsSingleUnit:x}=n,{type:W,item:de,nextPosition:ke}=e;if(W=="text")return n.unit==="word"?function(Ee,Ze){let rt=Ee.position.textNode;for(rt||(rt=Ze?Ee.position.nodeAfter:Ee.position.nodeBefore);rt&&rt.is("$text");){const jt=Ee.position.offset-rt.startOffset;if(ya(rt,jt,Ze))rt=Ze?Ee.position.nodeAfter:Ee.position.nodeBefore;else{if(_a(rt.data,jt,Ze))break;Ee.next()}}return Ee.position}(i,t):function(Ee,Ze,rt){const jt=Ee.position.textNode;if(jt){const qt=jt.data;let ci=Ee.position.offset-jt.startOffset;for(;(0,h.to)(qt,ci)||Ze=="character"&&(0,h.pp)(qt,ci)||rt&&(0,h.YK)(qt,ci);)Ee.next(),ci=Ee.position.offset-jt.startOffset}return Ee.position}(i,r,x);if(W==(t?"elementStart":"elementEnd")){if(a.isSelectable(de))return Xt._createAt(de,t?"after":"before");if(a.checkChild(ke,"$text"))return ke}else{if(a.isLimit(de))return void i.skip(()=>!0);if(a.checkChild(ke,"$text"))return ke}}function va(n,e){const t=n.root,i=Xt._createAt(t,e?"end":0);return e?new Bt(n,i):new Bt(i,n)}function _a(n,e,t){const i=e+(t?0:-1);return Ws.includes(n.charAt(i))}function ya(n,e,t){return e===(t?n.offsetSize:0)}class xa extends(0,h.Re)(){constructor(){super(),this.markers=new Nt,this.document=new M(this),this.schema=new ps,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),ms(this),this.document.registerPostFixer(Bn),this.on("insertContent",(e,[t,i])=>{e.return=function(r,a,x){return r.change(W=>{const de=x||r.document.selection;de.isCollapsed||r.deleteContent(de,{doNotAutoparagraph:!0});const ke=new Bo(r,W,de.anchor),Ee=[];let Ze;if(a.is("documentFragment")){if(a.markers.size){const qt=[];for(const[ci,vi]of a.markers){const{start:Fi,end:Wi}=vi,xn=Fi.isEqual(Wi);qt.push({position:Fi,name:ci,isCollapsed:xn},{position:Wi,name:ci,isCollapsed:xn})}qt.sort(({position:ci},{position:vi})=>ci.isBefore(vi)?1:-1);for(const{position:ci,name:vi,isCollapsed:Fi}of qt){let Wi=null,xn=null;const jr=ci.parent===a&&ci.isAtStart,Jr=ci.parent===a&&ci.isAtEnd;jr||Jr?Fi&&(xn=jr?"start":"end"):(Wi=W.createElement("$marker"),W.insert(Wi,ci)),Ee.push({name:vi,element:Wi,collapsed:xn})}}Ze=a.getChildren()}else Ze=[a];ke.handleNodes(Ze);let rt=ke.getSelectionRange();if(a.is("documentFragment")&&Ee.length){const qt=rt?cn.fromRange(rt):null,ci={};for(let vi=Ee.length-1;vi>=0;vi--){const{name:Fi,element:Wi,collapsed:xn}=Ee[vi],jr=!ci[Fi];if(jr&&(ci[Fi]=[]),Wi){const Jr=W.createPositionAt(Wi,"before");ci[Fi].push(Jr),W.remove(Wi)}else{const Jr=ke.getAffectedRange();if(!Jr){xn&&ci[Fi].push(ke.position);continue}xn?ci[Fi].push(Jr[xn]):ci[Fi].push(jr?Jr.start:Jr.end)}}for(const[vi,[Fi,Wi]]of Object.entries(ci))Fi&&Wi&&Fi.root===Wi.root&&W.addMarker(vi,{usingOperation:!0,affectsData:!0,range:new Bt(Fi,Wi)});qt&&(rt=qt.toRange(),qt.detach())}rt&&(de instanceof vn?W.setSelection(rt):de.setTo(rt));const jt=ke.getAffectedRange()||r.createRange(de.anchor);return ke.destroy(),jt})}(this,t,i)}),this.on("insertObject",(e,[t,i,r])=>{e.return=Us(this,t,i,r)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Vo,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){h.Bb.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Vo):e instanceof Vo||(e=new Vo(e)):e=new Vo,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(i){h.Bb.rethrowUnexpectedError(i,this)}}applyOperation(e){e._execute()}insertContent(e,t,i,...r){const a=oa(t,i);return this.fire("insertContent",[e,a,i,...r])}insertObject(e,t,i,r,...a){const x=oa(t,i);return this.fire("insertObject",[e,x,r,r,...a])}deleteContent(e,t){yn(this,e,t)}modifySelection(e,t){(function(i,r,a={}){const x=i.schema,W=a.direction!="backward",de=a.unit?a.unit:"character",ke=!!a.treatEmojiAsSingleUnit,Ee=r.focus,Ze=new wr({boundaries:va(Ee,W),singleCharacters:!0,direction:W?"forward":"backward"}),rt={walker:Ze,schema:x,isForward:W,unit:de,treatEmojiAsSingleUnit:ke};let jt;for(;jt=Ze.next();){if(jt.done)return;const qt=ka(rt,jt.value);if(qt)return void(r instanceof vn?i.change(ci=>{ci.setSelectionFocus(qt)}):r.setFocus(qt))}})(this,e,t)}getSelectedContent(e){return function(t,i){return t.change(r=>{const a=r.createDocumentFragment(),x=i.getFirstRange();if(!x||x.isCollapsed)return a;const W=x.start.root,de=x.start.getCommonPath(x.end),ke=W.getNodeByPath(de);let Ee;Ee=x.start.parent==x.end.parent?x:r.createRange(r.createPositionAt(ke,x.start.path[de.length]),r.createPositionAt(ke,x.end.path[de.length]+1));const Ze=Ee.end.offset-Ee.start.offset;for(const rt of Ee.getItems({shallow:!0}))rt.is("$textProxy")?r.appendText(rt.data,rt.getAttributes(),a):r.append(r.cloneElement(rt,!0),a);if(Ee!=x){const rt=x._getTransformedByMove(Ee.start,r.createPositionAt(a,0),Ze)[0],jt=r.createRange(r.createPositionAt(a,0),rt.start);Ao(r.createRange(rt.end,r.createPositionAt(a,"end")),r),Ao(jt,r)}return a})}(this,e)}hasContent(e,t={}){const i=e instanceof Bt?e:Bt._createIn(e);if(i.isCollapsed)return!1;const{ignoreWhitespaces:r=!1,ignoreMarkers:a=!1}=t;if(!a){for(const x of this.markers.getMarkersIntersectingRange(i))if(x.affectsData)return!0}for(const x of i.getItems())if(this.schema.isContent(x)&&(!x.is("$textProxy")||!r||x.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=oa(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,i){return new Xt(e,t,i)}createPositionAt(e,t){return Xt._createAt(e,t)}createPositionAfter(e){return Xt._createAfter(e)}createPositionBefore(e){return Xt._createBefore(e)}createRange(e,t){return new Bt(e,t)}createRangeIn(e){return Bt._createIn(e)}createRangeOn(e){return Bt._createOn(e)}createSelection(...e){return new _i(...e)}createBatch(e){return new Vo(e)}createOperationFromJSON(e){return js.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new pi(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function oa(n,e){if(n)return n instanceof _i||n instanceof vn?n:n instanceof br?e||e===0?new _i(n,e):n.is("rootElement")?new _i(n,"in"):new _i(n,"on"):new _i(n)}class Ca extends ve{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Ta extends ve{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Aa{constructor(e){this.document=e}createDocumentFragment(e){return new En(this.document,e)}createElement(e,t,i){return new Mi(this.document,e,t,i)}createText(e){return new $(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const i=e.parent;if(i){const r=i.getChildIndex(e);return this.removeChildren(r,1,i),this.insertChild(r,t,i),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e),this.insertChild(i,e.getChildren(),t)}}rename(e,t){const i=new Mi(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,i){(0,f.Z)(e)&&i===void 0?t._setStyle(e):i._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,i){i._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return be._createAt(e,t)}createPositionAfter(e){return be._createAfter(e)}createPositionBefore(e){return be._createBefore(e)}createRange(e,t){return new ht(e,t)}createRangeOn(e){return ht._createOn(e)}createRangeIn(e){return ht._createIn(e)}createSelection(...e){return new Yt(...e)}}const Ea=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,Sa=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,Ia=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Pa=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,La=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,Oa=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,Ma=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function ca(n){return n.startsWith("#")?Ea.test(n):n.startsWith("rgb")?Sa.test(n)||Ia.test(n):n.startsWith("hsl")?Pa.test(n)||La.test(n):Ma.has(n.toLowerCase())}const Ra=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function da(n){return Ra.includes(n)}const ja=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function ua(n){return ja.test(n)}const Va=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Na(n){return Va.test(n)}const Ba=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function ha(n){return Ba.includes(n)}const Da=["center","top","bottom","left","right"];function ma(n){return Da.includes(n)}const za=["fixed","scroll","local"];function ga(n){return za.includes(n)}const Fa=/^url\(/;function pa(n){return Fa.test(n)}function ds(n=""){if(n==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Zs(n),t=e[0],i=e[2]||t,r=e[1]||t;return{top:t,bottom:i,right:r,left:e[3]||r}}function us(n){return e=>{const{top:t,right:i,bottom:r,left:a}=e,x=[];return[t,i,a,r].every(W=>!!W)?x.push([n,fa(e)]):(t&&x.push([n+"-top",t]),i&&x.push([n+"-right",i]),r&&x.push([n+"-bottom",r]),a&&x.push([n+"-left",a])),x}}function fa({top:n,right:e,bottom:t,left:i}){const r=[];return i!==e?r.push(n,e,t,i):t!==n?r.push(n,e,t):e!==n?r.push(n,e):r.push(n),r.join(" ")}function sa(n){return e=>({path:n,value:ds(e)})}function Zs(n){const e=n.matchAll(Oa);return Array.from(e).map(t=>t[0])}function Ha(n){n.setNormalizer("background",e=>{const t={},i=Zs(e);for(const r of i)ha(r)?(t.repeat=t.repeat||[],t.repeat.push(r)):ma(r)?(t.position=t.position||[],t.position.push(r)):ga(r)?t.attachment=r:ca(r)?t.color=r:pa(r)&&(t.image=r);return{path:"background",value:t}}),n.setNormalizer("background-color",e=>({path:"background.color",value:e})),n.setReducer("background",e=>{const t=[];return t.push(["background-color",e.color]),t}),n.setStyleRelation("background",["background-color"])}function Ua(n){n.setNormalizer("border",e=>{const{color:t,style:i,width:r}=ba(e);return{path:"border",value:{color:ds(t),style:ds(i),width:ds(r)}}}),n.setNormalizer("border-top",$s("top")),n.setNormalizer("border-right",$s("right")),n.setNormalizer("border-bottom",$s("bottom")),n.setNormalizer("border-left",$s("left")),n.setNormalizer("border-color",aa("color")),n.setNormalizer("border-width",aa("width")),n.setNormalizer("border-style",aa("style")),n.setNormalizer("border-top-color",Zr("color","top")),n.setNormalizer("border-top-style",Zr("style","top")),n.setNormalizer("border-top-width",Zr("width","top")),n.setNormalizer("border-right-color",Zr("color","right")),n.setNormalizer("border-right-style",Zr("style","right")),n.setNormalizer("border-right-width",Zr("width","right")),n.setNormalizer("border-bottom-color",Zr("color","bottom")),n.setNormalizer("border-bottom-style",Zr("style","bottom")),n.setNormalizer("border-bottom-width",Zr("width","bottom")),n.setNormalizer("border-left-color",Zr("color","left")),n.setNormalizer("border-left-style",Zr("style","left")),n.setNormalizer("border-left-width",Zr("width","left")),n.setExtractor("border-top",qs("top")),n.setExtractor("border-right",qs("right")),n.setExtractor("border-bottom",qs("bottom")),n.setExtractor("border-left",qs("left")),n.setExtractor("border-top-color","border.color.top"),n.setExtractor("border-right-color","border.color.right"),n.setExtractor("border-bottom-color","border.color.bottom"),n.setExtractor("border-left-color","border.color.left"),n.setExtractor("border-top-width","border.width.top"),n.setExtractor("border-right-width","border.width.right"),n.setExtractor("border-bottom-width","border.width.bottom"),n.setExtractor("border-left-width","border.width.left"),n.setExtractor("border-top-style","border.style.top"),n.setExtractor("border-right-style","border.style.right"),n.setExtractor("border-bottom-style","border.style.bottom"),n.setExtractor("border-left-style","border.style.left"),n.setReducer("border-color",us("border-color")),n.setReducer("border-style",us("border-style")),n.setReducer("border-width",us("border-width")),n.setReducer("border-top",Ks("top")),n.setReducer("border-right",Ks("right")),n.setReducer("border-bottom",Ks("bottom")),n.setReducer("border-left",Ks("left")),n.setReducer("border",function(){return t=>{const i=Ms(t,"top"),r=Ms(t,"right"),a=Ms(t,"bottom"),x=Ms(t,"left"),W=[i,r,a,x],de={width:e(W,"width"),style:e(W,"style"),color:e(W,"color")},ke=hs(de,"all");return ke.length?ke:[...Object.entries(de).reduce((Ee,[Ze,rt])=>(rt&&(Ee.push([`border-${Ze}`,rt]),W.forEach(jt=>delete jt[Ze])),Ee),[]),...hs(i,"top"),...hs(r,"right"),...hs(a,"bottom"),...hs(x,"left")]};function e(t,i){return t.map(r=>r[i]).reduce((r,a)=>r==a?r:null)}}()),n.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),n.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),n.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),n.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),n.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),n.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),n.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function $s(n){return e=>{const{color:t,style:i,width:r}=ba(e),a={};return t!==void 0&&(a.color={[n]:t}),i!==void 0&&(a.style={[n]:i}),r!==void 0&&(a.width={[n]:r}),{path:"border",value:a}}}function aa(n){return e=>({path:"border",value:Wa(e,n)})}function Wa(n,e){return{[e]:ds(n)}}function Zr(n,e){return t=>({path:"border",value:{[n]:{[e]:t}}})}function qs(n){return(e,t)=>{if(t.border)return Ms(t.border,n)}}function Ms(n,e){const t={};return n.width&&n.width[e]&&(t.width=n.width[e]),n.style&&n.style[e]&&(t.style=n.style[e]),n.color&&n.color[e]&&(t.color=n.color[e]),t}function ba(n){const e={},t=Zs(n);for(const i of t)ua(i)||/thin|medium|thick/.test(i)?e.width=i:da(i)?e.style=i:e.color=i;return e}function Ks(n){return e=>hs(e,n)}function hs(n,e){const t=[];if(n&&n.width&&t.push("width"),n&&n.style&&t.push("style"),n&&n.color&&t.push("color"),t.length==3){const i=t.map(r=>n[r]).join(" ");return[e=="all"?["border",i]:[`border-${e}`,i]]}return e=="all"?[]:t.map(i=>[`border-${e}-${i}`,n[i]])}function Za(n){n.setNormalizer("margin",sa("margin")),n.setNormalizer("margin-top",e=>({path:"margin.top",value:e})),n.setNormalizer("margin-right",e=>({path:"margin.right",value:e})),n.setNormalizer("margin-bottom",e=>({path:"margin.bottom",value:e})),n.setNormalizer("margin-left",e=>({path:"margin.left",value:e})),n.setReducer("margin",us("margin")),n.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function $a(n){n.setNormalizer("padding",sa("padding")),n.setNormalizer("padding-top",e=>({path:"padding.top",value:e})),n.setNormalizer("padding-right",e=>({path:"padding.right",value:e})),n.setNormalizer("padding-bottom",e=>({path:"padding.bottom",value:e})),n.setNormalizer("padding-left",e=>({path:"padding.left",value:e})),n.setReducer("padding",us("padding")),n.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}},"./packages/ckeditor5-enter/src/index.ts":(w,C,l)=>{"use strict";l.d(C,{C:()=>ee,G:()=>_});var c=l("./packages/ckeditor5-core/src/index.ts");function*L(p,v){for(const A of v)A&&p.getAttributeProperties(A[0]).copyOnEnter&&(yield A)}class B extends c.mY{execute(){this.editor.model.change(v=>{this.enterBlock(v),this.fire("afterExecute",{writer:v})})}enterBlock(v){const A=this.editor.model,T=A.document.selection,S=A.schema,ae=T.isCollapsed,$=T.getFirstRange(),z=$.start.parent,f=$.end.parent;if(S.isLimit(z)||S.isLimit(f))return ae||z!=f||A.deleteContent(T),!1;if(ae){const j=L(v.model.schema,T.getAttributes());return y(v,$.start),v.setSelectionAttribute(j),!0}{const j=!($.start.isAtStart&&$.end.isAtEnd),Z=z==f;if(A.deleteContent(T,{leaveUnmerged:j}),j){if(Z)return y(v,T.focus),!0;v.setSelection(f,0)}}return!1}}function y(p,v){p.split(v),p.setSelection(v.parent.nextSibling,0)}var h=l("./packages/ckeditor5-engine/src/index.ts"),V=l("./packages/ckeditor5-utils/src/index.ts");const q={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Y extends h.Qj{constructor(v){super(v);const A=this.document;let T=!1;A.on("keydown",(S,ae)=>{T=ae.shiftKey}),A.on("beforeinput",(S,ae)=>{if(!this.isEnabled)return;let $=ae.inputType;V.OB.isSafari&&T&&$=="insertParagraph"&&($="insertLineBreak");const z=ae.domEvent,f=q[$];if(!f)return;const j=new h.r7(A,"enter",ae.targetRanges[0]);A.fire(j,new h.dK(v,z,{isSoft:f.isSoft})),j.stop.called&&S.stop()})}observe(){}stopObserving(){}}class ee extends c.Sy{static get pluginName(){return"Enter"}init(){const v=this.editor,A=v.editing.view,T=A.document;A.addObserver(Y),v.commands.add("enter",new B(v)),this.listenTo(T,"enter",(S,ae)=>{T.isComposing||ae.preventDefault(),ae.isSoft||(v.execute("enter"),A.scrollToTheSelection())},{priority:"low"})}}class re extends c.mY{execute(){const v=this.editor.model,A=v.document;v.change(T=>{(function(S,ae,$){const z=$.isCollapsed,f=$.getFirstRange(),j=f.start.parent,Z=f.end.parent,D=j==Z;if(z){const oe=L(S.schema,$.getAttributes());ie(S,ae,f.end),ae.removeSelectionAttribute($.getAttributeKeys()),ae.setSelectionAttribute(oe)}else{const oe=!(f.start.isAtStart&&f.end.isAtEnd);S.deleteContent($,{leaveUnmerged:oe}),D?ie(S,ae,$.focus):oe&&ae.setSelection(Z,0)}})(v,T,A.selection),this.fire("afterExecute",{writer:T})})}refresh(){const v=this.editor.model,A=v.document;this.isEnabled=function(T,S){if(S.rangeCount>1)return!1;const ae=S.anchor;if(!ae||!T.checkChild(ae,"softBreak"))return!1;const $=S.getFirstRange(),z=$.start.parent,f=$.end.parent;return!((u(z,T)||u(f,T))&&z!==f)}(v.schema,A.selection)}}function ie(p,v,A){const T=v.createElement("softBreak");p.insertContent(T,A),v.setSelection(T,"after")}function u(p,v){return!p.is("rootElement")&&(v.isLimit(p)||u(p.parent,v))}class _ extends c.Sy{static get pluginName(){return"ShiftEnter"}init(){const v=this.editor,A=v.model.schema,T=v.conversion,S=v.editing.view,ae=S.document;A.register("softBreak",{allowWhere:"$text",isInline:!0}),T.for("upcast").elementToElement({model:"softBreak",view:"br"}),T.for("downcast").elementToElement({model:"softBreak",view:($,{writer:z})=>z.createEmptyElement("br")}),S.addObserver(Y),v.commands.add("shiftEnter",new re(v)),this.listenTo(ae,"enter",($,z)=>{ae.isComposing||z.preventDefault(),z.isSoft&&(v.execute("shiftEnter"),S.scrollToTheSelection())},{priority:"low"})}}},"./packages/ckeditor5-typing/src/index.ts":(w,C,l)=>{"use strict";l.d(C,{HG:()=>T,II:()=>Y,BT:()=>y,cL:()=>lt,uL:()=>$,mh:()=>z,Mq:()=>S,VD:()=>Qe,r9:()=>ft,Up:()=>ae,Im:()=>Ve});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class B{constructor(Q,xe=20){this._batch=null,this.model=Q,this._size=0,this.limit=xe,this._isLocked=!1,this._changeCallback=(Oe,Je)=>{Je.isLocal&&Je.isUndoable&&Je!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(Q){this._size+=Q,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(Q=!1){this.isLocked&&!Q||(this._batch=null,this._size=0)}}class y extends c.mY{constructor(Q,xe){super(Q),this._buffer=new B(Q.model,xe),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(Q={}){const xe=this.editor.model,Oe=xe.document,Je=Q.text||"",$e=Je.length;let tt=Oe.selection;if(Q.selection?tt=Q.selection:Q.range&&(tt=xe.createSelection(Q.range)),!xe.canEditAt(tt))return;const st=Q.resultRange;xe.enqueueChange(this._buffer.batch,Pt=>{this._buffer.lock();const Ft=Array.from(Oe.selection.getAttributes());xe.deleteContent(tt),Je&&xe.insertContent(Pt.createText(Je,Ft),tt),st?Pt.setSelection(st):tt.is("documentSelection")||Pt.setSelection(tt),this._buffer.unlock(),this._buffer.input($e)})}}var h=l("./packages/ckeditor5-engine/src/index.ts");const V=["insertText","insertReplacementText"];class q extends h.Qj{constructor(Q){super(Q),this.focusObserver=Q.getObserver(h.DX),L.OB.isAndroid&&V.push("insertCompositionText");const xe=Q.document;xe.on("beforeinput",(Oe,Je)=>{if(!this.isEnabled)return;const{data:$e,targetRanges:tt,inputType:st,domEvent:Pt}=Je;if(!V.includes(st))return;this.focusObserver.flush();const Ft=new L.M3(xe,"insertText");xe.fire(Ft,new h.dK(Q,Pt,{text:$e,selection:Q.createSelection(tt)})),Ft.stop.called&&Oe.stop()}),xe.on("compositionend",(Oe,{data:Je,domEvent:$e})=>{this.isEnabled&&!L.OB.isAndroid&&Je&&xe.fire("insertText",new h.dK(Q,$e,{text:Je,selection:xe.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Y extends c.Sy{static get pluginName(){return"Input"}init(){const Q=this.editor,xe=Q.model,Oe=Q.editing.view,Je=xe.document.selection;Oe.addObserver(q);const $e=new y(Q,Q.config.get("typing.undoStep")||20);Q.commands.add("insertText",$e),Q.commands.add("input",$e),this.listenTo(Oe.document,"insertText",(tt,st)=>{Oe.document.isComposing||st.preventDefault();const{text:Pt,selection:Ft,resultRange:Gt}=st,ui=Array.from(Ft.getRanges()).map(hi=>Q.editing.mapper.toModelRange(hi));let Vt=Pt;if(L.OB.isAndroid){const hi=Array.from(ui[0].getItems()).reduce((Ci,Oi)=>Ci+(Oi.is("$textProxy")?Oi.data:""),"");hi&&(hi.length<=Vt.length?Vt.startsWith(hi)&&(Vt=Vt.substring(hi.length),ui[0].start=ui[0].start.getShiftedBy(hi.length)):hi.startsWith(Vt)&&(ui[0].start=ui[0].start.getShiftedBy(Vt.length),Vt=""))}const ti={text:Vt,selection:xe.createSelection(ui)};Gt&&(ti.resultRange=Q.editing.mapper.toModelRange(Gt)),Q.execute("insertText",ti),Oe.scrollToTheSelection()}),L.OB.isAndroid?this.listenTo(Oe.document,"keydown",(tt,st)=>{!Je.isCollapsed&&st.keyCode==229&&Oe.document.isComposing&&ee(xe,$e)}):this.listenTo(Oe.document,"compositionstart",()=>{Je.isCollapsed||ee(xe,$e)})}}function ee(Te,Q){if(!Q.isEnabled)return;const xe=Q.buffer;xe.lock(),Te.enqueueChange(xe.batch,()=>{Te.deleteContent(Te.document.selection)}),xe.unlock()}class re extends c.mY{constructor(Q,xe){super(Q),this.direction=xe,this._buffer=new B(Q.model,Q.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(Q={}){const xe=this.editor.model,Oe=xe.document;xe.enqueueChange(this._buffer.batch,Je=>{this._buffer.lock();const $e=Je.createSelection(Q.selection||Oe.selection);if(!xe.canEditAt($e))return;const tt=Q.sequence||1,st=$e.isCollapsed;if($e.isCollapsed&&xe.modifySelection($e,{direction:this.direction,unit:Q.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(tt))return void this._replaceEntireContentWithParagraph(Je);if(this._shouldReplaceFirstBlockWithParagraph($e,tt))return void this.editor.execute("paragraph",{selection:$e});if($e.isCollapsed)return;let Pt=0;$e.getFirstRange().getMinimalFlatRanges().forEach(Ft=>{Pt+=(0,L.QX)(Ft.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),xe.deleteContent($e,{doNotResetEntireContent:st,direction:this.direction}),this._buffer.input(Pt),Je.setSelection($e),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(Q){if(Q>1)return!1;const xe=this.editor.model,Oe=xe.document.selection,Je=xe.schema.getLimitElement(Oe);if(!(Oe.isCollapsed&&Oe.containsEntireContent(Je))||!xe.schema.checkChild(Je,"paragraph"))return!1;const $e=Je.getChild(0);return!$e||!$e.is("element","paragraph")}_replaceEntireContentWithParagraph(Q){const xe=this.editor.model,Oe=xe.document.selection,Je=xe.schema.getLimitElement(Oe),$e=Q.createElement("paragraph");Q.remove(Q.createRangeIn(Je)),Q.insert($e,Je),Q.setSelection($e,0)}_shouldReplaceFirstBlockWithParagraph(Q,xe){const Oe=this.editor.model;if(xe>1||this.direction!="backward"||!Q.isCollapsed)return!1;const Je=Q.getFirstPosition(),$e=Oe.schema.getLimitElement(Je),tt=$e.getChild(0);return Je.parent==tt&&!!Q.containsEntireContent(tt)&&!!Oe.schema.checkChild($e,"paragraph")&&tt.name!="paragraph"}}const ie="word",u="selection",_="backward",p="forward",v={deleteContent:{unit:u,direction:_},deleteContentBackward:{unit:"codePoint",direction:_},deleteWordBackward:{unit:ie,direction:_},deleteHardLineBackward:{unit:u,direction:_},deleteSoftLineBackward:{unit:u,direction:_},deleteContentForward:{unit:"character",direction:p},deleteWordForward:{unit:ie,direction:p},deleteHardLineForward:{unit:u,direction:p},deleteSoftLineForward:{unit:u,direction:p}};class A extends h.Qj{constructor(Q){super(Q);const xe=Q.document;let Oe=0;xe.on("keydown",()=>{Oe++}),xe.on("keyup",()=>{Oe=0}),xe.on("beforeinput",(Je,$e)=>{if(!this.isEnabled)return;const{targetRanges:tt,domEvent:st,inputType:Pt}=$e,Ft=v[Pt];if(!Ft)return;const Gt={direction:Ft.direction,unit:Ft.unit,sequence:Oe};Gt.unit==u&&(Gt.selectionToRemove=Q.createSelection(tt[0])),Pt==="deleteContentBackward"&&(L.OB.isAndroid&&(Gt.sequence=1),function(Vt){if(Vt.length!=1||Vt[0].isCollapsed)return!1;const ti=Vt[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let hi=0;for(const{nextPosition:Ci}of ti){if(Ci.parent.is("$text")){const Oi=Ci.parent.data,Di=Ci.offset;if((0,L.to)(Oi,Di)||(0,L.pp)(Oi,Di)||(0,L.YK)(Oi,Di))continue;hi++}else hi++;if(hi>1)return!0}return!1}(tt)&&(Gt.unit=u,Gt.selectionToRemove=Q.createSelection(tt)));const ui=new h.r7(xe,"delete",tt[0]);xe.fire(ui,new h.dK(Q,st,Gt)),ui.stop.called&&Je.stop()}),L.OB.isBlink&&function(Je){const $e=Je.view,tt=$e.document;let st=null,Pt=!1;function Ft(ui){return ui==L.Do.backspace||ui==L.Do.delete}function Gt(ui){return ui==L.Do.backspace?_:p}tt.on("keydown",(ui,{keyCode:Vt})=>{st=Vt,Pt=!1}),tt.on("keyup",(ui,{keyCode:Vt,domEvent:ti})=>{const hi=tt.selection,Ci=Je.isEnabled&&Vt==st&&Ft(Vt)&&!hi.isCollapsed&&!Pt;if(st=null,Ci){const Oi=hi.getFirstRange(),Di=new h.r7(tt,"delete",Oi),Vi={unit:u,direction:Gt(Vt),selectionToRemove:hi};tt.fire(Di,new h.dK($e,ti,Vi))}}),tt.on("beforeinput",(ui,{inputType:Vt})=>{const ti=v[Vt];Ft(st)&&ti&&ti.direction==Gt(st)&&(Pt=!0)},{priority:"high"}),tt.on("beforeinput",(ui,{inputType:Vt,data:ti})=>{st==L.Do.delete&&Vt=="insertText"&&ti=="\x7F"&&ui.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class T extends c.Sy{static get pluginName(){return"Delete"}init(){const Q=this.editor,xe=Q.editing.view,Oe=xe.document,Je=Q.model.document;xe.addObserver(A),this._undoOnBackspace=!1;const $e=new re(Q,"forward");Q.commands.add("deleteForward",$e),Q.commands.add("forwardDelete",$e),Q.commands.add("delete",new re(Q,"backward")),this.listenTo(Oe,"delete",(tt,st)=>{Oe.isComposing||st.preventDefault();const{direction:Pt,sequence:Ft,selectionToRemove:Gt,unit:ui}=st,Vt=Pt==="forward"?"deleteForward":"delete",ti={sequence:Ft};if(ui=="selection"){const hi=Array.from(Gt.getRanges()).map(Ci=>Q.editing.mapper.toModelRange(Ci));ti.selection=Q.model.createSelection(hi)}else ti.unit=ui;Q.execute(Vt,ti),xe.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(Oe,"delete",(tt,st)=>{this._undoOnBackspace&&st.direction=="backward"&&st.sequence==1&&st.unit=="codePoint"&&(this._undoOnBackspace=!1,Q.execute("undo"),st.preventDefault(),tt.stop())},{context:"$capture"}),this.listenTo(Je,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class S extends c.Sy{static get requires(){return[Y,T]}static get pluginName(){return"Typing"}}function ae(Te,Q){let xe=Te.start;return{text:Array.from(Te.getWalker({ignoreElementEnd:!1})).reduce((Oe,{item:Je})=>Je.is("$text")||Je.is("$textProxy")?Oe+Je.data:(xe=Q.createPositionAfter(Je),""),""),range:Q.createRange(xe,Te.end)}}class $ extends(0,L.Re)(){constructor(Q,xe){super(),this.model=Q,this.testCallback=xe,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(Q.document.selection),this.stopListening(Q.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const Q=this.model.document;this.listenTo(Q.selection,"change:range",(xe,{directChange:Oe})=>{Oe&&(Q.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(Q,"change:data",(xe,Oe)=>{!Oe.isUndo&&Oe.isLocal&&this._evaluateTextBeforeSelection("data",{batch:Oe})})}_evaluateTextBeforeSelection(Q,xe={}){const Oe=this.model,Je=Oe.document.selection,$e=Oe.createRange(Oe.createPositionAt(Je.focus.parent,0),Je.focus),{text:tt,range:st}=ae($e,Oe),Pt=this.testCallback(tt);if(!Pt&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!Pt,Pt){const Ft=Object.assign(xe,{text:tt,range:st});typeof Pt=="object"&&Object.assign(Ft,Pt),this.fire(`matched:${Q}`,Ft)}}}class z extends c.Sy{constructor(Q){super(Q),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const Q=this.editor,xe=Q.model,Oe=Q.editing.view,Je=Q.locale,$e=xe.document.selection;this.listenTo(Oe.document,"arrowKey",(tt,st)=>{if(!$e.isCollapsed||st.shiftKey||st.altKey||st.ctrlKey)return;const Pt=st.keyCode==L.Do.arrowright,Ft=st.keyCode==L.Do.arrowleft;if(!Pt&&!Ft)return;const Gt=Je.contentLanguageDirection;let ui=!1;ui=Gt==="ltr"&&Pt||Gt==="rtl"&&Ft?this._handleForwardMovement(st):this._handleBackwardMovement(st),ui===!0&&tt.stop()},{context:"$text",priority:"highest"}),this.listenTo($e,"change:range",(tt,st)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!st.directChange&&Se($e.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(Q){this.attributes.add(Q)}_handleForwardMovement(Q){const xe=this.attributes,Oe=this.editor.model,Je=Oe.document.selection,$e=Je.getFirstPosition();return!this._isGravityOverridden&&(!$e.isAtStart||!f(Je,xe))&&!!Se($e,xe)&&(D(Q),f(Je,xe)&&Se($e,xe,!0)?Z(Oe,xe):this._overrideGravity(),!0)}_handleBackwardMovement(Q){const xe=this.attributes,Oe=this.editor.model,Je=Oe.document.selection,$e=Je.getFirstPosition();return this._isGravityOverridden?(D(Q),this._restoreGravity(),Se($e,xe,!0)?Z(Oe,xe):j(Oe,xe,$e),!0):$e.isAtStart?!!f(Je,xe)&&(D(Q),j(Oe,xe,$e),!0):!f(Je,xe)&&Se($e,xe,!0)?(D(Q),j(Oe,xe,$e),!0):!!oe($e,xe)&&($e.isAtEnd&&!f(Je,xe)&&Se($e,xe)?(D(Q),j(Oe,xe,$e),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const Q=this.editor,xe=Q.model,Oe=xe.document.selection,Je=Q.editing.view.document;Q.editing.view.addObserver(h.dM);let $e=!1;this.listenTo(Je,"mousedown",()=>{$e=!0}),this.listenTo(Je,"selectionChange",()=>{const tt=this.attributes;if(!$e||($e=!1,!Oe.isCollapsed)||!f(Oe,tt))return;const st=Oe.getFirstPosition();Se(st,tt)&&(st.isAtStart||Se(st,tt,!0)?Z(xe,tt):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const Q=this.editor.model,xe=Q.document.selection,Oe=this.attributes;this.listenTo(Q,"insertContent",()=>{const Je=xe.getFirstPosition();f(xe,Oe)&&Se(Je,Oe)&&Z(Q,Oe)},{priority:"low"})}_handleDeleteContentAfterNode(){const Q=this.editor,xe=Q.model,Oe=xe.document.selection,Je=Q.editing.view;let $e=!1,tt=!1;this.listenTo(Je.document,"delete",(st,Pt)=>{$e=Pt.direction==="backward"},{priority:"high"}),this.listenTo(xe,"deleteContent",()=>{if(!$e)return;const st=Oe.getFirstPosition();tt=f(Oe,this.attributes)&&!oe(st,this.attributes)},{priority:"high"}),this.listenTo(xe,"deleteContent",()=>{$e&&($e=!1,tt||Q.model.enqueueChange(()=>{const st=Oe.getFirstPosition();f(Oe,this.attributes)&&Se(st,this.attributes)&&(st.isAtStart||Se(st,this.attributes,!0)?Z(xe,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(Q=>Q.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(Q=>{Q.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function f(Te,Q){for(const xe of Q)if(Te.hasAttribute(xe))return!0;return!1}function j(Te,Q,xe){const Oe=xe.nodeBefore;Te.change(Je=>{if(Oe){const $e=[],tt=Te.schema.isObject(Oe)&&Te.schema.isInline(Oe);for(const[st,Pt]of Oe.getAttributes())!Te.schema.checkAttribute("$text",st)||tt&&Te.schema.getAttributeProperties(st).copyFromObject===!1||$e.push([st,Pt]);Je.setSelectionAttribute($e)}else Je.removeSelectionAttribute(Q)})}function Z(Te,Q){Te.change(xe=>{xe.removeSelectionAttribute(Q)})}function D(Te){Te.preventDefault()}function oe(Te,Q){return Se(Te.getShiftedBy(-1),Q)}function Se(Te,Q,xe=!1){const{nodeBefore:Oe,nodeAfter:Je}=Te;for(const $e of Q){const tt=Oe?Oe.getAttribute($e):void 0,st=Je?Je.getAttribute($e):void 0;if((!xe||tt!==void 0&&st!==void 0)&&st!==tt)return!0}return!1}var je=l("./node_modules/lodash-es/escapeRegExp.js");const Ie={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xBD",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xBC",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xBE",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:bt('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:bt("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:bt("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:bt('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:bt('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:bt("'"),to:[null,"\u201A",null,"\u2019"]}},De={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},mt=["symbols","mathematical","typography","quotes"];class lt extends c.Sy{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(Q){super(Q),Q.config.define("typing",{transformations:{include:mt}})}init(){const Q=this.editor.model.document.selection;Q.on("change:range",()=>{this.isEnabled=!Q.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const Q=this.editor,xe=Q.model,Oe=Q.plugins.get("Delete"),Je=function(tt){const st=tt.extra||[],Pt=tt.remove||[],Ft=Gt=>!Pt.includes(Gt);return function(Gt){const ui=new Set;for(const Vt of Gt)if(typeof Vt=="string"&&De[Vt])for(const ti of De[Vt])ui.add(ti);else ui.add(Vt);return Array.from(ui)}(tt.include.concat(st).filter(Ft)).filter(Ft).map(Gt=>typeof Gt=="string"&&Ie[Gt]?Ie[Gt]:Gt).filter(Gt=>typeof Gt=="object").map(Gt=>({from:ut(Gt.from),to:dt(Gt.to)}))}(Q.config.get("typing.transformations")),$e=new $(Q.model,tt=>{for(const st of Je)if(st.from.test(tt))return{normalizedTransformation:st}});$e.on("matched:data",(tt,st)=>{if(!st.batch.isTyping)return;const{from:Pt,to:Ft}=st.normalizedTransformation,Gt=Pt.exec(st.text),ui=Ft(Gt.slice(1)),Vt=st.range;let ti=Gt.index;xe.enqueueChange(hi=>{for(let Ci=1;Ci<Gt.length;Ci++){const Oi=Gt[Ci],Di=ui[Ci-1];if(Di==null){ti+=Oi.length;continue}const Vi=Vt.start.getShiftedBy(ti),Pi=xe.createRange(Vi,Vi.getShiftedBy(Oi.length)),Zi=vt(Vi);xe.insertContent(hi.createText(Di,Zi),Pi),ti+=Di.length}xe.enqueueChange(()=>{Oe.requestUndoOnBackspace()})})}),$e.bind("isEnabled").to(this)}}function ut(Te){return typeof Te=="string"?new RegExp(`(${(0,je.Z)(Te)})$`):Te}function dt(Te){return typeof Te=="string"?()=>[Te]:Te instanceof Array?()=>Te:Te}function vt(Te){return(Te.textNode?Te.textNode:Te.nodeAfter).getAttributes()}function bt(Te){return new RegExp(`(^|\\s)(${Te})([^${Te}]*)(${Te})$`)}function Qe(Te,Q,xe,Oe){return Oe.createRange(ft(Te,Q,xe,!0,Oe),ft(Te,Q,xe,!1,Oe))}function ft(Te,Q,xe,Oe,Je){let $e=Te.textNode||(Oe?Te.nodeBefore:Te.nodeAfter),tt=null;for(;$e&&$e.getAttribute(Q)==xe;)tt=$e,$e=Oe?$e.previousSibling:$e.nextSibling;return tt?Je.createPositionAt(tt,Oe?"before":"after"):Te}function Ve(Te,Q,xe,Oe){const Je=Te.editing.view,$e=new Set;Je.document.registerPostFixer(tt=>{const st=Te.model.document.selection;let Pt=!1;if(st.hasAttribute(Q)){const Ft=Qe(st.getFirstPosition(),Q,st.getAttribute(Q),Te.model),Gt=Te.editing.mapper.toViewRange(Ft);for(const ui of Gt.getItems())ui.is("element",xe)&&!ui.hasClass(Oe)&&(tt.addClass(Oe,ui),$e.add(ui),Pt=!0)}return Pt}),Te.conversion.for("editingDowncast").add(tt=>{function st(){Je.change(Pt=>{for(const Ft of $e.values())Pt.removeClass(Oe,Ft),$e.delete(Ft)})}tt.on("insert",st,{priority:"highest"}),tt.on("remove",st,{priority:"highest"}),tt.on("attribute",st,{priority:"highest"}),tt.on("selection",st,{priority:"highest"})})}},"./packages/ckeditor5-ui/src/index.ts":(w,C,l)=>{"use strict";function c({emitter:U,activator:o,callback:b,contextElements:F}){U.listenTo(document,"mousedown",(le,Me)=>{if(!o())return;const Fe=typeof Me.composedPath=="function"?Me.composedPath():[],it=typeof F=="function"?F():F;for(const Mt of it)if(Mt.contains(Me.target)||Fe.includes(Mt))return;b()})}function L(U){const o=U;o.set("_isCssTransitionsDisabled",!1),o.disableCssTransitions=()=>{o._isCssTransitionsDisabled=!0},o.enableCssTransitions=()=>{o._isCssTransitionsDisabled=!1},o.extendTemplate({attributes:{class:[o.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function B(U){return class extends U{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...o){super(...o),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function y({view:U}){U.listenTo(U.element,"submit",(o,b)=>{b.preventDefault(),U.fire("submit")},{useCapture:!0})}function h({keystrokeHandler:U,focusTracker:o,gridItems:b,numberOfColumns:F,uiLanguageDirection:le}){const Me=typeof F=="number"?()=>F:F;function Fe(fi){return zi=>{const bn=b.find(gn=>gn.element===o.focusedElement),Yr=b.getIndex(bn),yo=fi(Yr,b);b.get(yo).focus(),zi.stopPropagation(),zi.preventDefault()}}function it(fi,zi){return fi===zi-1?0:fi+1}function Mt(fi,zi){return fi===0?zi-1:fi-1}U.set("arrowright",Fe((fi,zi)=>le==="rtl"?Mt(fi,zi.length):it(fi,zi.length))),U.set("arrowleft",Fe((fi,zi)=>le==="rtl"?it(fi,zi.length):Mt(fi,zi.length))),U.set("arrowup",Fe((fi,zi)=>{let bn=fi-Me();return bn<0&&(bn=fi+Me()*Math.floor(zi.length/Me()),bn>zi.length-1&&(bn-=Me())),bn})),U.set("arrowdown",Fe((fi,zi)=>{let bn=fi+Me();return bn>zi.length-1&&(bn=fi%Me()),bn}))}l.d(C,{cH:()=>Nr,no:()=>Ln,Jf:()=>ks,ee:()=>Ko,BK:()=>bt,py:()=>er,UR:()=>Q,r5:()=>Je,p2:()=>ws,J6:()=>hi,J2:()=>ii,MI:()=>eo,_9:()=>ui,_Y:()=>ho,WB:()=>ir,RX:()=>B,J0:()=>H,G2:()=>Ki,_n:()=>wn,S8:()=>ar,fF:()=>Lr,LR:()=>gs(),I0:()=>X,Gp:()=>kr,yd:()=>bs,mO:()=>Te,VY:()=>ko,r1:()=>tr,Xs:()=>wi,pq:()=>ri,Em:()=>oi,Dn:()=>Le,KP:()=>gt,YK:()=>kn,dn:()=>$i,Bv:()=>En,Hn:()=>mr,P_:()=>Lo,$W:()=>Tn,ZU:()=>Uo,RO:()=>qo,Rm:()=>ur,lp:()=>vr,BM:()=>st,YS:()=>v,nC:()=>yi,qR:()=>ht,$y:()=>be,jB:()=>Ti,gE:()=>nn,G7:()=>u,vX:()=>q,IJ:()=>h,Pm:()=>et,up:()=>Ue,eC:()=>c,t9:()=>Ae,FH:()=>mi,sh:()=>Dt,R:()=>At,s$:()=>Wt,Mh:()=>Et,k6:()=>Pt,ci:()=>ys,fe:()=>L,S1:()=>Ft,jY:()=>Gt,iw:()=>Ke,GI:()=>y});var V=l("./packages/ckeditor5-utils/src/index.ts");class q extends V.FE{constructor(o=[]){super(o,{idProperty:"viewUid"}),this.on("add",(b,F,le)=>{this._renderViewIntoCollectionParent(F,le)}),this.on("remove",(b,F)=>{F.element&&this._parentElement&&F.element.remove()}),this._parentElement=null}destroy(){this.map(o=>o.destroy())}setParent(o){this._parentElement=o;for(const b of this)this._renderViewIntoCollectionParent(b)}delegate(...o){if(!o.length||!o.every(b=>typeof b=="string"))throw new V.Bb("ui-viewcollection-delegate-wrong-events",this);return{to:b=>{for(const F of this)for(const le of o)F.delegate(le).to(b);this.on("add",(F,le)=>{for(const Me of o)le.delegate(Me).to(b)}),this.on("remove",(F,le)=>{for(const Me of o)le.stopDelegating(Me,b)})}}}_renderViewIntoCollectionParent(o,b){o.isRendered||o.render(),o.element&&this._parentElement&&this._parentElement.insertBefore(o.element,this._parentElement.children[b])}remove(o){return super.remove(o)}}var Y=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ee=l.n(Y),re=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/globals/globals.css"),ie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(re.Z,ie),re.Z.locals;class u extends(0,V.Xu)((0,V.Re)()){constructor(o){super(),this.element=null,this.isRendered=!1,this.locale=o,this.t=o&&o.t,this._viewCollections=new V.FE,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(b,F)=>{F.locale=o,F.t=o&&o.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=v.bind(this,this)}createCollection(o){const b=new q(o);return this._viewCollections.add(b),b}registerChild(o){(0,V.TW)(o)||(o=[o]);for(const b of o)this._unboundChildren.add(b)}deregisterChild(o){(0,V.TW)(o)||(o=[o]);for(const b of o)this._unboundChildren.remove(b)}setTemplate(o){this.template=new v(o)}extendTemplate(o){v.extend(this.template,o)}render(){if(this.isRendered)throw new V.Bb("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(o=>o.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}var _=l("./node_modules/lodash-es/cloneDeepWith.js"),p=l("./node_modules/lodash-es/isObject.js");class v extends(0,V.ln)(){constructor(o){super(),Object.assign(this,D(Z(o))),this._isRendered=!1,this._revertData=null}render(){const o=this._renderNode({intoFragment:!0});return this._isRendered=!0,o}apply(o){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:o,intoFragment:!1,isApplying:!0,revertData:this._revertData}),o}revert(o){if(!this._revertData)throw new V.Bb("ui-template-revert-not-applied",[this,o]);this._revertTemplateFromNode(o,this._revertData)}*getViews(){yield*function*o(b){if(b.children)for(const F of b.children)mt(F)?yield F:lt(F)&&(yield*o(F))}(this)}static bind(o,b){return{to:(F,le)=>new T({eventNameOrFunction:F,attribute:F,observable:o,emitter:b,callback:le}),if:(F,le,Me)=>new S({observable:o,emitter:b,attribute:F,valueIfTrue:le,callback:Me})}}static extend(o,b){if(o._isRendered)throw new V.Bb("template-extend-render",[this,o]);Ie(o,D(Z(b)))}_renderNode(o){let b;if(b=o.node?this.tag&&this.text:this.tag?this.text:!this.text,b)throw new V.Bb("ui-template-wrong-syntax",this);return this.text?this._renderText(o):this._renderElement(o)}_renderElement(o){let b=o.node;return b||(b=o.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(o),this._renderElementChildren(o),this._setUpListeners(o),b}_renderText(o){let b=o.node;return b?o.revertData.text=b.textContent:b=o.node=document.createTextNode(""),ae(this.text)?this._bindToObservable({schema:this.text,updater:z(b),data:o}):b.textContent=this.text.join(""),b}_renderAttributes(o){if(!this.attributes)return;const b=o.node,F=o.revertData;for(const le in this.attributes){const Me=b.getAttribute(le),Fe=this.attributes[le];F&&(F.attributes[le]=Me);const it=dt(Fe)?Fe[0].ns:null;if(ae(Fe)){const Mt=dt(Fe)?Fe[0].value:Fe;F&&vt(le)&&Mt.unshift(Me),this._bindToObservable({schema:Mt,updater:f(b,le,it),data:o})}else if(le=="style"&&typeof Fe[0]!="string")this._renderStyleAttribute(Fe[0],o);else{F&&Me&&vt(le)&&Fe.unshift(Me);const Mt=Fe.map(fi=>fi&&fi.value||fi).reduce((fi,zi)=>fi.concat(zi),[]).reduce(Se,"");De(Mt)||b.setAttributeNS(it,le,Mt)}}}_renderStyleAttribute(o,b){const F=b.node;for(const le in o){const Me=o[le];ae(Me)?this._bindToObservable({schema:[Me],updater:j(F,le),data:b}):F.style[le]=Me}}_renderElementChildren(o){const b=o.node,F=o.intoFragment?document.createDocumentFragment():b,le=o.isApplying;let Me=0;for(const Fe of this.children)if(ut(Fe)){if(!le){Fe.setParent(b);for(const it of Fe)F.appendChild(it.element)}}else if(mt(Fe))le||(Fe.isRendered||Fe.render(),F.appendChild(Fe.element));else if((0,V.UG)(Fe))F.appendChild(Fe);else if(le){const it={children:[],bindings:[],attributes:{}};o.revertData.children.push(it),Fe._renderNode({intoFragment:!1,node:F.childNodes[Me++],isApplying:!0,revertData:it})}else F.appendChild(Fe.render());o.intoFragment&&b.appendChild(F)}_setUpListeners(o){if(this.eventListeners)for(const b in this.eventListeners){const F=this.eventListeners[b].map(le=>{const[Me,Fe]=b.split("@");return le.activateDomEventListener(Me,Fe,o)});o.revertData&&o.revertData.bindings.push(F)}}_bindToObservable({schema:o,updater:b,data:F}){const le=F.revertData;$(o,b,F);const Me=o.filter(Fe=>!De(Fe)).filter(Fe=>Fe.observable).map(Fe=>Fe.activateAttributeListener(o,b,F));le&&le.bindings.push(Me)}_revertTemplateFromNode(o,b){for(const le of b.bindings)for(const Me of le)Me();if(b.text)return void(o.textContent=b.text);const F=o;for(const le in b.attributes){const Me=b.attributes[le];Me===null?F.removeAttribute(le):F.setAttribute(le,Me)}for(let le=0;le<b.children.length;++le)this._revertTemplateFromNode(F.childNodes[le],b.children[le])}}class A{constructor(o){this.attribute=o.attribute,this.observable=o.observable,this.emitter=o.emitter,this.callback=o.callback}getValue(o){const b=this.observable[this.attribute];return this.callback?this.callback(b,o):b}activateAttributeListener(o,b,F){const le=()=>$(o,b,F);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,le),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,le)}}}class T extends A{constructor(o){super(o),this.eventNameOrFunction=o.eventNameOrFunction}activateDomEventListener(o,b,F){const le=(Me,Fe)=>{b&&!Fe.target.matches(b)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(Fe):this.observable.fire(this.eventNameOrFunction,Fe))};return this.emitter.listenTo(F.node,o,le),()=>{this.emitter.stopListening(F.node,o,le)}}}class S extends A{constructor(o){super(o),this.valueIfTrue=o.valueIfTrue}getValue(o){return!De(super.getValue(o))&&(this.valueIfTrue||!0)}}function ae(U){return!!U&&(U.value&&(U=U.value),Array.isArray(U)?U.some(ae):U instanceof A)}function $(U,o,{node:b}){const F=function(Me,Fe){return Me.map(it=>it instanceof A?it.getValue(Fe):it)}(U,b);let le;le=U.length==1&&U[0]instanceof S?F[0]:F.reduce(Se,""),De(le)?o.remove():o.set(le)}function z(U){return{set(o){U.textContent=o},remove(){U.textContent=""}}}function f(U,o,b){return{set(F){U.setAttributeNS(b,o,F)},remove(){U.removeAttributeNS(b,o)}}}function j(U,o){return{set(b){U.style[o]=b},remove(){U.style[o]=null}}}function Z(U){return(0,_.Z)(U,o=>{if(o&&(o instanceof A||lt(o)||mt(o)||ut(o)))return o})}function D(U){if(typeof U=="string"?U=function(o){return{text:[o]}}(U):U.text&&function(o){o.text=(0,V.qo)(o.text)}(U),U.on&&(U.eventListeners=function(o){for(const b in o)oe(o,b);return o}(U.on),delete U.on),!U.text){U.attributes&&function(b){for(const F in b)b[F].value&&(b[F].value=(0,V.qo)(b[F].value)),oe(b,F)}(U.attributes);const o=[];if(U.children)if(ut(U.children))o.push(U.children);else for(const b of U.children)lt(b)||mt(b)||(0,V.UG)(b)?o.push(b):o.push(new v(b));U.children=o}return U}function oe(U,o){U[o]=(0,V.qo)(U[o])}function Se(U,o){return De(o)?U:De(U)?o:`${U} ${o}`}function je(U,o){for(const b in o)U[b]?U[b].push(...o[b]):U[b]=o[b]}function Ie(U,o){if(o.attributes&&(U.attributes||(U.attributes={}),je(U.attributes,o.attributes)),o.eventListeners&&(U.eventListeners||(U.eventListeners={}),je(U.eventListeners,o.eventListeners)),o.text&&U.text.push(...o.text),o.children&&o.children.length){if(U.children.length!=o.children.length)throw new V.Bb("ui-template-extend-children-mismatch",U);let b=0;for(const F of o.children)Ie(U.children[b++],F)}}function De(U){return!U&&U!==0}function mt(U){return U instanceof u}function lt(U){return U instanceof v}function ut(U){return U instanceof q}function dt(U){return(0,p.Z)(U[0])&&U[0].ns}function vt(U){return U=="class"||U=="style"}class bt extends q{constructor(o,b=[]){super(b),this.locale=o}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new v({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let o=document.querySelector(".ck-body-wrapper");o||(o=(0,V.az)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(o)),o.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const o=document.querySelector(".ck-body-wrapper");o&&o.childElementCount==0&&o.remove()}}var Qe=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/icon/icon.css"),ft={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Qe.Z,ft),Qe.Z.locals;const Ve=class extends u{constructor(){super();const U=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",U.if("isVisible","ck-hidden",o=>!o),"ck-reset_all-excluded",U.if("isColorInherited","ck-icon_inherit-color")],viewBox:U.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const U=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=U.getAttribute("viewBox");o&&(this.viewBox=o);for(const{name:b,value:F}of Array.from(U.attributes))Ve.presentationalAttributeNames.includes(b)&&this.element.setAttribute(b,F);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;U.childNodes.length>0;)this.element.appendChild(U.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(U=>{U.style.fill=this.fillColor})}};let Te=Ve;Te.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class Q extends u{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const o=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("style"),id:o.to("id")},children:[{text:o.to("text")}]})}}var xe=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/button.css"),Oe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(xe.Z,Oe),xe.Z.locals;class Je extends u{constructor(o,b=new Q){super(o),this._focusDelayed=null;const F=this.bindTemplate,le=(0,V.hQ)();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${le}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(b),this.iconView=new Te,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const Me={tag:"button",attributes:{class:["ck","ck-button",F.to("class"),F.if("isEnabled","ck-disabled",Fe=>!Fe),F.if("isVisible","ck-hidden",Fe=>!Fe),F.to("isOn",Fe=>Fe?"ck-on":"ck-off"),F.if("withText","ck-button_with-text"),F.if("withKeystroke","ck-button_with-keystroke")],role:F.to("role"),type:F.to("type",Fe=>Fe||"button"),tabindex:F.to("tabindex"),"aria-label":F.to("ariaLabel"),"aria-labelledby":F.to("ariaLabelledBy"),"aria-disabled":F.if("isEnabled",!0,Fe=>!Fe),"aria-pressed":F.to("isOn",Fe=>!!this.isToggleable&&String(!!Fe)),"data-cke-tooltip-text":F.to("_tooltipString"),"data-cke-tooltip-position":F.to("tooltipPosition")},children:this.children,on:{click:F.to(Fe=>{this.isEnabled?this.fire("execute"):Fe.preventDefault()})}};V.OB.isSafari&&(this._focusDelayed||(this._focusDelayed=(0,V.gw)(()=>this.focus(),0)),Me.on.mousedown=F.to(()=>{this._focusDelayed()}),Me.on.mouseup=F.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(Me)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(o){return o.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),o}_createKeystrokeView(){const o=new u;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",b=>(0,V.XU)(b))}]}),o}_getTooltipString(o,b,F){return o?typeof o=="string"?o:(F&&(F=(0,V.XU)(F)),o instanceof Function?o(b,F):`${b}${F?` (${F})`:""}`):""}}var $e=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/button/switchbutton.css"),tt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()($e.Z,tt),$e.Z.locals;class st extends Je{constructor(o){super(o),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const o=new u;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),o}}function Pt(U,o){const b=U.t,F={Black:b("Black"),"Dim grey":b("Dim grey"),Grey:b("Grey"),"Light grey":b("Light grey"),White:b("White"),Red:b("Red"),Orange:b("Orange"),Yellow:b("Yellow"),"Light green":b("Light green"),Green:b("Green"),Aquamarine:b("Aquamarine"),Turquoise:b("Turquoise"),"Light blue":b("Light blue"),Blue:b("Blue"),Purple:b("Purple")};return o.map(le=>{const Me=F[le.label];return Me&&Me!=le.label&&(le.label=Me),le})}function Ft(U){return U.map(Gt).filter(o=>!!o)}function Gt(U){return typeof U=="string"?{model:U,label:U,hasBorder:!1,view:{name:"span",styles:{color:U}}}:{model:U.color,label:U.label||U.color,hasBorder:U.hasBorder!==void 0&&U.hasBorder,view:{name:"span",styles:{color:`${U.color}`}}}}class ui extends Je{constructor(o){super(o);const b=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:b.to("color")},class:["ck","ck-color-grid__tile",b.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var Vt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorgrid/colorgrid.css"),ti={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Vt.Z,ti),Vt.Z.locals;class hi extends u{constructor(o,b){super(o);const F=b&&b.colorDefinitions?b.colorDefinitions:[];this.columns=b&&b.columns?b.columns:5;const le={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this.items.on("add",(Me,Fe)=>{Fe.isOn=Fe.color===this.selectedColor}),F.forEach(Me=>{const Fe=new ui;Fe.set({color:Me.color,label:Me.label,tooltip:!0,hasBorder:Me.options.hasBorder}),Fe.on("execute",()=>{this.fire("execute",{value:Me.color,hasBorder:Me.options.hasBorder,label:Me.label})}),this.items.add(Fe)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:le}}),this.on("change:selectedColor",(Me,Fe,it)=>{for(const Mt of this.items)Mt.isOn=Mt.color===it})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const o of this.items)this.focusTracker.add(o.element);this.items.on("add",(o,b)=>{this.focusTracker.add(b.element)}),this.items.on("remove",(o,b)=>{this.focusTracker.remove(b.element)}),this.keystrokes.listenTo(this.element),h({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var Ci=l("./node_modules/color-name/index.js");const Oi=function(U){var o,b,F=[],le=1;if(typeof U=="string")if(Ci[U])F=Ci[U].slice(),b="rgb";else if(U==="transparent")le=0,b="rgb",F=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(U)){var Me=U.slice(1);le=1,(Mt=Me.length)<=4?(F=[parseInt(Me[0]+Me[0],16),parseInt(Me[1]+Me[1],16),parseInt(Me[2]+Me[2],16)],Mt===4&&(le=parseInt(Me[3]+Me[3],16)/255)):(F=[parseInt(Me[0]+Me[1],16),parseInt(Me[2]+Me[3],16),parseInt(Me[4]+Me[5],16)],Mt===8&&(le=parseInt(Me[6]+Me[7],16)/255)),F[0]||(F[0]=0),F[1]||(F[1]=0),F[2]||(F[2]=0),b="rgb"}else if(o=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(U)){var Fe=o[1],it=Fe==="rgb";b=Me=Fe.replace(/a$/,"");var Mt=Me==="cmyk"?4:Me==="gray"?1:3;F=o[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(fi,zi){if(/%$/.test(fi))return zi===Mt?parseFloat(fi)/100:Me==="rgb"?255*parseFloat(fi)/100:parseFloat(fi);if(Me[zi]==="h"){if(/deg$/.test(fi))return parseFloat(fi);if(Di[fi]!==void 0)return Di[fi]}return parseFloat(fi)}),Fe===Me&&F.push(1),le=it||F[Mt]===void 0?1:F[Mt],F=F.slice(0,Mt)}else U.length>10&&/[0-9](?:\s|\/)/.test(U)&&(F=U.match(/([0-9]+)/g).map(function(fi){return parseFloat(fi)}),b=U.match(/([a-z])/gi).join("").toLowerCase());else isNaN(U)?Array.isArray(U)||U.length?(F=[U[0],U[1],U[2]],b="rgb",le=U.length===4?U[3]:1):U instanceof Object&&(U.r!=null||U.red!=null||U.R!=null?(b="rgb",F=[U.r||U.red||U.R||0,U.g||U.green||U.G||0,U.b||U.blue||U.B||0]):(b="hsl",F=[U.h||U.hue||U.H||0,U.s||U.saturation||U.S||0,U.l||U.lightness||U.L||U.b||U.brightness]),le=U.a||U.alpha||U.opacity||1,U.opacity!=null&&(le/=100)):(b="rgb",F=[U>>>16,(65280&U)>>>8,255&U]);return{space:b,values:F,alpha:le}};var Di={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},Vi=l("./node_modules/color-convert/index.js");function Pi(U,o){if(!U)return"";const b=Zi(U);if(!b)return"";if(b.space===o)return U;if(F=b,!Object.keys(Vi).includes(F.space))return"";var F;const le=Vi[b.space][o];return le?function(Me,Fe){switch(Fe){case"hex":return`#${Me}`;case"rgb":return`rgb( ${Me[0]}, ${Me[1]}, ${Me[2]} )`;case"hsl":return`hsl( ${Me[0]}, ${Me[1]}%, ${Me[2]}% )`;case"hwb":return`hwb( ${Me[0]}, ${Me[1]}, ${Me[2]} )`;case"lab":return`lab( ${Me[0]}% ${Me[1]} ${Me[2]} )`;case"lch":return`lch( ${Me[0]}% ${Me[1]} ${Me[2]} )`;default:return""}}(le(b.space==="hex"?b.hexValue:b.values),o):""}function Zi(U){if(U.startsWith("#")){const b=Oi(U);return{space:"hex",values:b.values,hexValue:U,alpha:b.alpha}}const o=Oi(U);return o.space?o:null}var at=l("./node_modules/lodash-es/debounce.js"),ue=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/label/label.css"),ye={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(ue.Z,ye),ue.Z.locals;class Le extends u{constructor(o){super(o),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${(0,V.hQ)()}`;const b=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:b.to("for")},children:[{text:b.to("text")}]})}}var Ge=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css"),ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Ge.Z,ot),Ge.Z.locals;class gt extends u{constructor(o,b){super(o);const F=`ck-labeled-field-view-${(0,V.hQ)()}`,le=`ck-labeled-field-view-status-${(0,V.hQ)()}`;this.fieldView=b(this,F,le),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(F),this.statusView=this._createStatusView(le),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(Fe,it)=>Fe||it);const Me=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",Me.to("class"),Me.if("isEnabled","ck-disabled",Fe=>!Fe),Me.if("isEmpty","ck-labeled-field-view_empty"),Me.if("isFocused","ck-labeled-field-view_focused"),Me.if("placeholder","ck-labeled-field-view_placeholder"),Me.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(o){const b=new Le(this.locale);return b.for=o,b.bind("text").to(this,"label"),b}_createStatusView(o){const b=new u(this.locale),F=this.bindTemplate;return b.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",F.if("errorText","ck-labeled-field-view__status_error"),F.if("_statusText","ck-hidden",le=>!le)],id:o,role:F.if("errorText","alert")},children:[{text:F.to("_statusText")}]}),b}focus(o){this.fieldView.focus(o)}}class Lt extends u{constructor(o){super(o),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new V.Rh,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const b=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",b.if("isFocused","ck-input_focused"),b.if("isEmpty","ck-input-text_empty"),b.if("hasError","ck-error")],id:b.to("id"),placeholder:b.to("placeholder"),readonly:b.to("isReadOnly"),"aria-invalid":b.if("hasError",!0),"aria-describedby":b.to("ariaDescribedById")},on:{input:b.to((...F)=>{this.fire("input",...F),this._updateIsEmpty()}),change:b.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(o,b,F)=>{this._setDomElementValue(F),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(o){this.element.value=o||o===0?o:""}}var Ot=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/input/input.css"),Ut={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Ot.Z,Ut),Ot.Z.locals;class oi extends Lt{constructor(o){super(o),this.set("inputMode","text");const b=this.bindTemplate;this.extendTemplate({attributes:{inputmode:b.to("inputMode")}})}}class ri extends oi{constructor(o){super(o),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class wi extends oi{constructor(o,{min:b,max:F,step:le}={}){super(o);const Me=this.bindTemplate;this.set("min",b),this.set("max",F),this.set("step",le),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:Me.to("min"),max:Me.to("max"),step:Me.to("step")}})}}var Ii=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/textarea/textarea.css"),Li={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Ii.Z,Li),Ii.Z.locals;class yi extends Lt{constructor(o){super(o);const b=(0,V.nn)("px");this.set("minRows",2),this.set("maxRows",5),this.set("_height",null),this.set("resize","none"),this.on("change:minRows",this._validateMinMaxRows.bind(this)),this.on("change:maxRows",this._validateMinMaxRows.bind(this));const F=this.bindTemplate;this.template.tag="textarea",this.extendTemplate({attributes:{class:["ck-textarea"],style:{height:F.to("_height",le=>le?b(le):null),resize:F.to("resize")},rows:F.to("minRows")}})}render(){super.render(),this.on("input",()=>{this._updateAutoGrowHeight(!0),this.fire("update")}),this.on("change:value",()=>{V.global.window.requestAnimationFrame(()=>{(0,V.pn)(this.element)&&(this._updateAutoGrowHeight(),this.fire("update"))})})}reset(){super.reset(),this._updateAutoGrowHeight(),this.fire("update")}_updateAutoGrowHeight(o){const b=this.element,F=ji(b,"1"),le=ji(b,b.value),Me=F.ownerDocument.defaultView.getComputedStyle(F),Fe=parseFloat(Me.paddingTop)+parseFloat(Me.paddingBottom),it=(0,V.lo)(F),Mt=parseFloat(Me.lineHeight),fi=it.top+it.bottom,zi=new V.UL(F).height,bn=Math.round((le.scrollHeight-Fe)/Mt),Yr=this.maxRows*Mt+Fe+fi,yo=bn===1?zi:this.minRows*Mt+Fe+fi;this._height=Math.min(Math.max(Math.max(bn,this.minRows)*Mt+Fe+fi,yo),Yr),o&&(b.scrollTop=b.scrollHeight),F.remove(),le.remove()}_validateMinMaxRows(){if(this.minRows>this.maxRows)throw new V.Bb("ui-textarea-view-min-rows-greater-than-max-rows",{textareaView:this,minRows:this.minRows,maxRows:this.maxRows})}}function ji(U,o){const b=U.cloneNode();return b.style.position="absolute",b.style.top="-99999px",b.style.left="-99999px",b.style.height="auto",b.style.overflow="hidden",b.style.width=U.ownerDocument.defaultView.getComputedStyle(U).width,b.tabIndex=-1,b.rows=1,b.value=o,U.parentNode.insertBefore(b,U),b}class Ki extends u{constructor(o){super(o);const b=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",b.to("position",F=>`ck-dropdown__panel_${F}`),b.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:b.to(F=>{F.target.tagName.toLocaleLowerCase()!=="input"&&F.preventDefault()})}})}focus(){if(this.children.length){const o=this.children.first;typeof o.focus=="function"?o.focus():(0,V.KE)("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const o=this.children.last;typeof o.focusLast=="function"?o.focusLast():o.focus()}}}var Mi=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/dropdown.css"),tn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Mi.Z,tn),Mi.Z.locals;const Zt=class extends u{constructor(U,o,b){super(U);const F=this.bindTemplate;this.buttonView=o,this.panelView=b,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new V.VD,this.focusTracker=new V.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",F.to("class"),F.if("isEnabled","ck-disabled",le=>!le)],id:F.to("id"),"aria-describedby":F.to("ariaDescribedById")},children:[o,b]}),o.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":F.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(o,b,F)=>{if(F)if(this.panelPosition==="auto"){const le=Zt._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=le?le.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const U=(o,b)=>{this.isOpen&&(this.isOpen=!1,b())};this.keystrokes.set("arrowdown",(o,b)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,b())}),this.keystrokes.set("arrowright",(o,b)=>{this.isOpen&&b()}),this.keystrokes.set("arrowleft",U),this.keystrokes.set("esc",U)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:U,north:o,southEast:b,southWest:F,northEast:le,northWest:Me,southMiddleEast:Fe,southMiddleWest:it,northMiddleEast:Mt,northMiddleWest:fi}=Zt.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[b,F,Fe,it,U,le,Me,Mt,fi,o]:[F,b,it,Fe,U,Me,le,fi,Mt,o]}};let wn=Zt;wn.defaultPanelPositions={south:(U,o)=>({top:U.bottom,left:U.left-(o.width-U.width)/2,name:"s"}),southEast:U=>({top:U.bottom,left:U.left,name:"se"}),southWest:(U,o)=>({top:U.bottom,left:U.left-o.width+U.width,name:"sw"}),southMiddleEast:(U,o)=>({top:U.bottom,left:U.left-(o.width-U.width)/4,name:"sme"}),southMiddleWest:(U,o)=>({top:U.bottom,left:U.left-3*(o.width-U.width)/4,name:"smw"}),north:(U,o)=>({top:U.top-o.height,left:U.left-(o.width-U.width)/2,name:"n"}),northEast:(U,o)=>({top:U.top-o.height,left:U.left,name:"ne"}),northWest:(U,o)=>({top:U.top-o.height,left:U.left-o.width+U.width,name:"nw"}),northMiddleEast:(U,o)=>({top:U.top-o.height,left:U.left-(o.width-U.width)/4,name:"nme"}),northMiddleWest:(U,o)=>({top:U.top-o.height,left:U.left-3*(o.width-U.width)/4,name:"nmw"})},wn._getOptimalPosition=V.xZ;const Ne='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class H extends Je{constructor(o){super(o),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",b=>String(b))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const o=new Te;return o.content=Ne,o.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),o}}class X extends(0,V.ln)(){constructor(o){if(super(),this.focusables=o.focusables,this.focusTracker=o.focusTracker,this.keystrokeHandler=o.keystrokeHandler,this.actions=o.actions,o.actions&&o.keystrokeHandler)for(const b in o.actions){let F=o.actions[b];typeof F=="string"&&(F=[F]);for(const le of F)o.keystrokeHandler.set(le,(Me,Fe)=>{this[b](),Fe()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(se)||null}get last(){return this.focusables.filter(se).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let o=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((b,F)=>{const le=b.element===this.focusTracker.focusedElement;return le&&(o=F),le}),o)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const o=this.next;o&&this.focusables.getIndex(o)===this.current||(o===this.first?this.fire("forwardCycle"):this._focus(o,1))}focusPrevious(){const o=this.previous;o&&this.focusables.getIndex(o)===this.current||(o===this.last?this.fire("backwardCycle"):this._focus(o,-1))}_focus(o,b){o&&o.focus(b)}_getFocusableItem(o){const b=this.current,F=this.focusables.length;if(!F)return null;if(b===null)return this[o===1?"first":"last"];let le=(b+F+o)%F;do{const Me=this.focusables.get(le);if(se(Me))return Me;le=(le+F+o)%F}while(le!==b);return null}}function se(U){return!(!("focus"in U)||!(0,V.pn)(U.element))}class be extends u{constructor(o){super(o),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class ht extends u{constructor(o){super(o),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var Rt=Object.defineProperty,Yt=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,ze=(U,o,b)=>o in U?Rt(U,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):U[o]=b,nt=(U,o)=>{for(var b in o||(o={}))_t.call(o,b)&&ze(U,b,o[b]);if(Yt)for(var b of Yt(o))Ce.call(o,b)&&ze(U,b,o[b]);return U};function Ke(U){if(Array.isArray(U))return{items:U,removeItems:[]};const o={items:[],removeItems:[]};return U?nt(nt({},o),U):o}var yt=l("./packages/ckeditor5-core/src/index.ts"),si=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/toolbar.css"),ni={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(si.Z,ni),si.Z.locals;const{threeVerticalDots:ki}=yt.icons,di={alignLeft:yt.icons.alignLeft,bold:yt.icons.bold,importExport:yt.icons.importExport,paragraph:yt.icons.paragraph,plus:yt.icons.plus,text:yt.icons.text,threeVerticalDots:yt.icons.threeVerticalDots,pilcrow:yt.icons.pilcrow,dragIndicator:yt.icons.dragIndicator};class Ti extends u{constructor(o,b){super(o);const F=this.bindTemplate,le=this.t;this.options=b||{},this.set("ariaLabel",le("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Ni(o),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const Me=o.uiLanguageDirection==="rtl";this._focusCycler=new X({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[Me?"arrowright":"arrowleft","arrowup"],focusNext:[Me?"arrowleft":"arrowright","arrowdown"]}});const Fe=["ck","ck-toolbar",F.to("class"),F.if("isCompact","ck-toolbar_compact")];var it;this.options.shouldGroupWhenFull&&this.options.isFloating&&Fe.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:Fe,role:"toolbar","aria-label":F.to("ariaLabel"),style:{maxWidth:F.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(it=this,it.bindTemplate.to(Mt=>{Mt.target===it.element&&Mt.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new rn(this):new Gi(this)}render(){super.render(),this.focusTracker.add(this.element);for(const o of this.items)this.focusTracker.add(o.element);this.items.on("add",(o,b)=>{this.focusTracker.add(b.element)}),this.items.on("remove",(o,b)=>{this.focusTracker.remove(b.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(o,b,F){this.items.addMany(this._buildItemsFromConfig(o,b,F))}_buildItemsFromConfig(o,b,F){const le=Ke(o),Me=F||le.removeItems;return this._cleanItemsConfiguration(le.items,b,Me).map(Fe=>(0,p.Z)(Fe)?this._createNestedToolbarDropdown(Fe,b,Me):Fe==="|"?new be:Fe==="-"?new ht:b.create(Fe)).filter(Fe=>!!Fe)}_cleanItemsConfiguration(o,b,F){const le=o.filter((Me,Fe,it)=>Me==="|"||F.indexOf(Me)===-1&&(Me==="-"?!this.options.shouldGroupWhenFull||((0,V.KE)("toolbarview-line-break-ignored-when-grouping-items",it),!1):!(!(0,p.Z)(Me)&&!b.has(Me))||((0,V.KE)("toolbarview-item-unavailable",{item:Me}),!1)));return this._cleanSeparatorsAndLineBreaks(le)}_cleanSeparatorsAndLineBreaks(o){const b=Fe=>Fe!=="-"&&Fe!=="|",F=o.length,le=o.findIndex(b);if(le===-1)return[];const Me=F-o.slice().reverse().findIndex(b);return o.slice(le,Me).filter((Fe,it,Mt)=>b(Fe)?!0:!(it>0&&Mt[it-1]===Fe))}_createNestedToolbarDropdown(o,b,F){let{label:le,icon:Me,items:Fe,tooltip:it=!0,withText:Mt=!1}=o;if(Fe=this._cleanItemsConfiguration(Fe,b,F),!Fe.length)return null;const fi=Ae(this.locale);return le||(0,V.KE)("toolbarview-nested-toolbar-dropdown-missing-label",o),fi.class="ck-toolbar__nested-toolbar-dropdown",fi.buttonView.set({label:le,tooltip:it,withText:!!Mt}),Me!==!1?fi.buttonView.icon=di[Me]||Me||ki:fi.buttonView.withText=!0,Ue(fi,()=>fi.toolbarView._buildItemsFromConfig(Fe,b,F)),fi}}class Ni extends u{constructor(o){super(o),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Gi{constructor(o){const b=o.bindTemplate;o.set("isVertical",!1),o.itemsView.children.bindTo(o.items).using(F=>F),o.focusables.bindTo(o.items).using(F=>F),o.extendTemplate({attributes:{class:[b.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class rn{constructor(o){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=o,this.viewChildren=o.children,this.viewFocusables=o.focusables,this.viewItemsView=o.itemsView,this.viewFocusTracker=o.focusTracker,this.viewLocale=o.locale,this.ungroupedItems=o.createCollection(),this.groupedItems=o.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),o.itemsView.children.bindTo(this.ungroupedItems).using(b=>b),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),o.children.on("change",this._updateFocusCycleableItems.bind(this)),o.items.on("change",(b,F)=>{const le=F.index,Me=Array.from(F.added);for(const Fe of F.removed)le>=this.ungroupedItems.length?this.groupedItems.remove(Fe):this.ungroupedItems.remove(Fe);for(let Fe=le;Fe<le+Me.length;Fe++){const it=Me[Fe-le];Fe>this.ungroupedItems.length?this.groupedItems.add(it,Fe-this.ungroupedItems.length):this.ungroupedItems.add(it,Fe)}this._updateGrouping()}),o.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(o){this.viewElement=o.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(o)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!(0,V.pn)(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const o=this.groupedItems.length;let b;for(;this._areItemsOverflowing;)this._groupLastItem(),b=!0;if(!b&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==o&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const o=this.viewElement,b=this.viewLocale.uiLanguageDirection,F=new V.UL(o.lastChild),le=new V.UL(o);if(!this.cachedPadding){const Me=V.global.window.getComputedStyle(o),Fe=b==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(Me[Fe])}return b==="ltr"?F.right>le.right-this.cachedPadding:F.left<le.left+this.cachedPadding}_enableGroupingOnResize(){let o;this.resizeObserver=new V.do(this.viewElement,b=>{o&&o===b.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),o=b.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(o){o.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new be),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const o=this.viewLocale,b=o.t,F=Ae(o);return F.class="ck-toolbar__grouped-dropdown",F.panelPosition=o.uiLanguageDirection==="ltr"?"sw":"se",Ue(F,this.groupedItems),F.buttonView.set({label:b("Show more items"),tooltip:!0,tooltipPosition:o.uiLanguageDirection==="rtl"?"se":"sw",icon:ki}),F}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(o=>{this.viewFocusables.add(o)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class $i extends u{constructor(o){super(o);const b=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",b.if("isVisible","ck-hidden",F=>!F)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class hn extends u{constructor(o){super(o),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class kn extends u{constructor(o,b=new Le){super(o);const F=this.bindTemplate,le=new En(o);this.set({label:"",isVisible:!0}),this.labelView=b,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,le]),le.set({role:"group",ariaLabelledBy:b.id}),le.focusTracker.destroy(),le.keystrokes.destroy(),this.items=le.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",F.if("isVisible","ck-hidden",Me=>!Me)]},children:this.children})}focus(){if(this.items){const o=this.items.find(b=>!(b instanceof hn));o&&o.focus()}}}var qn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/list/list.css"),on={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(qn.Z,on),qn.Z.locals;class En extends u{constructor(o){super(o),this._listItemGroupToChangeListeners=new WeakMap;const b=this.bindTemplate;this.focusables=new q,this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this._focusCycler=new X({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:b.to("role"),"aria-label":b.to("ariaLabel"),"aria-labelledby":b.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const o of this.items)o instanceof kn?this._registerFocusableItemsGroup(o):o instanceof $i&&this._registerFocusableListItem(o);this.items.on("change",(o,b)=>{for(const F of b.removed)F instanceof kn?this._deregisterFocusableItemsGroup(F):this._deregisterFocusableListItem(F);for(const F of Array.from(b.added).reverse())F instanceof kn?this._registerFocusableItemsGroup(F,b.index):this._registerFocusableListItem(F,b.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(o,b){this.focusTracker.add(o.element),this.focusables.add(o,b)}_deregisterFocusableListItem(o){this.focusTracker.remove(o.element),this.focusables.remove(o)}_getOnGroupItemsChangeCallback(o){return(b,F)=>{for(const le of F.removed)this._deregisterFocusableListItem(le);for(const le of Array.from(F.added).reverse())this._registerFocusableListItem(le,this.items.getIndex(o)+F.index)}}_registerFocusableItemsGroup(o,b){Array.from(o.items).forEach((le,Me)=>{const Fe=b!==void 0?b+Me:void 0;this._registerFocusableListItem(le,Fe)});const F=this._getOnGroupItemsChangeCallback(o);this._listItemGroupToChangeListeners.set(o,F),o.items.on("change",F)}_deregisterFocusableItemsGroup(o){for(const b of o.items)this._deregisterFocusableListItem(b);o.items.off("change",this._listItemGroupToChangeListeners.get(o)),this._listItemGroupToChangeListeners.delete(o)}}var In=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/splitbutton.css"),Yn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(In.Z,Yn),In.Z.locals;class ur extends u{constructor(o,b){super(o);const F=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(b),this.arrowView=this._createArrowView(),this.keystrokes=new V.VD,this.focusTracker=new V.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",F.to("class"),F.if("isVisible","ck-hidden",le=>!le),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(o,b)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),b())}),this.keystrokes.set("arrowleft",(o,b)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),b())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(o){const b=o||new Je;return o||b.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),b.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),b.delegate("execute").to(this),b}_createArrowView(){const o=new Je,b=o.bindTemplate;return o.icon=Ne,o.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":b.to("isOn"),"aria-haspopup":!0,"aria-expanded":b.to("isOn",F=>String(F))}}),o.bind("isEnabled").to(this),o.bind("label").to(this),o.bind("tooltip").to(this),o.delegate("execute").to(this,"open"),o}}var rr=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css"),or={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(rr.Z,or),rr.Z.locals;var Ht=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/dropdown/listdropdown.css"),K={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Ht.Z,K),Ht.Z.locals;function Ae(U,o=H){const b=typeof o=="function"?new o(U):o,F=new Ki(U),le=new wn(U,b,F);return b.bind("isEnabled").to(le),b instanceof ur?b.arrowView.bind("isOn").to(le,"isOpen"):b.bind("isOn").to(le,"isOpen"),function(Me){(function(Fe){Fe.on("render",()=>{c({emitter:Fe,activator:()=>Fe.isOpen,callback:()=>{Fe.isOpen=!1},contextElements:()=>[Fe.element,...Fe.focusTracker._elements]})})})(Me),function(Fe){Fe.on("execute",it=>{it.source instanceof st||(Fe.isOpen=!1)})}(Me),function(Fe){Fe.focusTracker.on("change:isFocused",(it,Mt,fi)=>{Fe.isOpen&&!fi&&(Fe.isOpen=!1)})}(Me),function(Fe){Fe.keystrokes.set("arrowdown",(it,Mt)=>{Fe.isOpen&&(Fe.panelView.focus(),Mt())}),Fe.keystrokes.set("arrowup",(it,Mt)=>{Fe.isOpen&&(Fe.panelView.focusLast(),Mt())})}(Me),function(Fe){Fe.on("change:isOpen",(it,Mt,fi)=>{if(fi)return;const zi=Fe.panelView.element;zi&&zi.contains(V.global.document.activeElement)&&Fe.buttonView.focus()})}(Me),function(Fe){Fe.on("change:isOpen",(it,Mt,fi)=>{fi&&Fe.panelView.focus()},{priority:"low"})}(Me)}(le),le}function Ue(U,o,b={}){U.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),U.isOpen?Be(U,o,b):U.once("change:isOpen",()=>Be(U,o,b),{priority:"highest"}),b.enableActiveItemFocusOnDropdownOpen&&Et(U,()=>U.toolbarView.items.find(F=>F.isOn))}function Be(U,o,b){const F=U.locale,le=F.t,Me=U.toolbarView=new Ti(F),Fe=typeof o=="function"?o():o;Me.ariaLabel=b.ariaLabel||le("Dropdown toolbar"),b.maxWidth&&(Me.maxWidth=b.maxWidth),b.class&&(Me.class=b.class),b.isCompact&&(Me.isCompact=b.isCompact),b.isVertical&&(Me.isVertical=!0),Fe instanceof q?Me.items.bindTo(Fe).using(it=>it):Me.items.addMany(Fe),U.panelView.children.add(Me),Me.items.delegate("execute").to(U)}function et(U,o,b={}){U.isOpen?Xe(U,o,b):U.once("change:isOpen",()=>Xe(U,o,b),{priority:"highest"}),Et(U,()=>U.listView.items.find(F=>F instanceof $i&&F.children.first.isOn))}function Xe(U,o,b){const F=U.locale,le=U.listView=new En(F),Me=typeof o=="function"?o():o;le.ariaLabel=b.ariaLabel,le.role=b.role,kt(U,le.items,Me,F),U.panelView.children.add(le),le.items.delegate("execute").to(U)}function Et(U,o){U.on("change:isOpen",()=>{if(!U.isOpen)return;const b=o();b&&(typeof b.focus=="function"?b.focus():(0,V.KE)("ui-dropdown-focus-child-on-open-child-missing-focus",{view:b}))},{priority:V.tA.low-10})}function kt(U,o,b,F){o.bindTo(b).using(le=>{if(le.type==="separator")return new hn(F);if(le.type==="group"){const Me=new kn(F);return Me.set({label:le.label}),kt(U,Me.items,le.items,F),Me.items.delegate("execute").to(U),Me}if(le.type==="button"||le.type==="switchbutton"){const Me=new $i(F);let Fe;return le.type==="button"?(Fe=new Je(F),Fe.extendTemplate({attributes:{"aria-checked":Fe.bindTemplate.to("isOn")}})):Fe=new st(F),Fe.bind(...Object.keys(le.model)).to(le.model),Fe.delegate("execute").to(Me),Me.children.add(Fe),Me}return null})}const At=(U,o,b)=>{const F=new ri(U.locale);return F.set({id:o,ariaDescribedById:b}),F.bind("isReadOnly").to(U,"isEnabled",le=>!le),F.bind("hasError").to(U,"errorText",le=>!!le),F.on("input",()=>{U.errorText=null}),U.bind("isEmpty","isFocused","placeholder").to(F),F},Dt=(U,o,b)=>{const F=new wi(U.locale);return F.set({id:o,ariaDescribedById:b,inputMode:"numeric"}),F.bind("isReadOnly").to(U,"isEnabled",le=>!le),F.bind("hasError").to(U,"errorText",le=>!!le),F.on("input",()=>{U.errorText=null}),U.bind("isEmpty","isFocused","placeholder").to(F),F},Wt=(U,o,b)=>{const F=new yi(U.locale);return F.set({id:o,ariaDescribedById:b}),F.bind("isReadOnly").to(U,"isEnabled",le=>!le),F.bind("hasError").to(U,"errorText",le=>!!le),F.on("input",()=>{U.errorText=null}),U.bind("isEmpty","isFocused","placeholder").to(F),F},mi=(U,o,b)=>{const F=Ae(U.locale);return F.set({id:o,ariaDescribedById:b}),F.bind("isEnabled").to(U),F},ai=(U,o=0,b=1)=>U>b?b:U<o?o:U,gi=(U,o=0,b=Math.pow(10,o))=>Math.round(b*U)/b,Ri=U=>(U[0]==="#"&&(U=U.substring(1)),U.length<6?{r:parseInt(U[0]+U[0],16),g:parseInt(U[1]+U[1],16),b:parseInt(U[2]+U[2],16),a:U.length===4?gi(parseInt(U[3]+U[3],16)/255,2):1}:{r:parseInt(U.substring(0,2),16),g:parseInt(U.substring(2,4),16),b:parseInt(U.substring(4,6),16),a:U.length===8?gi(parseInt(U.substring(6,8),16)/255,2):1}),Qi=({h:U,s:o,v:b,a:F})=>{const le=(200-o)*b/100;return{h:gi(U),s:gi(le>0&&le<200?o*b/100/(le<=100?le:200-le)*100:0),l:gi(le/2),a:gi(F,2)}},Pn=U=>{const{h:o,s:b,l:F}=Qi(U);return`hsl(${o}, ${b}%, ${F}%)`},Mn=({h:U,s:o,v:b,a:F})=>{U=U/360*6,o/=100,b/=100;const le=Math.floor(U),Me=b*(1-o),Fe=b*(1-(U-le)*o),it=b*(1-(1-U+le)*o),Mt=le%6;return{r:gi(255*[b,Fe,Me,Me,it,b][Mt]),g:gi(255*[it,b,b,Fe,Me,Me][Mt]),b:gi(255*[Me,Me,it,b,b,Fe][Mt]),a:gi(F,2)}},Qn=U=>{const o=U.toString(16);return o.length<2?"0"+o:o},Kn=({r:U,g:o,b,a:F})=>{const le=F<1?Qn(gi(255*F)):"";return"#"+Qn(U)+Qn(o)+Qn(b)+le},Rn=({r:U,g:o,b,a:F})=>{const le=Math.max(U,o,b),Me=le-Math.min(U,o,b),Fe=Me?le===U?(o-b)/Me:le===o?2+(b-U)/Me:4+(U-o)/Me:0;return{h:gi(60*(Fe<0?Fe+6:Fe)),s:gi(le?Me/le*100:0),v:gi(le/255*100),a:F}},hr=(U,o)=>{if(U===o)return!0;for(const b in U)if(U[b]!==o[b])return!1;return!0},yr={},Nn=U=>{let o=yr[U];return o||(o=document.createElement("template"),o.innerHTML=U,yr[U]=o),o},sr=(U,o,b)=>{U.dispatchEvent(new CustomEvent(o,{bubbles:!0,detail:b}))};let zn=!1;const _e=U=>"touches"in U,k=(U,o)=>{const b=_e(o)?o.touches[0]:o,F=U.el.getBoundingClientRect();sr(U.el,"move",U.getMove({x:ai((b.pageX-(F.left+window.pageXOffset))/F.width),y:ai((b.pageY-(F.top+window.pageYOffset))/F.height)}))};class d{constructor(o,b,F,le){const Me=Nn(`<div role="slider" tabindex="0" part="${b}" ${F}><div part="${b}-pointer"></div></div>`);o.appendChild(Me.content.cloneNode(!0));const Fe=o.querySelector(`[part=${b}]`);Fe.addEventListener("mousedown",this),Fe.addEventListener("touchstart",this),Fe.addEventListener("keydown",this),this.el=Fe,this.xy=le,this.nodes=[Fe.firstChild,Fe]}set dragging(o){const b=o?document.addEventListener:document.removeEventListener;b(zn?"touchmove":"mousemove",this),b(zn?"touchend":"mouseup",this)}handleEvent(o){switch(o.type){case"mousedown":case"touchstart":if(o.preventDefault(),!(b=>!(zn&&!_e(b)||(zn||(zn=_e(b)),0)))(o)||!zn&&o.button!=0)return;this.el.focus(),k(this,o),this.dragging=!0;break;case"mousemove":case"touchmove":o.preventDefault(),k(this,o);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((b,F)=>{const le=F.keyCode;le>40||b.xy&&le<37||le<33||(F.preventDefault(),sr(b.el,"move",b.getMove({x:le===39?.01:le===37?-.01:le===34?.05:le===33?-.05:le===35?1:le===36?-1:0,y:le===40?.01:le===38?-.01:0},!0)))})(this,o)}}style(o){o.forEach((b,F)=>{for(const le in b)this.nodes[F].style.setProperty(le,b[le])})}}class I extends d{constructor(o){super(o,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:o}){this.h=o,this.style([{left:o/360*100+"%",color:Pn({h:o,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${gi(o)}`)}getMove(o,b){return{h:b?ai(this.h+360*o.x,0,360):360*o.x}}}class N extends d{constructor(o){super(o,"saturation",'aria-label="Color"',!0)}update(o){this.hsva=o,this.style([{top:100-o.v+"%",left:`${o.s}%`,color:Pn(o)},{"background-color":Pn({h:o.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${gi(o.s)}%, Brightness ${gi(o.v)}%`)}getMove(o,b){return{s:b?ai(this.hsva.s+100*o.x,0,100):100*o.x,v:b?ai(this.hsva.v-100*o.y,0,100):Math.round(100-100*o.y)}}}const J=Symbol("same"),ce=Symbol("color"),pe=Symbol("hsva"),he=Symbol("update"),ve=Symbol("parts"),Re=Symbol("css"),We=Symbol("sliders");class Ye extends HTMLElement{static get observedAttributes(){return["color"]}get[Re](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[We](){return[N,I]}get color(){return this[ce]}set color(o){if(!this[J](o)){const b=this.colorModel.toHsva(o);this[he](b),this[ce]=o}}constructor(){super();const o=Nn(`<style>${this[Re].join("")}</style>`),b=this.attachShadow({mode:"open"});b.appendChild(o.content.cloneNode(!0)),b.addEventListener("move",this),this[ve]=this[We].map(F=>new F(b))}connectedCallback(){if(this.hasOwnProperty("color")){const o=this.color;delete this.color,this.color=o}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(o,b,F){const le=this.colorModel.fromAttr(F);this[J](le)||(this.color=le)}handleEvent(o){const b=this[pe],F={...b,...o.detail};let le;this[he](F),hr(F,b)||this[J](le=this.colorModel.fromHsva(F))||(this[ce]=le,sr(this,"color-changed",{value:le}))}[J](o){return this.color&&this.colorModel.equal(o,this.color)}[he](o){this[pe]=o,this[ve].forEach(b=>b.update(o))}}const pt={defaultColor:"#000",toHsva:U=>Rn(Ri(U)),fromHsva:({h:U,s:o,v:b})=>Kn(Mn({h:U,s:o,v:b,a:1})),equal:(U,o)=>U.toLowerCase()===o.toLowerCase()||hr(Ri(U),Ri(o)),fromAttr:U=>U};class Ct extends Ye{get colorModel(){return pt}}customElements.define("hex-color-picker",class extends Ct{});var St=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"),xt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(St.Z,xt),St.Z.locals;class ii extends u{constructor(o,b={}){super(o),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const F=this.createCollection();b.hideInput||F.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:F}),this._config=b,this._debounceColorPickerEvent=(0,at.Z)(le=>{this.set("color",le),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(le,Me,Fe)=>{le.return=Pi(Fe,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Jt(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Jt(this.color)!=Jt(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),this.picker=V.global.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const o=document.createElement("style");o.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(o)}this.picker.addEventListener("color-changed",o=>{const b=o.detail.value;this._debounceColorPickerEvent(b)})}focus(){!this._config.hideInput&&(V.OB.isGecko||V.OB.isiOS||V.OB.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const o=[...this.picker.shadowRoot.children].filter(b=>b.getAttribute("role")==="slider").map(b=>new bi(b));this.slidersView=this.createCollection(),o.forEach(b=>{this.slidersView.add(b)})}_createInputRow(){const o=new Si,b=this._createColorInput();return new Hi(this.locale,[o,b])}_createColorInput(){const o=new gt(this.locale,At),{t:b}=this.locale;return o.set({label:b("HEX"),class:"color-picker-hex-input"}),o.fieldView.bind("value").to(this,"_hexColor",F=>o.isFocused?o.fieldView.value:F.startsWith("#")?F.substring(1):F),o.fieldView.on("input",()=>{const F=o.fieldView.element.value;if(F){const le=F.trim(),Me=le.startsWith("#")?le.substring(1):le;[3,4,6,8].includes(Me.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(Me)&&this._debounceColorPickerEvent("#"+Me)}}),o}}function Jt(U){let o=function(b){if(!b)return"";const F=Zi(b);return F?F.space==="hex"?F.hexValue:Pi(b,"hex"):"#000"}(U);return o||(o="#000"),o.length===4&&(o="#"+[o[1],o[1],o[2],o[2],o[3],o[3]].join("")),o.toLowerCase()}class bi extends u{constructor(o){super(),this.element=o}focus(){this.element.focus()}}class Si extends u{constructor(o){super(o),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class Hi extends u{constructor(o,b){super(o),this.children=this.createCollection(b),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class sn extends(0,V.Re)(V.FE){constructor(o){super(o),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(o,b){return this.find(F=>F.color===o.color)?this:super.add(o,b)}hasColor(o){return!!this.find(b=>b.color===o)}}var mn=l("./packages/ckeditor5-core/theme/icons/eraser.svg");const Cn='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>';class pr extends u{constructor(o,{colors:b,columns:F,removeButtonLabel:le,documentColorsLabel:Me,documentColorsCount:Fe,colorPickerLabel:it,focusTracker:Mt,focusables:fi}){super(o);const zi=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=Mt,this.items=this.createCollection(),this.colorDefinitions=b,this.columns=F,this.documentColors=new sn,this.documentColorsCount=Fe,this._focusables=fi,this._removeButtonLabel=le,this._colorPickerLabel=it,this._documentColorsLabel=Me,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",zi.if("isVisible","ck-hidden",bn=>!bn)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(o,b){const F=o.document,le=this.documentColorsCount;this.documentColors.clear();for(const Me of F.getRoots()){const Fe=o.createRangeIn(Me);for(const it of Fe.getItems())if(it.is("$textProxy")&&it.hasAttribute(b)&&(this._addColorToDocumentColors(it.getAttribute(b)),this.documentColors.length>=le))return}}updateSelectedColors(){const o=this.documentColorsGrid,b=this.staticColorsGrid,F=this.selectedColor;b.selectedColor=F,o&&(o.selectedColor=F)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const o=v.bind(this.documentColors,this.documentColors),b=new Le(this.locale);b.text=this._documentColorsLabel,b.extendTemplate({attributes:{class:["ck","ck-color-grid__label",o.if("isEmpty","ck-hidden")]}}),this.items.add(b),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker(),this.focus()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new Je,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:Cn,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const o=new Je;return o.set({withText:!0,icon:mn.Z,label:this._removeButtonLabel}),o.class="ck-color-selector__remove-color",o.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),o.render(),o}_createStaticColorsGrid(){const o=new hi(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return o.on("execute",(b,F)=>{this.fire("execute",{value:F.value,source:"staticColorsGrid"})}),o}_createDocumentColorsGrid(){const o=v.bind(this.documentColors,this.documentColors),b=new hi(this.locale,{columns:this.columns});return b.extendTemplate({attributes:{class:o.if("isEmpty","ck-hidden")}}),b.items.bindTo(this.documentColors).using(F=>{const le=new ui;return le.set({color:F.color,hasBorder:F.options&&F.options.hasBorder}),F.label&&le.set({label:F.label,tooltip:!0}),le.on("execute",()=>{this.fire("execute",{value:F.color,source:"documentColorsGrid"})}),le}),this.documentColors.on("change:isEmpty",(F,le,Me)=>{Me&&(b.selectedColor=null)}),b}_addColorToDocumentColors(o){const b=this.colorDefinitions.find(F=>F.color===o);b?this.documentColors.add(Object.assign({},b)):this.documentColors.add({color:o,label:o,options:{hasBorder:!1}})}}var $r=l("./packages/ckeditor5-core/theme/icons/check.svg"),Dr=l("./packages/ckeditor5-core/theme/icons/cancel.svg"),Xr=Object.defineProperty,fr=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Ir=Object.prototype.propertyIsEnumerable,zr=(U,o,b)=>o in U?Xr(U,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):U[o]=b;class Fn extends u{constructor(o,{focusTracker:b,focusables:F,keystrokes:le,colorPickerViewConfig:Me}){super(o),this.items=this.createCollection(),this.focusTracker=b,this.keystrokes=le,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=F,this._colorPickerViewConfig=Me;const Fe=this.bindTemplate,{saveButtonView:it,cancelButtonView:Mt}=this._createActionButtons();this.saveButtonView=it,this.cancelButtonView=Mt,this.actionBarView=this._createActionBarView({saveButtonView:it,cancelButtonView:Mt}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",Fe.if("isVisible","ck-hidden",fi=>!fi)]},children:this.items})}render(){super.render();const o=new ii(this.locale,((b,F)=>{for(var le in F||(F={}))Jn.call(F,le)&&zr(b,le,F[le]);if(fr)for(var le of fr(F))Ir.call(F,le)&&zr(b,le,F[le]);return b})({},this._colorPickerViewConfig));this.colorPickerView=o,this.colorPickerView.render(),this.selectedColor&&(o.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(b,F,le)=>{o.color=le}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",o=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),o.stopPropagation(),o.preventDefault())})}_stopPropagationOnArrowsKeys(){const o=b=>b.stopPropagation();this.keystrokes.set("arrowright",o),this.keystrokes.set("arrowleft",o),this.keystrokes.set("arrowup",o),this.keystrokes.set("arrowdown",o)}_addColorPickersElementsToFocusTracker(){for(const b of this.colorPickerView.slidersView)this.focusTracker.add(b.element),this._focusables.add(b);const o=this.colorPickerView.hexInputRow.children.get(1);o.element&&(this.focusTracker.add(o.element),this._focusables.add(o)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:o,cancelButtonView:b}){const F=new u,le=this.createCollection();return le.add(o),le.add(b),F.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:le}),F}_createActionButtons(){const o=this.locale,b=o.t,F=new Je(o),le=new Je(o);return F.set({icon:$r.Z,class:"ck-button-save",type:"button",withText:!1,label:b("Accept")}),le.set({icon:Dr.Z,class:"ck-button-cancel",type:"button",withText:!1,label:b("Cancel")}),F.on("execute",()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),le.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:F,cancelButtonView:le}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(o,b)=>{this.fire("execute",{value:b.color,source:"colorPicker"}),this.set("selectedColor",b.color)})}}var Xn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/colorselector/colorselector.css"),Do={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Xn.Z,Do),Xn.Z.locals;class eo extends u{constructor(o,{colors:b,columns:F,removeButtonLabel:le,documentColorsLabel:Me,documentColorsCount:Fe,colorPickerLabel:it,colorPickerViewConfig:Mt}){super(o),this.items=this.createCollection(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this._focusables=new q,this._colorPickerViewConfig=Mt,this._focusCycler=new X({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new pr(o,{colors:b,columns:F,removeButtonLabel:le,documentColorsLabel:Me,documentColorsCount:Fe,colorPickerLabel:it,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new Fn(o,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:Mt}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(fi,zi,bn)=>{this.colorGridsFragmentView.set("selectedColor",bn),this.colorPickerFragmentView.set("selectedColor",bn)}),this.colorGridsFragmentView.on("change:selectedColor",(fi,zi,bn)=>{this.set("selectedColor",bn)}),this.colorPickerFragmentView.on("change:selectedColor",(fi,zi,bn)=>{this.set("selectedColor",bn)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(o,b){this.colorGridsFragmentView.updateDocumentColors(o,b)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class ho{constructor(o){this._components=new Map,this.editor=o}*names(){for(const o of this._components.values())yield o.originalName}add(o,b){this._components.set(Fr(o),{callback:b,originalName:o})}create(o){if(!this.has(o))throw new V.Bb("componentfactory-item-missing",this,{name:o});return this._components.get(Fr(o)).callback(this.editor.locale)}has(o){return this._components.has(Fr(o))}}function Fr(U){return String(U).toLowerCase()}var mo=l("./node_modules/lodash-es/isElement.js"),qr=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonpanel.css"),zo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(qr.Z,zo),qr.Z.locals;var Eo=Object.defineProperty,to=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable,go=(U,o,b)=>o in U?Eo(U,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):U[o]=b,Ji=(U,o)=>{for(var b in o||(o={}))So.call(o,b)&&go(U,b,o[b]);if(to)for(var b of to(o))Io.call(o,b)&&go(U,b,o[b]);return U};const xr=(0,V.nn)("px"),Cr=V.global.document.body,Pr={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},br=class extends u{constructor(U){super(U);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",o.to("position",b=>`ck-balloon-panel_${b}`),o.if("isVisible","ck-balloon-panel_visible"),o.if("withArrow","ck-balloon-panel_with-arrow"),o.to("class")],style:{top:o.to("top",xr),left:o.to("left",xr)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(U){this.show();const o=br.defaultPositions,b=Object.assign({},{element:this.element,positions:[o.southArrowNorth,o.southArrowNorthMiddleWest,o.southArrowNorthMiddleEast,o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouth,o.northArrowSouthMiddleWest,o.northArrowSouthMiddleEast,o.northArrowSouthWest,o.northArrowSouthEast,o.viewportStickyNorth],limiter:Cr,fitInViewport:!0},U),F=br._getOptimalPosition(b)||Pr,le=parseInt(F.left),Me=parseInt(F.top),Fe=F.name,it=F.config||{},{withArrow:Mt=!0}=it;this.top=Me,this.left=le,this.position=Fe,this.withArrow=Mt}pin(U){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(U):this._stopPinning()},this._startPinning(U),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(U){this.attachTo(U);const o=an(U.target),b=U.limiter?an(U.limiter):Cr;this.listenTo(V.global.document,"scroll",(F,le)=>{const Me=le.target,Fe=o&&Me.contains(o),it=b&&Me.contains(b);!Fe&&!it&&o&&b||this.attachTo(U)},{useCapture:!0}),this.listenTo(V.global.window,"resize",()=>{this.attachTo(U)})}_stopPinning(){this.stopListening(V.global.document,"scroll"),this.stopListening(V.global.window,"resize")}};let Ln=br;function an(U){return(0,mo.Z)(U)?U:(0,V.bR)(U)?U.commonAncestorContainer:typeof U=="function"?an(U()):null}function Wn(U={}){const{sideOffset:o=Ln.arrowSideOffset,heightOffset:b=Ln.arrowHeightOffset,stickyVerticalOffset:F=Ln.stickyVerticalOffset,config:le}=U;return{northWestArrowSouthWest:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left-o,name:"arrow_sw"},le&&{config:le}),northWestArrowSouthMiddleWest:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left-.25*Mt.width-o,name:"arrow_smw"},le&&{config:le}),northWestArrowSouth:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left-Mt.width/2,name:"arrow_s"},le&&{config:le}),northWestArrowSouthMiddleEast:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left-.75*Mt.width+o,name:"arrow_sme"},le&&{config:le}),northWestArrowSouthEast:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left-Mt.width+o,name:"arrow_se"},le&&{config:le}),northArrowSouthWest:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left+it.width/2-o,name:"arrow_sw"},le&&{config:le}),northArrowSouthMiddleWest:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left+it.width/2-.25*Mt.width-o,name:"arrow_smw"},le&&{config:le}),northArrowSouth:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left+it.width/2-Mt.width/2,name:"arrow_s"},le&&{config:le}),northArrowSouthMiddleEast:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left+it.width/2-.75*Mt.width+o,name:"arrow_sme"},le&&{config:le}),northArrowSouthEast:(it,Mt)=>Ji({top:Me(it,Mt),left:it.left+it.width/2-Mt.width+o,name:"arrow_se"},le&&{config:le}),northEastArrowSouthWest:(it,Mt)=>Ji({top:Me(it,Mt),left:it.right-o,name:"arrow_sw"},le&&{config:le}),northEastArrowSouthMiddleWest:(it,Mt)=>Ji({top:Me(it,Mt),left:it.right-.25*Mt.width-o,name:"arrow_smw"},le&&{config:le}),northEastArrowSouth:(it,Mt)=>Ji({top:Me(it,Mt),left:it.right-Mt.width/2,name:"arrow_s"},le&&{config:le}),northEastArrowSouthMiddleEast:(it,Mt)=>Ji({top:Me(it,Mt),left:it.right-.75*Mt.width+o,name:"arrow_sme"},le&&{config:le}),northEastArrowSouthEast:(it,Mt)=>Ji({top:Me(it,Mt),left:it.right-Mt.width+o,name:"arrow_se"},le&&{config:le}),southWestArrowNorthWest:it=>Ji({top:Fe(it),left:it.left-o,name:"arrow_nw"},le&&{config:le}),southWestArrowNorthMiddleWest:(it,Mt)=>Ji({top:Fe(it),left:it.left-.25*Mt.width-o,name:"arrow_nmw"},le&&{config:le}),southWestArrowNorth:(it,Mt)=>Ji({top:Fe(it),left:it.left-Mt.width/2,name:"arrow_n"},le&&{config:le}),southWestArrowNorthMiddleEast:(it,Mt)=>Ji({top:Fe(it),left:it.left-.75*Mt.width+o,name:"arrow_nme"},le&&{config:le}),southWestArrowNorthEast:(it,Mt)=>Ji({top:Fe(it),left:it.left-Mt.width+o,name:"arrow_ne"},le&&{config:le}),southArrowNorthWest:it=>Ji({top:Fe(it),left:it.left+it.width/2-o,name:"arrow_nw"},le&&{config:le}),southArrowNorthMiddleWest:(it,Mt)=>Ji({top:Fe(it),left:it.left+it.width/2-.25*Mt.width-o,name:"arrow_nmw"},le&&{config:le}),southArrowNorth:(it,Mt)=>Ji({top:Fe(it),left:it.left+it.width/2-Mt.width/2,name:"arrow_n"},le&&{config:le}),southArrowNorthMiddleEast:(it,Mt)=>Ji({top:Fe(it),left:it.left+it.width/2-.75*Mt.width+o,name:"arrow_nme"},le&&{config:le}),southArrowNorthEast:(it,Mt)=>Ji({top:Fe(it),left:it.left+it.width/2-Mt.width+o,name:"arrow_ne"},le&&{config:le}),southEastArrowNorthWest:it=>Ji({top:Fe(it),left:it.right-o,name:"arrow_nw"},le&&{config:le}),southEastArrowNorthMiddleWest:(it,Mt)=>Ji({top:Fe(it),left:it.right-.25*Mt.width-o,name:"arrow_nmw"},le&&{config:le}),southEastArrowNorth:(it,Mt)=>Ji({top:Fe(it),left:it.right-Mt.width/2,name:"arrow_n"},le&&{config:le}),southEastArrowNorthMiddleEast:(it,Mt)=>Ji({top:Fe(it),left:it.right-.75*Mt.width+o,name:"arrow_nme"},le&&{config:le}),southEastArrowNorthEast:(it,Mt)=>Ji({top:Fe(it),left:it.right-Mt.width+o,name:"arrow_ne"},le&&{config:le}),westArrowEast:(it,Mt)=>Ji({top:it.top+it.height/2-Mt.height/2,left:it.left-Mt.width-b,name:"arrow_e"},le&&{config:le}),eastArrowWest:(it,Mt)=>Ji({top:it.top+it.height/2-Mt.height/2,left:it.right+b,name:"arrow_w"},le&&{config:le}),viewportStickyNorth:(it,Mt,fi,zi)=>{const bn=zi||fi;return it.getIntersection(bn)?bn.height-it.height>F?null:{top:bn.top+F,left:it.left+it.width/2-Mt.width/2,name:"arrowless",config:Ji({withArrow:!1},le)}:null}};function Me(it,Mt){return it.top-Mt.height-b}function Fe(it){return it.bottom+b}}Ln.arrowSideOffset=25,Ln.arrowHeightOffset=10,Ln.stickyVerticalOffset=20,Ln._getOptimalPosition=V.xZ,Ln.defaultPositions=Wn();var ln=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/tooltip/tooltip.css"),wr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(ln.Z,wr),ln.Z.locals;const Tr="ck-tooltip",Xt=class extends(0,V.Xu)(){constructor(U){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Xt._editors.add(U),Xt._instance)return Xt._instance;Xt._instance=this,this.tooltipTextView=new u(U.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ln(U.locale),this.balloonPanelView.class=Tr,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=(0,at.Z)(this._pinTooltip,600),this.listenTo(V.global.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(V.global.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(U){const o=U.ui.view&&U.ui.view.body;Xt._editors.delete(U),this.stopListening(U.ui),o&&o.has(this.balloonPanelView)&&o.remove(this.balloonPanelView),Xt._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Xt._instance=null)}static getPositioningFunctions(U){const o=Xt.defaultBalloonPositions;return{s:[o.southArrowNorth,o.southArrowNorthEast,o.southArrowNorthWest],n:[o.northArrowSouth],e:[o.eastArrowWest],w:[o.westArrowEast],sw:[o.southArrowNorthEast],se:[o.southArrowNorthWest]}[U]}_onEnterOrFocus(U,{target:o}){const b=Kr(o);var F;b&&b!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(b,{text:(F=b).dataset.ckeTooltipText,position:F.dataset.ckeTooltipPosition||"s",cssClass:F.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(U,{target:o,relatedTarget:b}){if(U.name==="mouseleave"){if(!(0,mo.Z)(o)||this._currentElementWithTooltip&&o!==this._currentElementWithTooltip)return;const F=Kr(o),le=Kr(b);F&&F!==le&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&o!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(U,{target:o}){this._currentElementWithTooltip&&(o.contains(this.balloonPanelView.element)&&o.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(U,{text:o,position:b,cssClass:F}){const le=(0,V.Ps)(Xt._editors.values()).ui.view.body;le.has(this.balloonPanelView)||le.add(this.balloonPanelView),this.tooltipTextView.text=o,this.balloonPanelView.pin({target:U,positions:Xt.getPositioningFunctions(b)}),this._resizeObserver=new V.do(U,()=>{(0,V.pn)(U)||this._unpinTooltip()}),this.balloonPanelView.class=[Tr,F].filter(Me=>Me).join(" ");for(const Me of Xt._editors)this.listenTo(Me.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=U,this._currentTooltipPosition=b}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const U of Xt._editors)this.stopListening(U.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){(0,V.pn)(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Xt.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let nn=Xt;function Kr(U){return(0,mo.Z)(U)?U.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}nn.defaultBalloonPositions=Wn({heightOffset:5,sideOffset:13}),nn._editors=new Set,nn._instance=null;var po=l("./node_modules/lodash-es/throttle.js"),io=Object.defineProperty,no=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Vr=Object.prototype.propertyIsEnumerable,fo=(U,o,b)=>o in U?io(U,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):U[o]=b,Hr=(U,o)=>{for(var b in o||(o={}))Bt.call(o,b)&&fo(U,b,o[b]);if(no)for(var b of no(o))Vr.call(o,b)&&fo(U,b,o[b]);return U};const bo=50,wo=350,ro="Powered by";class Ar extends(0,V.Xu)(){constructor(o){super(),this.editor=o,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=(0,po.Z)(this._showBalloon.bind(this),50,{leading:!0}),o.on("ready",this._handleEditorReady.bind(this))}destroy(){const o=this._balloonView;o&&(o.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const o=this.editor;(o.config.get("ui.poweredBy.forceVisible")||(0,V.Tx)(o.config.get("licenseKey"))!=="VALID")&&o.ui.view&&(o.ui.focusTracker.on("change:isFocused",(b,F,le)=>{this._updateLastFocusedEditableElement(),le?this._showBalloon():this._hideBalloon()}),o.ui.focusTracker.on("change:focusedElement",(b,F,le)=>{this._updateLastFocusedEditableElement(),le&&this._showBalloon()}),o.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const o=this.editor,b=this._balloonView=new Ln,F=so(o),le=new Po(o.locale,F.label);b.content.add(le),b.set({class:"ck-powered-by-balloon"}),o.ui.view.body.add(b),o.ui.focusTracker.add(b.element),this._balloonView=b}_showBalloon(){if(!this._lastFocusedEditableElement)return;const o=function(b,F){const le=so(b),Me=le.side==="right"?function(Fe,it){return oo(Fe,it,(Mt,fi)=>Mt.left+Mt.width-fi.width-it.horizontalOffset)}(F,le):function(Fe,it){return oo(Fe,it,Mt=>Mt.left+it.horizontalOffset)}(F,le);return{target:F,positions:[Me]}}(this.editor,this._lastFocusedEditableElement);o&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(o))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const o=this.editor,b=o.ui.focusTracker.isFocused,F=o.ui.focusTracker.focusedElement;if(!b||!F)return void(this._lastFocusedEditableElement=null);const le=Array.from(o.ui.getEditableElementsNames()).map(Me=>o.ui.getEditableElement(Me));le.includes(F)?this._lastFocusedEditableElement=F:this._lastFocusedEditableElement=le[0]}}class Po extends u{constructor(o,b){super(o);const F=new Te,le=this.bindTemplate;F.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),F.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...b?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[b]}]:[],F],on:{dragstart:le.to(Me=>Me.preventDefault())}}]})}}function oo(U,o,b){return(F,le)=>{const Me=new V.UL(U);if(Me.width<wo||Me.height<bo)return null;let Fe;Fe=o.position==="inside"?Me.bottom-le.height:Me.bottom-le.height/2,Fe-=o.verticalOffset;const it=b(Me,le),Mt=F.clone().moveTo(it,Fe).getIntersection(le.clone().moveTo(it,Fe)).getVisible();return!Mt||Mt.getArea()<le.getArea()?null:{top:Fe,left:it,name:`position_${o.position}-side_${o.side}`,config:{withArrow:!1}}}}function so(U){const o=U.config.get("ui.poweredBy"),b=o&&o.position||"border";return Hr({position:b,label:ro,verticalOffset:b==="inside"?5:0,horizontalOffset:5,side:U.locale.contentLanguageDirection==="ltr"?"right":"left"},o)}var me=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"),ge={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(me.Z,ge),me.Z.locals;class qe{constructor(o){this.editor=o}announce(o,b,F="polite"){const le=this.editor;this.view||(this.view=new Tt(le.locale),le.ui.view.body.add(this.view));let Me=this.view.regionViews.find(Fe=>Fe.regionName===o);Me||(Me=new li(this.view.locale),this.view.regionViews.add(Me)),Me.set({regionName:o,text:b,politeness:F})}}class Tt extends u{constructor(o){super(o),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class li extends u{constructor(o){super(o);const b=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness","polite"),this.setTemplate({tag:"div",attributes:{role:"region","data-region":b.to("regionName"),"aria-live":b.to("politeness")},children:[{text:b.to("text")}]})}}var _i=Object.defineProperty,Ai=Object.getOwnPropertySymbols,Ei=Object.prototype.hasOwnProperty,Yi=Object.prototype.propertyIsEnumerable,qi=(U,o,b)=>o in U?_i(U,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):U[o]=b;class ar extends(0,V.Re)(){constructor(o){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const b=o.editing.view;this.editor=o,this.componentFactory=new ho(o),this.focusTracker=new V.Rh,this.tooltipManager=new nn(o),this.poweredBy=new Ar(o),this.ariaLiveAnnouncer=new qe(o),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(b.document,"layoutChanged",this.update.bind(this)),this.listenTo(b,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const o of this._editableElementsMap.values())o.ckeditorInstance=null,this.editor.keystrokes.stopListening(o);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(o,b){this._editableElementsMap.set(o,b),b.ckeditorInstance||(b.ckeditorInstance=this.editor),this.focusTracker.add(b);const F=()=>{this.editor.editing.view.getDomRoot(o)||this.editor.keystrokes.listenTo(b)};this.isReady?F():this.once("ready",F)}removeEditableElement(o){const b=this._editableElementsMap.get(o);b&&(this._editableElementsMap.delete(o),this.editor.keystrokes.stopListening(b),this.focusTracker.remove(b),b.ckeditorInstance=null)}getEditableElement(o="main"){return this._editableElementsMap.get(o)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(o,b={}){o.isRendered?(this.focusTracker.add(o.element),this.editor.keystrokes.listenTo(o.element)):o.once("render",()=>{this.focusTracker.add(o.element),this.editor.keystrokes.listenTo(o.element)}),this._focusableToolbarDefinitions.push({toolbarView:o,options:b})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const o=this.editor,b=o.config.get("ui.viewportOffset");if(b)return b;const F=o.config.get("toolbar.viewportTopOffset");return F?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:F}):{top:0}}_initFocusTracking(){const o=this.editor,b=o.editing.view;let F,le;o.keystrokes.set("Alt+F10",(Me,Fe)=>{const it=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(it)&&!Array.from(b.domRoots.values()).includes(it)&&(F=it);const Mt=this._getCurrentFocusedToolbarDefinition();Mt&&le||(le=this._getFocusableCandidateToolbarDefinitions());for(let fi=0;fi<le.length;fi++){const zi=le.shift();if(le.push(zi),zi!==Mt&&this._focusFocusableCandidateToolbar(zi)){Mt&&Mt.options.afterBlur&&Mt.options.afterBlur();break}}Fe()}),o.keystrokes.set("Esc",(Me,Fe)=>{const it=this._getCurrentFocusedToolbarDefinition();it&&(F?(F.focus(),F=null):o.editing.view.focus(),it.options.afterBlur&&it.options.afterBlur(),Fe())})}_getFocusableCandidateToolbarDefinitions(){const o=[];for(const b of this._focusableToolbarDefinitions){const{toolbarView:F,options:le}=b;((0,V.pn)(F.element)||le.beforeFocus)&&o.push(b)}return o.sort((b,F)=>Zn(b)-Zn(F)),o}_getCurrentFocusedToolbarDefinition(){for(const o of this._focusableToolbarDefinitions)if(o.toolbarView.element&&o.toolbarView.element.contains(this.focusTracker.focusedElement))return o;return null}_focusFocusableCandidateToolbar(o){const{toolbarView:b,options:{beforeFocus:F}}=o;return F&&F(),!!(0,V.pn)(b.element)&&(b.focus(),!0)}_handleScrollToTheSelection(o,b){const F=((le,Me)=>{for(var Fe in Me||(Me={}))Ei.call(Me,Fe)&&qi(le,Fe,Me[Fe]);if(Ai)for(var Fe of Ai(Me))Yi.call(Me,Fe)&&qi(le,Fe,Me[Fe]);return le})({top:0,bottom:0,left:0,right:0},this.viewportOffset);b.viewportOffset.top+=F.top,b.viewportOffset.bottom+=F.bottom,b.viewportOffset.left+=F.left,b.viewportOffset.right+=F.right}}function Zn(U){const{toolbarView:o,options:b}=U;let F=10;return(0,V.pn)(o.element)&&F--,b.isContextual&&F--,F}var cn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/editorui/editorui.css"),lr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(cn.Z,lr),cn.Z.locals;class Lr extends u{constructor(o){super(o),this.body=new bt(o)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class er extends Lr{constructor(o){super(o),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:o.uiLanguageDirection,lang:o.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const o=this.t,b=new Le;return b.text=o("Rich Text Editor"),b.extendTemplate({attributes:{class:"ck-voice-label"}}),b}}class vn extends u{constructor(o,b,F){super(o),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:o.contentLanguage,dir:o.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=F,this._hasExternalElement=!!this._editableElement,this._editingView=b}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const o=this._editingView;function b(F){o.change(le=>{const Me=o.document.getRoot(F.name);le.addClass(F.isFocused?"ck-focused":"ck-blurred",Me),le.removeClass(F.isFocused?"ck-blurred":"ck-focused",Me)})}o.isRenderingInProgress?function F(le){o.once("change:isRenderingInProgress",(Me,Fe,it)=>{it?F(le):b(le)})}(this):b(this)}}class tr extends vn{constructor(o,b,F,le={}){super(o,b,F);const Me=o.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=le.label||(()=>Me("Editor editing area: %0",this.name))}render(){super.render();const o=this._editingView;o.change(b=>{const F=o.document.getRoot(this.name);b.setAttribute("aria-label",this._generateLabel(this),F)})}}var An=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/formheader/formheader.css"),Gn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(An.Z,Gn),An.Z.locals;class kr extends u{constructor(o,b={}){super(o);const F=this.bindTemplate;this.set("label",b.label||""),this.set("class",b.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",F.to("class")]},children:this.children}),b.icon&&(this.iconView=new Te,this.iconView.content=b.icon,this.children.add(this.iconView));const le=new u(o);le.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:F.to("label")}]}),this.children.add(le)}}class ko extends u{constructor(o){super(o);const b=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:b.to("loaded")}})}render(){return new Promise(o=>(this.on("loaded",o),super.render()))}}class Lo extends yt.eO{static get pluginName(){return"Notification"}init(){this.on("show:warning",(o,b)=>{window.alert(b.message)},{priority:"lowest"})}showSuccess(o,b={}){this._showNotification({message:o,type:"success",namespace:b.namespace,title:b.title})}showInfo(o,b={}){this._showNotification({message:o,type:"info",namespace:b.namespace,title:b.title})}showWarning(o,b={}){this._showNotification({message:o,type:"warning",namespace:b.namespace,title:b.title})}_showNotification(o){const b=o.namespace?`show:${o.type}:${o.namespace}`:`show:${o.type}`;this.fire(b,{message:o.message,type:o.type,title:o.title||""})}}var Oo=l("./node_modules/lodash-es/assignIn.js");class mr extends(0,V.Re)(){constructor(o,b){super(),b&&(0,Oo.Z)(this,b),o&&this.set(o)}}var vo=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/balloonrotator.css"),Mo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(vo.Z,Mo),vo.Z.locals;var Ui=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/fakepanel.css"),fn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Ui.Z,fn),Ui.Z.locals;const Xi=(0,V.nn)("px");class ir extends yt.Sy{constructor(o){super(o),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const b=this.editor.editing.view,F=b.document.selection.editableElement;return F?b.domConverter.mapViewToDom(F.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(o){return Array.from(this._viewToStack.keys()).includes(o)}add(o){if(this._view||this._createPanelView(),this.hasView(o.view))throw new V.Bb("contextualballoon-add-view-exist",[this,o]);const b=o.stackId||"main";if(!this._idToStack.has(b))return this._idToStack.set(b,new Map([[o.view,o]])),this._viewToStack.set(o.view,this._idToStack.get(b)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!o.singleViewMode||this.showStack(b));const F=this._idToStack.get(b);o.singleViewMode&&this.showStack(b),F.set(o.view,o),this._viewToStack.set(o.view,F),F===this._visibleStack&&this._showView(o)}remove(o){if(!this.hasView(o))throw new V.Bb("contextualballoon-remove-view-not-exist",[this,o]);const b=this._viewToStack.get(o);this._singleViewMode&&this.visibleView===o&&(this._singleViewMode=!1),this.visibleView===o&&(b.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(b.values())[b.size-2])),b.size===1?(this._idToStack.delete(this._getStackId(b)),this._numberOfStacks=this._idToStack.size):b.delete(o),this._viewToStack.delete(o)}updatePosition(o){o&&(this._visibleStack.get(this.visibleView).position=o),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(o){this.visibleStack=o;const b=this._idToStack.get(o);if(!b)throw new V.Bb("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==b&&this._showView(Array.from(b.values()).pop())}_createPanelView(){this._view=new Ln(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(o){return Array.from(this._idToStack.entries()).find(b=>b[1]===o)[0]}_showNextStack(){const o=Array.from(this._idToStack.values());let b=o.indexOf(this._visibleStack)+1;o[b]||(b=0),this.showStack(this._getStackId(o[b]))}_showPrevStack(){const o=Array.from(this._idToStack.values());let b=o.indexOf(this._visibleStack)-1;o[b]||(b=o.length-1),this.showStack(this._getStackId(o[b]))}_createRotatorView(){const o=new Or(this.editor.locale),b=this.editor.locale.t;return this.view.content.add(o),o.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(F,le)=>!le&&F>1),o.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),o.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(F,le)=>{if(le<2)return"";const Me=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return b("%0 of %1",[Me,le])}),o.buttonNextView.on("execute",()=>{o.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),o.buttonPrevView.on("execute",()=>{o.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),o}_createFakePanelsView(){const o=new Er(this.editor.locale,this.view);return o.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(b,F)=>!F&&b>=2?Math.min(b-1,2):0),o.listenTo(this.view,"change:top",()=>o.updatePosition()),o.listenTo(this.view,"change:left",()=>o.updatePosition()),this.editor.ui.view.body.add(o),o}_showView({view:o,balloonClassName:b="",withArrow:F=!0,singleViewMode:le=!1}){this.view.class=b,this.view.withArrow=F,this._rotatorView.showView(o),this.visibleView=o,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),le&&(this._singleViewMode=!0)}_getBalloonPosition(){let o=Array.from(this._visibleStack.values()).pop().position;return o&&(o.limiter||(o=Object.assign({},o,{limiter:this.positionLimiter})),o=Object.assign({},o,{viewportOffsetConfig:this.editor.ui.viewportOffset})),o}}class Or extends u{constructor(o){super(o);const b=o.t,F=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new V.Rh,this.buttonPrevView=this._createButtonView(b("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(b("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",F.to("isNavigationVisible",le=>le?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:F.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(o){this.hideView(),this.content.add(o)}hideView(){this.content.clear()}_createButtonView(o,b){const F=new Je(this.locale);return F.set({label:o,icon:b,tooltip:!0}),F}}class Er extends u{constructor(o,b){super(o);const F=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=b,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",F.to("numberOfPanels",le=>le?"":"ck-hidden")],style:{top:F.to("top",Xi),left:F.to("left",Xi),width:F.to("width",Xi),height:F.to("height",Xi)}},children:this.content}),this.on("change:numberOfPanels",(le,Me,Fe,it)=>{Fe>it?this._addPanels(Fe-it):this._removePanels(it-Fe),this.updatePosition()})}_addPanels(o){for(;o--;){const b=new u;b.setTemplate({tag:"div"}),this.content.add(b),this.registerChild(b)}}_removePanels(o){for(;o--;){const b=this.content.last;this.content.remove(b),this.deregisterChild(b),b.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:o,left:b}=this._balloonPanelView,{width:F,height:le}=new V.UL(this._balloonPanelView.element);Object.assign(this,{top:o,left:b,width:F,height:le})}}}var Bn=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/panel/stickypanel.css"),$n={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Bn.Z,$n),Bn.Z.locals;const _n=(0,V.nn)("px");class vr extends u{constructor(o){super(o);const b=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new v({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:b.to("isSticky",F=>F?"block":"none"),height:b.to("isSticky",F=>F?_n(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new v({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",b.if("isSticky","ck-sticky-panel__content_sticky"),b.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:b.to("isSticky",F=>F?_n(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:b.to("_stickyTopOffset",F=>F&&_n(F)),bottom:b.to("_stickyBottomOffset",F=>F&&_n(F)),marginLeft:b.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(V.global.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const o=new V.UL(this.limiterElement);let b=o.getVisible();if(b){const F=new V.UL(V.global.window);F.top+=this.viewportTopOffset,F.height-=this.viewportTopOffset,b=b.getIntersection(F)}if(b&&o.top<b.top){const F=b.top;if(F+this._contentPanelRect.height+this.limiterBottomOffset>b.bottom){const le=Math.max(o.bottom-b.bottom,0)+this.limiterBottomOffset;o.bottom-le>o.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(le):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<o.height?this._stickToTopOfAncestors(F):this._unstick()}else this._unstick()}_stickToTopOfAncestors(o){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=o,this._stickyBottomOffset=null,this._marginLeft=_n(-V.global.window.scrollX)}_stickToBottomOfLimiter(o){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=o,this._marginLeft=_n(-V.global.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new V.UL(this._contentPanel)}}class nr extends gt{constructor(o,b){const F=o.t,le=Object.assign({},{showResetButton:!0,showIcon:!0,creator:At},b);super(o,le.creator),this.label=b.label,this._viewConfig=le,this._viewConfig.showIcon&&(this.iconView=new Te,this.iconView.content=yt.icons.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Je(o),this.resetButtonView.set({label:F("Clear"),icon:yt.icons.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",Me=>!Me),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Tn extends u{constructor(){super();const o=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",o.if("isVisible","ck-hidden",b=>!b)],tabindex:-1},children:[{tag:"span",children:[{text:[o.to("primaryText")]}]},{tag:"span",children:[{text:[o.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Dn extends u{constructor(o){super(o),this.children=this.createCollection(),this.focusTracker=new V.Rh,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new X({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const o of this.children)this.focusTracker.add(o.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Ur=l("./node_modules/lodash-es/escapeRegExp.js"),Yo=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/search/search.css"),Qo={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Yo.Z,Qo),Yo.Z.locals;var ao=Object.defineProperty,Ro=Object.getOwnPropertySymbols,Fo=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,lo=(U,o,b)=>o in U?ao(U,o,{enumerable:!0,configurable:!0,writable:!0,value:b}):U[o]=b;class Uo extends u{constructor(o,b){super(o),this._config=b,this.filteredView=b.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new V.Rh,this.keystrokes=new V.VD,this.resultsView=new Dn(o),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),b.infoView&&b.infoView.instance?this.infoView=b.infoView.instance:(this.infoView=new Tn,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new X({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(F,{resultsCount:le,totalItemsCount:Me})=>{this.resultsCount=le,this.totalItemsCount=Me}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",b.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const o=b=>b.stopPropagation();for(const b of this.focusableChildren)this.focusTracker.add(b.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",o),this.keystrokes.set("arrowleft",o),this.keystrokes.set("arrowup",o),this.keystrokes.set("arrowdown",o)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(o){const b=o?new RegExp((0,Ur.Z)(o),"ig"):null,F=this.filteredView.filter(b);this.fire("search",((le,Me)=>{for(var Fe in Me||(Me={}))Fo.call(Me,Fe)&&lo(le,Fe,Me[Fe]);if(Ro)for(var Fe of Ro(Me))Ho.call(Me,Fe)&&lo(le,Fe,Me[Fe]);return le})({query:o},F))}_createSearchTextQueryView(){const o=new nr(this.locale,this._config.queryView);return this.listenTo(o.fieldView,"input",()=>{this.search(o.fieldView.element.value)}),o.on("reset",()=>this.reset()),o.bind("isEnabled").to(this),o}_enableDefaultInfoViewBehavior(){const o=this.locale.t,b=this.infoView;function F(le,{query:Me,resultsCount:Fe,totalItemsCount:it}){return typeof le=="function"?le(Me,Fe,it):le}this.on("search",(le,Me)=>{if(Me.resultsCount)b.set({isVisible:!1});else{const Fe=this._config.infoView&&this._config.infoView.text;let it,Mt;Me.totalItemsCount?Fe&&Fe.notFound?(it=Fe.notFound.primary,Mt=Fe.notFound.secondary):(it=o("No results found"),Mt=""):Fe&&Fe.noSearchableItems?(it=Fe.noSearchableItems.primary,Mt=Fe.noSearchableItems.secondary):(it=o("No searchable items"),Mt=""),b.set({primaryText:F(it,Me),secondaryText:F(Mt,Me),isVisible:!0})}})}}var Wo=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/autocomplete/autocomplete.css"),ms={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Wo.Z,ms),Wo.Z.locals;const jo=class extends Uo{constructor(U,o){super(U,o),this._config=o;const b=(0,V.nn)("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const F=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[F.if("isVisible","ck-hidden",le=>!le),F.to("_position",le=>`ck-search__results_${le}`)],style:{width:F.to("_width",b)}}}),this.focusTracker.on("change:isFocused",(le,Me,Fe)=>{this._updateResultsVisibility(),Fe?this.resultsView.element.scrollTop=0:o.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(le,Me)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,Me())}),this.listenTo(V.global.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(le,{value:Me})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=Me,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new V.UL(this.queryView.fieldView.element).width;const U=jo._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:jo.defaultResultsPositions});this.resultsView._position=U?U.name:"s"}_updateResultsVisibility(){const U=this._config.queryMinChars===void 0?0:this._config.queryMinChars,o=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&o>=U}};let Nr=jo;Nr.defaultResultsPositions=[U=>({top:U.bottom,left:U.left,name:"s"}),(U,o)=>({top:U.top-o.height,left:U.left,name:"n"})],Nr._getOptimalPosition=V.xZ;var Zo=l("./packages/ckeditor5-ui/src/search/filteredview.ts"),gs=l.n(Zo);const Mr=function(U){return function(o){return U?.[o]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});var co=l("./node_modules/lodash-es/toString.js"),Jo=/[&<>"']/g,ps=RegExp(Jo.source);const Sr=function(U){return(U=(0,co.Z)(U))&&ps.test(U)?U.replace(Jo,Mr):U};var Xo=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"),fs={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(Xo.Z,fs),Xo.Z.locals;class bs extends u{constructor(){super(),this.set("text",void 0),this.setTemplate({tag:"span",attributes:{class:["ck","ck-highlighted-text"]}}),this.on("render",()=>{this.on("change:text",()=>{this._updateInnerHTML(this.text)}),this._updateInnerHTML(this.text)})}highlightText(o){this._updateInnerHTML(function(b,F){if(!F)return Sr(b);const le=[];let Me=0,Fe=F.exec(b);for(;Fe!==null;){const it=Fe.index;it!==Me&&le.push({text:b.substring(Me,it),isMatch:!1}),le.push({text:Fe[0],isMatch:!0}),Me=F.lastIndex,Fe=F.exec(b)}return Me!==b.length&&le.push({text:b.substring(Me),isMatch:!1}),le.map(it=>(it.text=Sr(it.text),it)).map(it=>it.isMatch?`<mark>${it.text}</mark>`:it.text).join("")}(this.text||"",o))}_updateInnerHTML(o){this.element.innerHTML=o||""}}var $o=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/collapsible/collapsible.css"),es={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()($o.Z,es),$o.Z.locals;class ws extends u{constructor(o,b){super(o);const F=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),b&&this.children.addMany(b),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",F.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:F.if("isCollapsed","hidden"),"aria-labelledby":F.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const o=new Je(this.locale),b=o.bindTemplate;return o.set({withText:!0,icon:Ne}),o.extendTemplate({attributes:{"aria-expanded":b.to("isOn",F=>String(F))}}),o.bind("label").to(this),o.bind("isOn").to(this,"isCollapsed",F=>!F),o.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),o}}var ts=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/spinner/spinner.css"),is={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(ts.Z,is),ts.Z.locals;class qo extends u{constructor(){super(),this.set("isVisible",!1);const o=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-spinner-container",o.if("isVisible","ck-hidden",b=>!b)]},children:[{tag:"span",attributes:{class:["ck","ck-spinner"]}}]})}}const Gr=(0,V.nn)("px");class ks extends yt.Sy{constructor(o){super(o),this._resizeObserver=null,this._balloonConfig=Ke(o.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new V.Rh,o.ui.once("ready",()=>{this.focusTracker.add(o.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),o.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this.show(!0),afterBlur:()=>this.hide(),isContextual:!0}),this._balloon=o.plugins.get(ir),this._fireSelectionChangeDebounced=(0,at.Z)(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}static get pluginName(){return"BalloonToolbar"}static get requires(){return[ir]}init(){const o=this.editor,b=o.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(F,le,Me)=>{const Fe=this._balloon.visibleView===this.toolbarView;!Me&&Fe?this.hide():Me&&this.show()}),this.listenTo(b,"change:range",(F,le)=>{(le.directChange||b.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(o,"ready",()=>{const F=o.ui.view.editable.element;this._resizeObserver=new V.do(F,le=>{this.toolbarView.maxWidth=Gr(.9*le.contentRect.width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){const o=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,o)}_createToolbarView(){const o=this.editor.locale.t,b=!this._balloonConfig.shouldNotGroupWhenFull,F=new Ti(this.editor.locale,{shouldGroupWhenFull:b,isFloating:!0});return F.ariaLabel=o("Editor contextual toolbar"),F.render(),F}show(o=!1){const b=this.editor,F=b.model.document.selection,le=b.model.schema;this._balloon.hasView(this.toolbarView)||F.isCollapsed&&!o||function(Me,Fe){return Me.rangeCount===1?!1:[...Me.getRanges()].every(it=>{const Mt=it.getContainedElement();return Mt&&Fe.isSelectable(Mt)})}(F,le)||Array.from(this.toolbarView.items).every(Me=>Me.isEnabled!==void 0&&!Me.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const o=this.editor.editing.view,b=o.document,F=b.selection,le=b.selection.isBackward;return{target:()=>{const Me=le?F.getFirstRange():F.getLastRange(),Fe=V.UL.getDomRangeRects(o.domConverter.viewRangeToDom(Me));return le?Fe[0]:(Fe.length>1&&Fe[Fe.length-1].width===0&&Fe.pop(),Fe[Fe.length-1])},positions:this._getBalloonPositions(le)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getBalloonPositions(o){const b=V.OB.isSafari&&V.OB.isiOS?Wn({heightOffset:Math.max(Ln.arrowHeightOffset,Math.round(20/V.global.window.visualViewport.scale))}):Ln.defaultPositions;return o?[b.northWestArrowSouth,b.northWestArrowSouthWest,b.northWestArrowSouthEast,b.northWestArrowSouthMiddleEast,b.northWestArrowSouthMiddleWest,b.southWestArrowNorth,b.southWestArrowNorthWest,b.southWestArrowNorthEast,b.southWestArrowNorthMiddleWest,b.southWestArrowNorthMiddleEast]:[b.southEastArrowNorth,b.southEastArrowNorthEast,b.southEastArrowNorthWest,b.southEastArrowNorthMiddleEast,b.southEastArrowNorthMiddleWest,b.northEastArrowSouth,b.northEastArrowSouthEast,b.northEastArrowSouthWest,b.northEastArrowSouthMiddleEast,b.northEastArrowSouthMiddleWest]}}var _o=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css"),ns={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ee()(_o.Z,ns),_o.Z.locals;const rs=(0,V.nn)("px");class vs extends Je{constructor(o){super(o);const b=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:b.to("top",F=>rs(F)),left:b.to("left",F=>rs(F))}}})}}const _s=(0,V.nn)("px");class Ko extends yt.Sy{constructor(o){super(o),this._resizeObserver=null,this._blockToolbarConfig=Ke(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),c({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}static get pluginName(){return"BlockToolbar"}init(){const o=this.editor,b=o.t,F=b("Click to edit block"),le=b("Drag to move"),Me=b("Edit block"),Fe=o.plugins.has("DragDropBlockToolbar"),it=Fe?`${F}
${le}`:Me;this.buttonView.label=it,Fe&&(this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line"),this.listenTo(o.model.document.selection,"change:range",(Mt,fi)=>{fi.directChange&&this._hidePanel()}),this.listenTo(o.ui,"update",()=>this._updateButton()),this.listenTo(o,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(o.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(Mt,fi,zi)=>{zi?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())}),o.ui.addToolbar(this.toolbarView,{beforeFocus:()=>this._showPanel(),afterBlur:()=>this._hidePanel()})}afterInit(){this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory);for(const o of this.toolbarView.items)o.on("execute",()=>this._hidePanel(!0),{priority:"high"})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const o=this.editor.locale.t,b=!this._blockToolbarConfig.shouldNotGroupWhenFull,F=new Ti(this.editor.locale,{shouldGroupWhenFull:b,isFloating:!0});return F.ariaLabel=o("Editor block content toolbar"),F}_createPanelView(){const o=this.editor,b=new Ln(o.locale);return b.content.add(this.toolbarView),b.class="ck-toolbar-container",o.ui.view.body.add(b),o.ui.focusTracker.add(b.element),this.toolbarView.keystrokes.set("Esc",(F,le)=>{this._hidePanel(!0),le()}),b}_createButtonView(){const o=this.editor,b=o.t,F=new vs(o.locale),le=this._blockToolbarConfig.icon,Me=di[le]||le||di.dragIndicator;return F.set({label:b("Edit block"),icon:Me,withText:!1}),F.bind("isOn").to(this.panelView,"isVisible"),F.bind("tooltip").to(this.panelView,"isVisible",Fe=>!Fe),this.listenTo(F,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),o.ui.view.body.add(F),o.ui.focusTracker.add(F.element),F}_updateButton(){const o=this.editor,b=o.model,F=o.editing.view;if(!o.ui.focusTracker.isFocused)return void this._hideButton();if(!o.model.canEditAt(o.model.document.selection))return void this._hideButton();const le=Array.from(b.document.selection.getSelectedBlocks())[0];if(!le||Array.from(this.toolbarView.items).every(Fe=>!Fe.isEnabled))return void this._hideButton();const Me=F.domConverter.mapViewToDom(o.editing.mapper.toViewElement(le));this.buttonView.isVisible=!0,this._setupToolbarResize(),this._attachButtonToElement(Me),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){if(!this.buttonView.isVisible)return;const o=this.panelView.isVisible;this.panelView.show();const b=this._getSelectedEditableElement();this.toolbarView.maxWidth=this._getToolbarMaxWidth(b),this.panelView.pin({target:this.buttonView.element,limiter:b}),o||this.toolbarView.items.get(0).focus()}_getSelectedEditableElement(){const o=this.editor.model.document.selection.getFirstRange().root.rootName;return this.editor.ui.getEditableElement(o)}_hidePanel(o){this.panelView.isVisible=!1,o&&this.editor.editing.view.focus()}_attachButtonToElement(o){const b=window.getComputedStyle(o),F=new V.UL(this._getSelectedEditableElement()),le=parseInt(b.paddingTop,10),Me=parseInt(b.lineHeight,10)||1.2*parseInt(b.fontSize,10),Fe=new V.UL(this.buttonView.element),it=new V.UL(o);let Mt;Mt=this.editor.locale.uiLanguageDirection==="ltr"?F.left-Fe.width:F.right;const fi=it.top+le+(Me-Fe.height)/2;Fe.moveTo(Mt,fi);const zi=Fe.toAbsoluteRect();this.buttonView.top=zi.top,this.buttonView.left=zi.left}_setupToolbarResize(){const o=this._getSelectedEditableElement();this._blockToolbarConfig.shouldNotGroupWhenFull||(this._resizeObserver&&this._resizeObserver.element!==o&&(this._resizeObserver.destroy(),this._resizeObserver=null),this._resizeObserver||(this._resizeObserver=new V.do(o,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth(o)})))}_getToolbarMaxWidth(o){const b=new V.UL(o),F=new V.UL(this.buttonView.element),le=this.editor.locale.uiLanguageDirection==="rtl"?F.left-b.right+F.width:b.left-F.left;return _s(b.width+le)}}const ys={colorPaletteIcon:Cn}},"./packages/ckeditor5-ui/src/search/filteredview.ts":()=>{},"./packages/ckeditor5-utils/src/ckeditorerror.ts":(w,C,l)=>{"use strict";l.d(C,{H:()=>y,KE:()=>B,ZP:()=>L});const c="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class L extends Error{constructor(Y,ee,re){super(function(ie,u){const _=new WeakSet,p=(T,S)=>{if(typeof S=="object"&&S!==null){if(_.has(S))return`[object ${S.constructor.name}]`;_.add(S)}return S},v=u?` ${JSON.stringify(u,p)}`:"",A=h(ie);return ie+v+A}(Y,re)),this.name="CKEditorError",this.context=ee,this.data=re}is(Y){return Y==="CKEditorError"}static rethrowUnexpectedError(Y,ee){if(Y.is&&Y.is("CKEditorError"))throw Y;const re=new L(Y.message,ee);throw re.stack=Y.stack,re}}function B(q,Y){console.warn(...V(q,Y))}function y(q,Y){console.error(...V(q,Y))}function h(q){return`
Read more: ${c}#error-${q}`}function V(q,Y){const ee=h(q);return Y?[q,Y,ee]:[q,ee]}},"./packages/ckeditor5-utils/src/index.ts":(w,C,l)=>{"use strict";l.d(C,{Bb:()=>S.ZP,FE:()=>Xe,De:()=>Di,Xu:()=>ye,a6:()=>Je,ln:()=>j,M3:()=>u,Rh:()=>kt,VD:()=>At,go:()=>et,Re:()=>ft,UL:()=>yi,do:()=>wn,fZ:()=>$e,Rt:()=>st,QX:()=>tt,az:()=>ti,gw:()=>Mn,Hg:()=>Y,Pk:()=>ee,OB:()=>B,$J:()=>Ri,HZ:()=>h,wm:()=>Lt,Ps:()=>Et,dk:()=>Ot,lo:()=>oi,Cq:()=>In,yy:()=>Ut,XU:()=>ur,j9:()=>Ae,mA:()=>or,xZ:()=>Ce,global:()=>gt,cq:()=>X,ZQ:()=>se,VG:()=>A,dj:()=>rr,tO:()=>Kn,C3:()=>be,Zt:()=>Ht,Cb:()=>Rn,pp:()=>Nn,YK:()=>zn,to:()=>yr,TW:()=>Pt,nA:()=>hr,UG:()=>Zi,bR:()=>wi,Gs:()=>ri,$b:()=>ht,pn:()=>Rt,Do:()=>on,H:()=>S.H,KE:()=>S.KE,CD:()=>re,Zz:()=>Yn,tA:()=>v,Dm:()=>T.D,Od:()=>Ke,XD:()=>gi,F0:()=>si,mR:()=>yt,jS:()=>Ne,x:()=>Pn,qo:()=>Ue,qL:()=>Dt,nn:()=>H,hQ:()=>p,Tx:()=>Qn,i8:()=>T.Z,Dc:()=>Wt});const c=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var L;const B={isMac:y(c),isWindows:(L=c,L.indexOf("windows")>-1),isGecko:function(_e){return!!_e.match(/gecko\/\d+/)}(c),isSafari:function(_e){return _e.indexOf(" applewebkit/")>-1&&_e.indexOf("chrome")===-1}(c),isiOS:function(_e){return!!_e.match(/iphone|ipad/i)||y(_e)&&navigator.maxTouchPoints>0}(c),isAndroid:function(_e){return _e.indexOf("android")>-1}(c),isBlink:function(_e){return _e.indexOf("chrome/")>-1&&_e.indexOf("edge/")<0}(c),features:{isRegExpUnicodePropertySupported:function(){let _e=!1;try{_e="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch{}return _e}()}};function y(_e){return _e.indexOf("macintosh")>-1}function h(_e,k,d,I){d=d||function(he,ve){return he===ve};const N=Array.isArray(_e)?_e:Array.prototype.slice.call(_e),J=Array.isArray(k)?k:Array.prototype.slice.call(k),ce=function(he,ve,Re){const We=V(he,ve,Re);if(We===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Ye=q(he,We),pt=q(ve,We),Ct=V(Ye,pt,Re),St=he.length-Ct,xt=ve.length-Ct;return{firstIndex:We,lastIndexOld:St,lastIndexNew:xt}}(N,J,d);return I?function(he,ve){const{firstIndex:Re,lastIndexOld:We,lastIndexNew:Ye}=he;if(Re===-1)return Array(ve).fill("equal");let pt=[];return Re>0&&(pt=pt.concat(Array(Re).fill("equal"))),Ye-Re>0&&(pt=pt.concat(Array(Ye-Re).fill("insert"))),We-Re>0&&(pt=pt.concat(Array(We-Re).fill("delete"))),Ye<ve&&(pt=pt.concat(Array(ve-Ye).fill("equal"))),pt}(ce,J.length):function(he,ve){const Re=[],{firstIndex:We,lastIndexOld:Ye,lastIndexNew:pt}=ve;return pt-We>0&&Re.push({index:We,type:"insert",values:he.slice(We,pt)}),Ye-We>0&&Re.push({index:We+(pt-We),type:"delete",howMany:Ye-We}),Re}(J,ce)}function V(_e,k,d){for(let I=0;I<Math.max(_e.length,k.length);I++)if(_e[I]===void 0||k[I]===void 0||!d(_e[I],k[I]))return I;return-1}function q(_e,k){return _e.slice(k).reverse()}function Y(_e,k,d){d=d||function(St,xt){return St===xt};const I=_e.length,N=k.length;if(I>200||N>200||I+N>300)return Y.fastDiff(_e,k,d,!0);let J,ce;if(N<I){const St=_e;_e=k,k=St,J="delete",ce="insert"}else J="insert",ce="delete";const pe=_e.length,he=k.length,ve=he-pe,Re={},We={};function Ye(St){const xt=(We[St-1]!==void 0?We[St-1]:-1)+1,ii=We[St+1]!==void 0?We[St+1]:-1,Jt=xt>ii?-1:1;Re[St+Jt]&&(Re[St]=Re[St+Jt].slice(0)),Re[St]||(Re[St]=[]),Re[St].push(xt>ii?J:ce);let bi=Math.max(xt,ii),Si=bi-St;for(;Si<pe&&bi<he&&d(_e[Si],k[bi]);)Si++,bi++,Re[St].push("equal");return bi}let pt,Ct=0;do{for(pt=-Ct;pt<ve;pt++)We[pt]=Ye(pt);for(pt=ve+Ct;pt>ve;pt--)We[pt]=Ye(pt);We[ve]=Ye(ve),Ct++}while(We[ve]!==he);return Re[ve].slice(1)}function ee(_e,k){const d=[];let I=0,N=null;return _e.forEach(ce=>{ce=="equal"?(J(),I++):ce=="insert"?(N&&N.type=="insert"?N.values.push(k[I]):(J(),N={type:"insert",index:I,values:[k[I]]}),I++):N&&N.type=="delete"?N.howMany++:(J(),N={type:"delete",index:I,howMany:1})}),J(),d;function J(){N&&(d.push(N),N=null)}}function re(_e,...k){k.forEach(d=>{const I=Object.getOwnPropertyNames(d),N=Object.getOwnPropertySymbols(d);I.concat(N).forEach(J=>{if(J in _e.prototype||typeof d=="function"&&(J=="length"||J=="name"||J=="prototype"))return;const ce=Object.getOwnPropertyDescriptor(d,J);ce.enumerable=!1,Object.defineProperty(_e.prototype,J,ce)})})}Y.fastDiff=h;const ie=function(){return function _e(){_e.called=!0}};class u{constructor(k,d){this.source=k,this.name=d,this.path=[],this.stop=ie(),this.off=ie()}}const _=new Array(256).fill("").map((_e,k)=>("0"+k.toString(16)).slice(-2));function p(){const _e=4294967296*Math.random()>>>0,k=4294967296*Math.random()>>>0,d=4294967296*Math.random()>>>0,I=4294967296*Math.random()>>>0;return"e"+_[_e>>0&255]+_[_e>>8&255]+_[_e>>16&255]+_[_e>>24&255]+_[k>>0&255]+_[k>>8&255]+_[k>>16&255]+_[k>>24&255]+_[d>>0&255]+_[d>>8&255]+_[d>>16&255]+_[d>>24&255]+_[I>>0&255]+_[I>>8&255]+_[I>>16&255]+_[I>>24&255]}const v={get(_e="normal"){return typeof _e!="number"?this[_e]||this.normal:_e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function A(_e,k){const d=v.get(k.priority);for(let I=0;I<_e.length;I++)if(v.get(_e[I].priority)<d)return void _e.splice(I,0,k);_e.push(k)}var T=l("./packages/ckeditor5-utils/src/version.ts"),S=l("./packages/ckeditor5-utils/src/ckeditorerror.ts");const ae=Symbol("listeningTo"),$=Symbol("emitterId"),z=Symbol("delegations"),f=j(Object);function j(_e){return _e?class extends _e{on(k,d,I){this.listenTo(this,k,d,I)}once(k,d,I){let N=!1;this.listenTo(this,k,(J,...ce)=>{N||(N=!0,J.off(),d.call(this,J,...ce))},I)}off(k,d){this.stopListening(this,k,d)}listenTo(k,d,I,N={}){let J,ce;this[ae]||(this[ae]={});const pe=this[ae];D(k)||Z(k);const he=D(k);(J=pe[he])||(J=pe[he]={emitter:k,callbacks:{}}),(ce=J.callbacks[d])||(ce=J.callbacks[d]=[]),ce.push(I),function(ve,Re,We,Ye,pt){Re._addEventListener?Re._addEventListener(We,Ye,pt):ve._addEventListener.call(Re,We,Ye,pt)}(this,k,d,I,N)}stopListening(k,d,I){const N=this[ae];let J=k&&D(k);const ce=N&&J?N[J]:void 0,pe=ce&&d?ce.callbacks[d]:void 0;if(!(!N||k&&!ce||d&&!pe))if(I)De(this,k,d,I),pe.indexOf(I)!==-1&&(pe.length===1?delete ce.callbacks[d]:De(this,k,d,I));else if(pe){for(;I=pe.pop();)De(this,k,d,I);delete ce.callbacks[d]}else if(ce){for(d in ce.callbacks)this.stopListening(k,d);delete N[J]}else{for(J in N)this.stopListening(N[J].emitter);delete this[ae]}}fire(k,...d){try{const I=k instanceof u?k:new u(this,k),N=I.name;let J=je(this,N);if(I.path.push(this),J){const pe=[I,...d];J=Array.from(J);for(let he=0;he<J.length&&(J[he].callback.apply(this,pe),I.off.called&&(delete I.off.called,this._removeEventListener(N,J[he].callback)),!I.stop.called);he++);}const ce=this[z];if(ce){const pe=ce.get(N),he=ce.get("*");pe&&Ie(pe,I,d),he&&Ie(he,I,d)}return I.return}catch(I){S.ZP.rethrowUnexpectedError(I,this)}}delegate(...k){return{to:(d,I)=>{this[z]||(this[z]=new Map),k.forEach(N=>{const J=this[z].get(N);J?J.set(d,I):this[z].set(N,new Map([[d,I]]))})}}}stopDelegating(k,d){if(this[z])if(k)if(d){const I=this[z].get(k);I&&I.delete(d)}else this[z].delete(k);else this[z].clear()}_addEventListener(k,d,I){(function(ce,pe){const he=oe(ce);if(he[pe])return;let ve=pe,Re=null;const We=[];for(;ve!==""&&!he[ve];)he[ve]={callbacks:[],childEvents:[]},We.push(he[ve]),Re&&he[ve].childEvents.push(Re),Re=ve,ve=ve.substr(0,ve.lastIndexOf(":"));if(ve!==""){for(const Ye of We)Ye.callbacks=he[ve].callbacks.slice();he[ve].childEvents.push(Re)}})(this,k);const N=Se(this,k),J={callback:d,priority:v.get(I.priority)};for(const ce of N)A(ce,J)}_removeEventListener(k,d){const I=Se(this,k);for(const N of I)for(let J=0;J<N.length;J++)N[J].callback==d&&(N.splice(J,1),J--)}}:f}function Z(_e,k){_e[$]||(_e[$]=k||p())}function D(_e){return _e[$]}function oe(_e){return _e._events||Object.defineProperty(_e,"_events",{value:{}}),_e._events}function Se(_e,k){const d=oe(_e)[k];if(!d)return[];let I=[d.callbacks];for(let N=0;N<d.childEvents.length;N++){const J=Se(_e,d.childEvents[N]);I=I.concat(J)}return I}function je(_e,k){let d;return _e._events&&(d=_e._events[k])&&d.callbacks.length?d.callbacks:k.indexOf(":")>-1?je(_e,k.substr(0,k.lastIndexOf(":"))):null}function Ie(_e,k,d){for(let[I,N]of _e){N?typeof N=="function"&&(N=N(k.name)):N=k.name;const J=new u(k.source,N);J.path=[...k.path],I.fire(J,...d)}}function De(_e,k,d,I){k._removeEventListener?k._removeEventListener(d,I):_e._removeEventListener.call(k,d,I)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{j[_e]=f.prototype[_e]});var mt=l("./node_modules/lodash-es/isObject.js");const lt=Symbol("observableProperties"),ut=Symbol("boundObservables"),dt=Symbol("boundProperties"),vt=Symbol("decoratedMethods"),bt=Symbol("decoratedOriginal"),Qe=ft(j());function ft(_e){return _e?class extends _e{set(k,d){if((0,mt.Z)(k))return void Object.keys(k).forEach(N=>{this.set(N,k[N])},this);Ve(this);const I=this[lt];if(k in this&&!I.has(k))throw new S.ZP("observable-set-cannot-override",this);Object.defineProperty(this,k,{enumerable:!0,configurable:!0,get:()=>I.get(k),set(N){const J=I.get(k);let ce=this.fire(`set:${k}`,k,N,J);ce===void 0&&(ce=N),J===ce&&I.has(k)||(I.set(k,ce),this.fire(`change:${k}`,k,ce,J))}}),this[k]=d}bind(...k){if(!k.length||!xe(k))throw new S.ZP("observable-bind-wrong-properties",this);if(new Set(k).size!==k.length)throw new S.ZP("observable-bind-duplicate-properties",this);Ve(this);const d=this[dt];k.forEach(N=>{if(d.has(N))throw new S.ZP("observable-bind-rebind",this)});const I=new Map;return k.forEach(N=>{const J={property:N,to:[]};d.set(N,J),I.set(N,J)}),{to:Te,toMany:Q,_observable:this,_bindProperties:k,_to:[],_bindings:I}}unbind(...k){if(!this[lt])return;const d=this[dt],I=this[ut];if(k.length){if(!xe(k))throw new S.ZP("observable-unbind-wrong-properties",this);k.forEach(N=>{const J=d.get(N);J&&(J.to.forEach(([ce,pe])=>{const he=I.get(ce),ve=he[pe];ve.delete(J),ve.size||delete he[pe],Object.keys(he).length||(I.delete(ce),this.stopListening(ce,"change"))}),d.delete(N))})}else I.forEach((N,J)=>{this.stopListening(J,"change")}),I.clear(),d.clear()}decorate(k){Ve(this);const d=this[k];if(!d)throw new S.ZP("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:k});this.on(k,(I,N)=>{I.return=d.apply(this,N)}),this[k]=function(...I){return this.fire(k,I)},this[k][bt]=d,this[vt]||(this[vt]=[]),this[vt].push(k)}stopListening(k,d,I){if(!k&&this[vt]){for(const N of this[vt])this[N]=this[N][bt];delete this[vt]}super.stopListening(k,d,I)}}:Qe}function Ve(_e){_e[lt]||(Object.defineProperty(_e,lt,{value:new Map}),Object.defineProperty(_e,ut,{value:new Map}),Object.defineProperty(_e,dt,{value:new Map}))}function Te(..._e){const k=function(...J){if(!J.length)throw new S.ZP("observable-bind-to-parse-error",null);const ce={to:[]};let pe;return typeof J[J.length-1]=="function"&&(ce.callback=J.pop()),J.forEach(he=>{if(typeof he=="string")pe.properties.push(he);else{if(typeof he!="object")throw new S.ZP("observable-bind-to-parse-error",null);pe={observable:he,properties:[]},ce.to.push(pe)}}),ce}(..._e),d=Array.from(this._bindings.keys()),I=d.length;if(!k.callback&&k.to.length>1)throw new S.ZP("observable-bind-to-no-callback",this);if(I>1&&k.callback)throw new S.ZP("observable-bind-to-extra-callback",this);var N;k.to.forEach(J=>{if(J.properties.length&&J.properties.length!==I)throw new S.ZP("observable-bind-to-properties-length",this);J.properties.length||(J.properties=this._bindProperties)}),this._to=k.to,k.callback&&(this._bindings.get(d[0]).callback=k.callback),N=this._observable,this._to.forEach(J=>{const ce=N[ut];let pe;ce.get(J.observable)||N.listenTo(J.observable,"change",(he,ve)=>{pe=ce.get(J.observable)[ve],pe&&pe.forEach(Re=>{Oe(N,Re.property)})})}),function(J){let ce;J._bindings.forEach((pe,he)=>{J._to.forEach(ve=>{ce=ve.properties[pe.callback?0:J._bindProperties.indexOf(he)],pe.to.push([ve.observable,ce]),function(Re,We,Ye,pt){const Ct=Re[ut],St=Ct.get(Ye),xt=St||{};xt[pt]||(xt[pt]=new Set),xt[pt].add(We),St||Ct.set(Ye,xt)}(J._observable,pe,ve.observable,ce)})})}(this),this._bindProperties.forEach(J=>{Oe(this._observable,J)})}function Q(_e,k,d){if(this._bindings.size>1)throw new S.ZP("observable-bind-to-many-not-one-binding",this);this.to(...function(I,N){const J=I.map(ce=>[ce,N]);return Array.prototype.concat.apply([],J)}(_e,k),d)}function xe(_e){return _e.every(k=>typeof k=="string")}function Oe(_e,k){const d=_e[dt].get(k);let I;d.callback?I=d.callback.apply(_e,d.to.map(N=>N[0][N[1]])):(I=d.to[0],I=I[0][I[1]]),Object.prototype.hasOwnProperty.call(_e,k)?_e[k]=I:_e.set(k,I)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{ft[_e]=Qe.prototype[_e]});class Je{constructor(){this._replacedElements=[]}replace(k,d){this._replacedElements.push({element:k,newElement:d}),k.style.display="none",d&&k.parentNode.insertBefore(d,k.nextSibling)}restore(){this._replacedElements.forEach(({element:k,newElement:d})=>{k.style.display="",d&&d.remove()}),this._replacedElements=[]}}function $e(_e){let k=new AbortController;function d(...I){return k.abort(),k=new AbortController,_e(k.signal,...I)}return d.abort=()=>k.abort(),d}function tt(_e){let k=0;for(const d of _e)k++;return k}function st(_e,k){const d=Math.min(_e.length,k.length);for(let I=0;I<d;I++)if(_e[I]!=k[I])return I;return _e.length==k.length?"same":_e.length<k.length?"prefix":"extension"}function Pt(_e){return!(!_e||!_e[Symbol.iterator])}var Ft=l("./node_modules/lodash-es/_baseGetTag.js"),Gt=l("./node_modules/lodash-es/isArray.js"),ui=l("./node_modules/lodash-es/isObjectLike.js");const Vt=function(_e){return typeof _e=="string"||!(0,Gt.Z)(_e)&&(0,ui.Z)(_e)&&(0,Ft.Z)(_e)=="[object String]"};function ti(_e,k,d={},I=[]){const N=d&&d.xmlns,J=N?_e.createElementNS(N,k):_e.createElement(k);for(const ce in d)J.setAttribute(ce,d[ce]);!Vt(I)&&Pt(I)||(I=[I]);for(let ce of I)Vt(ce)&&(ce=_e.createTextNode(ce)),J.appendChild(ce);return J}var hi=l("./node_modules/lodash-es/isPlainObject.js"),Ci=l("./node_modules/lodash-es/cloneDeepWith.js"),Oi=l("./node_modules/lodash-es/isElement.js");class Di{constructor(k,d){this._config={},d&&this.define(Vi(d)),k&&this._setObjectToTarget(this._config,k)}set(k,d){this._setToTarget(this._config,k,d)}define(k,d){this._setToTarget(this._config,k,d,!0)}get(k){return this._getFromSource(this._config,k)}*names(){for(const k of Object.keys(this._config))yield k}_setToTarget(k,d,I,N=!1){if((0,hi.Z)(d))return void this._setObjectToTarget(k,d,N);const J=d.split(".");d=J.pop();for(const ce of J)(0,hi.Z)(k[ce])||(k[ce]={}),k=k[ce];if((0,hi.Z)(I))return(0,hi.Z)(k[d])||(k[d]={}),k=k[d],void this._setObjectToTarget(k,I,N);N&&k[d]!==void 0||(k[d]=I)}_getFromSource(k,d){const I=d.split(".");d=I.pop();for(const N of I){if(!(0,hi.Z)(k[N])){k=null;break}k=k[N]}return k?Vi(k[d]):void 0}_setObjectToTarget(k,d,I){Object.keys(d).forEach(N=>{this._setToTarget(k,N,d[N],I)})}}function Vi(_e){return(0,Ci.Z)(_e,Pi)}function Pi(_e){return(0,Oi.Z)(_e)||typeof _e=="function"?_e:void 0}function Zi(_e){if(_e){if(_e.defaultView)return _e instanceof _e.defaultView.Document;if(_e.ownerDocument&&_e.ownerDocument.defaultView)return _e instanceof _e.ownerDocument.defaultView.Node}return!1}function at(_e){const k=Object.prototype.toString.apply(_e);return k=="[object Window]"||k=="[object global]"}const ue=ye(j());function ye(_e){return _e?class extends _e{listenTo(k,d,I,N={}){if(Zi(k)||at(k)){const J={capture:!!N.useCapture,passive:!!N.usePassive},ce=this._getProxyEmitter(k,J)||new Le(k,J);this.listenTo(ce,d,I,N)}else super.listenTo(k,d,I,N)}stopListening(k,d,I){if(Zi(k)||at(k)){const N=this._getAllProxyEmitters(k);for(const J of N)this.stopListening(J,d,I)}else super.stopListening(k,d,I)}_getProxyEmitter(k,d){return function(I,N){const J=I[ae];return J&&J[N]?J[N].emitter:null}(this,Ge(k,d))}_getAllProxyEmitters(k){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(d=>this._getProxyEmitter(k,d)).filter(d=>!!d)}}:ue}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(_e=>{ye[_e]=ue.prototype[_e]});class Le extends j(){constructor(k,d){super(),Z(this,Ge(k,d)),this._domNode=k,this._options=d}attach(k){if(this._domListeners&&this._domListeners[k])return;const d=this._createDomListener(k);this._domNode.addEventListener(k,d,this._options),this._domListeners||(this._domListeners={}),this._domListeners[k]=d}detach(k){let d;!this._domListeners[k]||(d=this._events[k])&&d.callbacks.length||this._domListeners[k].removeListener()}_addEventListener(k,d,I){this.attach(k),j().prototype._addEventListener.call(this,k,d,I)}_removeEventListener(k,d){j().prototype._removeEventListener.call(this,k,d),this.detach(k)}_createDomListener(k){const d=I=>{this.fire(k,I)};return d.removeListener=()=>{this._domNode.removeEventListener(k,d,this._options),delete this._domListeners[k]},d}}function Ge(_e,k){let d=function(I){return I["data-ck-expando"]||(I["data-ck-expando"]=p())}(_e);for(const I of Object.keys(k).sort())k[I]&&(d+="-"+I);return d}let ot;try{ot={window,document}}catch{ot={window:{},document:{}}}const gt=ot;function Lt(_e){let k=_e.parentElement;if(!k)return null;for(;k.tagName!="BODY";){const d=k.style.overflowY||gt.window.getComputedStyle(k).overflowY;if(d==="auto"||d==="scroll")break;if(k=k.parentElement,!k)return null}return k}function Ot(_e){const k=[];let d=_e;for(;d&&d.nodeType!=Node.DOCUMENT_NODE;)k.unshift(d),d=d.parentNode;return k}function Ut(_e){return _e instanceof HTMLTextAreaElement?_e.value:_e.innerHTML}function oi(_e){const k=_e.ownerDocument.defaultView.getComputedStyle(_e);return{top:parseInt(k.borderTopWidth,10),right:parseInt(k.borderRightWidth,10),bottom:parseInt(k.borderBottomWidth,10),left:parseInt(k.borderLeftWidth,10)}}function ri(_e){return Object.prototype.toString.call(_e)=="[object Text]"}function wi(_e){return Object.prototype.toString.apply(_e)=="[object Range]"}function Ii(_e){return _e&&_e.parentNode?_e.offsetParent===gt.document.body?null:_e.offsetParent:null}const Li=["top","right","bottom","left","width","height"];class yi{constructor(k){const d=wi(k);if(Object.defineProperty(this,"_source",{value:k._source||k,writable:!0,enumerable:!1}),Mi(k)||d)if(d){const I=yi.getDomRangeRects(k);ji(this,yi.getBoundingRect(I))}else ji(this,k.getBoundingClientRect());else if(at(k)){const{innerWidth:I,innerHeight:N}=k;ji(this,{top:0,right:I,bottom:N,left:0,width:I,height:N})}else ji(this,k)}clone(){return new yi(this)}moveTo(k,d){return this.top=d,this.right=k+this.width,this.bottom=d+this.height,this.left=k,this}moveBy(k,d){return this.top+=d,this.right+=k,this.left+=k,this.bottom+=d,this}getIntersection(k){const d={top:Math.max(this.top,k.top),right:Math.min(this.right,k.right),bottom:Math.min(this.bottom,k.bottom),left:Math.max(this.left,k.left),width:0,height:0};if(d.width=d.right-d.left,d.height=d.bottom-d.top,d.width<0||d.height<0)return null;{const I=new yi(d);return I._source=this._source,I}}getIntersectionArea(k){const d=this.getIntersection(k);return d?d.getArea():0}getArea(){return this.width*this.height}getVisible(){const k=this._source;let d=this.clone();if(Ki(k))return d;let I,N=k,J=k.parentNode||k.commonAncestorContainer;for(;J&&!Ki(J);){const pe=((ce=J)instanceof HTMLElement?ce.ownerDocument.defaultView.getComputedStyle(ce).overflow:"visible")==="visible";N instanceof HTMLElement&&tn(N)==="absolute"&&(I=N);const he=tn(J);if(pe||I&&(he==="relative"&&pe||he!=="relative")){N=J,J=J.parentNode;continue}const ve=new yi(J),Re=d.getIntersection(ve);if(!Re)return null;Re.getArea()<d.getArea()&&(d=Re),N=J,J=J.parentNode}var ce;return d}isEqual(k){for(const d of Li)if(this[d]!==k[d])return!1;return!0}contains(k){const d=this.getIntersection(k);return!(!d||!d.isEqual(k))}toAbsoluteRect(){const{scrollX:k,scrollY:d}=gt.window,I=this.clone().moveBy(k,d);if(Mi(I._source)){const N=Ii(I._source);N&&function(J,ce){const pe=new yi(ce),he=oi(ce);let ve=0,Re=0;ve-=pe.left,Re-=pe.top,ve+=ce.scrollLeft,Re+=ce.scrollTop,ve-=he.left,Re-=he.top,J.moveBy(ve,Re)}(I,N)}return I}excludeScrollbarsAndBorders(){const k=this._source;let d,I,N;if(at(k))d=k.innerWidth-k.document.documentElement.clientWidth,I=k.innerHeight-k.document.documentElement.clientHeight,N=k.getComputedStyle(k.document.documentElement).direction;else{const J=oi(k);d=k.offsetWidth-k.clientWidth-J.left-J.right,I=k.offsetHeight-k.clientHeight-J.top-J.bottom,N=k.ownerDocument.defaultView.getComputedStyle(k).direction,this.left+=J.left,this.top+=J.top,this.right-=J.right,this.bottom-=J.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=d,N==="ltr"?this.right-=d:this.left+=d,this.height-=I,this.bottom-=I,this}static getDomRangeRects(k){const d=[],I=Array.from(k.getClientRects());if(I.length)for(const N of I)d.push(new yi(N));else{let N=k.startContainer;ri(N)&&(N=N.parentNode);const J=new yi(N.getBoundingClientRect());J.right=J.left,J.width=0,d.push(J)}return d}static getBoundingRect(k){const d={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let I=0;for(const N of k)I++,d.left=Math.min(d.left,N.left),d.top=Math.min(d.top,N.top),d.right=Math.max(d.right,N.right),d.bottom=Math.max(d.bottom,N.bottom);return I==0?null:(d.width=d.right-d.left,d.height=d.bottom-d.top,new yi(d))}}function ji(_e,k){for(const d of Li)_e[d]=k[d]}function Ki(_e){return!!Mi(_e)&&_e===_e.ownerDocument.body}function Mi(_e){return _e!==null&&typeof _e=="object"&&_e.nodeType===1&&typeof _e.getBoundingClientRect=="function"}function tn(_e){return _e instanceof HTMLElement?_e.ownerDocument.defaultView.getComputedStyle(_e).position:"static"}const Zt=class{constructor(_e,k){Zt._observerInstance||Zt._createObserver(),this._element=_e,this._callback=k,Zt._addElementCallback(_e,k),Zt._observerInstance.observe(_e)}get element(){return this._element}destroy(){Zt._deleteElementCallback(this._element,this._callback)}static _addElementCallback(_e,k){Zt._elementCallbacks||(Zt._elementCallbacks=new Map);let d=Zt._elementCallbacks.get(_e);d||(d=new Set,Zt._elementCallbacks.set(_e,d)),d.add(k)}static _deleteElementCallback(_e,k){const d=Zt._getElementCallbacks(_e);d&&(d.delete(k),d.size||(Zt._elementCallbacks.delete(_e),Zt._observerInstance.unobserve(_e))),Zt._elementCallbacks&&!Zt._elementCallbacks.size&&(Zt._observerInstance=null,Zt._elementCallbacks=null)}static _getElementCallbacks(_e){return Zt._elementCallbacks?Zt._elementCallbacks.get(_e):null}static _createObserver(){Zt._observerInstance=new gt.window.ResizeObserver(_e=>{for(const k of _e){const d=Zt._getElementCallbacks(k.target);if(d)for(const I of d)I(k)}})}};let wn=Zt;function Ne(_e,k){_e instanceof HTMLTextAreaElement&&(_e.value=k),_e.innerHTML=k}function H(_e){return k=>k+_e}function X(_e){let k=0;for(;_e.previousSibling;)_e=_e.previousSibling,k++;return k}function se(_e,k,d){_e.insertBefore(d,_e.childNodes[k]||null)}function be(_e){return _e&&_e.nodeType===Node.COMMENT_NODE}function ht(_e){try{gt.document.createAttribute(_e)}catch{return!1}return!0}function Rt(_e){return!!(_e&&_e.getClientRects&&_e.getClientRects().length)}wn._observerInstance=null,wn._elementCallbacks=null;var Yt=l("./node_modules/lodash-es/isFunction.js"),_t=Math.pow;function Ce({element:_e,target:k,positions:d,limiter:I,fitInViewport:N,viewportOffsetConfig:J}){(0,Yt.Z)(k)&&(k=k()),(0,Yt.Z)(I)&&(I=I());const ce=Ii(_e),pe=function(Ye){Ye=Object.assign({top:0,bottom:0,left:0,right:0},Ye);const pt=new yi(gt.window);return pt.top+=Ye.top,pt.height-=Ye.top,pt.bottom-=Ye.bottom,pt.height-=Ye.bottom,pt}(J),he=new yi(_e),ve=ze(k,pe);let Re;if(!ve||!pe.getIntersection(ve))return null;const We={targetRect:ve,elementRect:he,positionedElementAncestor:ce,viewportRect:pe};if(I||N){if(I){const Ye=ze(I,pe);Ye&&(We.limiterRect=Ye)}Re=function(Ye,pt){const{elementRect:Ct}=pt,St=Ct.getArea(),xt=Ye.map(bi=>new nt(bi,pt)).filter(bi=>!!bi.name);let ii=0,Jt=null;for(const bi of xt){const{limiterIntersectionArea:Si,viewportIntersectionArea:Hi}=bi;if(Si===St)return bi;const sn=_t(Hi,2)+_t(Si,2);sn>ii&&(ii=sn,Jt=bi)}return Jt}(d,We)}else Re=new nt(d[0],We);return Re}function ze(_e,k){const d=new yi(_e).getVisible();return d?d.getIntersection(k):null}class nt{constructor(k,d){const I=k(d.targetRect,d.elementRect,d.viewportRect,d.limiterRect);if(!I)return;const{left:N,top:J,name:ce,config:pe}=I;this.name=ce,this.config=pe,this._positioningFunctionCoordinates={left:N,top:J},this._options=d}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const k=this._options.limiterRect;return k?k.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Ke(_e){const k=_e.parentNode;k&&k.removeChild(_e)}function yt({target:_e,viewportOffset:k=0,ancestorOffset:d=0,alignToTop:I,forceScroll:N}){const J=rn(_e);let ce=J,pe=null;for(k=function(he){return typeof he=="number"?{top:he,bottom:he,left:he,right:he}:he}(k);ce;){let he;he=$i(ce==J?_e:pe),ki({parent:he,getRect:()=>hn(_e,ce),alignToTop:I,ancestorOffset:d,forceScroll:N});const ve=hn(_e,ce);if(ni({window:ce,rect:ve,viewportOffset:k,alignToTop:I,forceScroll:N}),ce.parent!=ce){if(pe=ce.frameElement,ce=ce.parent,!pe)return}else ce=null}}function si(_e,k,d){ki({parent:$i(_e),getRect:()=>new yi(_e),ancestorOffset:k,limiterElement:d})}function ni({window:_e,rect:k,alignToTop:d,forceScroll:I,viewportOffset:N}){const J=k.clone().moveBy(0,N.bottom),ce=k.clone().moveBy(0,-N.top),pe=new yi(_e).excludeScrollbarsAndBorders(),he=d&&I,ve=[ce,J].every(Ct=>pe.contains(Ct));let{scrollX:Re,scrollY:We}=_e;const Ye=Re,pt=We;he?We-=pe.top-k.top+N.top:ve||(Ti(ce,pe)?We-=pe.top-k.top+N.top:di(J,pe)&&(We+=d?k.top-pe.top-N.top:k.bottom-pe.bottom+N.bottom)),ve||(Ni(k,pe)?Re-=pe.left-k.left+N.left:Gi(k,pe)&&(Re+=k.right-pe.right+N.right)),Re==Ye&&We===pt||_e.scrollTo(Re,We)}function ki({parent:_e,getRect:k,alignToTop:d,forceScroll:I,ancestorOffset:N=0,limiterElement:J}){const ce=rn(_e),pe=d&&I;let he,ve,Re;const We=J||ce.document.body;for(;_e!=We;)ve=k(),he=new yi(_e).excludeScrollbarsAndBorders(),Re=he.contains(ve),pe?_e.scrollTop-=he.top-ve.top+N:Re||(Ti(ve,he)?_e.scrollTop-=he.top-ve.top+N:di(ve,he)&&(_e.scrollTop+=d?ve.top-he.top-N:ve.bottom-he.bottom+N)),Re||(Ni(ve,he)?_e.scrollLeft-=he.left-ve.left+N:Gi(ve,he)&&(_e.scrollLeft+=ve.right-he.right+N)),_e=_e.parentNode}function di(_e,k){return _e.bottom>k.bottom}function Ti(_e,k){return _e.top<k.top}function Ni(_e,k){return _e.left<k.left}function Gi(_e,k){return _e.right>k.right}function rn(_e){return wi(_e)?_e.startContainer.ownerDocument.defaultView:_e.ownerDocument.defaultView}function $i(_e){if(wi(_e)){let k=_e.commonAncestorContainer;return ri(k)&&(k=k.parentNode),k}return _e.parentNode}function hn(_e,k){const d=rn(_e),I=new yi(_e);if(d===k)return I;{let N=d;for(;N!=k;){const J=N.frameElement,ce=new yi(J).excludeScrollbarsAndBorders();I.moveBy(ce.left,ce.top),N=N.parent}}return I}const kn={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21E7"},qn={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},on=function(){const _e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let k=65;k<=90;k++)_e[String.fromCharCode(k).toLowerCase()]=k;for(let k=48;k<=57;k++)_e[k-48]=k;for(let k=112;k<=123;k++)_e["f"+(k-111)]=k;for(const k of"`-=[];',./\\")_e[k]=k.charCodeAt(0);return _e}(),En=Object.fromEntries(Object.entries(on).map(([_e,k])=>[k,_e.charAt(0).toUpperCase()+_e.slice(1)]));function In(_e){let k;if(typeof _e=="string"){if(k=on[_e.toLowerCase()],!k)throw new S.ZP("keyboard-unknown-key",null,{key:_e})}else k=_e.keyCode+(_e.altKey?on.alt:0)+(_e.ctrlKey?on.ctrl:0)+(_e.shiftKey?on.shift:0)+(_e.metaKey?on.cmd:0);return k}function Yn(_e){return typeof _e=="string"&&(_e=function(k){return k.split("+").map(d=>d.trim())}(_e)),_e.map(k=>typeof k=="string"?function(d){if(d.endsWith("!"))return In(d.slice(0,-1));const I=In(d);return(B.isMac||B.isiOS)&&I==on.ctrl?on.cmd:I}(k):k).reduce((k,d)=>d+k,0)}function ur(_e){let k=Yn(_e);return Object.entries(B.isMac||B.isiOS?kn:qn).reduce((d,[I,N])=>(k&on[I]&&(k&=~on[I],d+=N),d),"")+(k?En[k]:"")}function rr(_e){return _e==on.arrowright||_e==on.arrowleft||_e==on.arrowup||_e==on.arrowdown}function or(_e,k){const d=k==="ltr";switch(_e){case on.arrowleft:return d?"left":"right";case on.arrowright:return d?"right":"left";case on.arrowup:return"up";case on.arrowdown:return"down"}}function Ht(_e,k){const d=or(_e,k);return d==="down"||d==="right"}const K=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Ae(_e){return K.includes(_e)?"rtl":"ltr"}function Ue(_e){return Array.isArray(_e)?_e:[_e]}function Be(_e,k,d=1){if(typeof d!="number")throw new S.ZP("translation-service-quantity-not-a-number",null,{quantity:d});const I=Object.keys(gt.window.CKEDITOR_TRANSLATIONS).length;I===1&&(_e=Object.keys(gt.window.CKEDITOR_TRANSLATIONS)[0]);const N=k.id||k.string;if(I===0||!function(he,ve){return!!gt.window.CKEDITOR_TRANSLATIONS[he]&&!!gt.window.CKEDITOR_TRANSLATIONS[he].dictionary[ve]}(_e,N))return d!==1?k.plural:k.string;const J=gt.window.CKEDITOR_TRANSLATIONS[_e].dictionary,ce=gt.window.CKEDITOR_TRANSLATIONS[_e].getPluralForm||(he=>he===1?0:1),pe=J[N];return typeof pe=="string"?pe:pe[Number(ce(d))]}gt.window.CKEDITOR_TRANSLATIONS||(gt.window.CKEDITOR_TRANSLATIONS={});class et{constructor({uiLanguage:k="en",contentLanguage:d}={}){this.uiLanguage=k,this.contentLanguage=d||this.uiLanguage,this.uiLanguageDirection=Ae(this.uiLanguage),this.contentLanguageDirection=Ae(this.contentLanguage),this.t=(I,N)=>this._t(I,N)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(k,d=[]){d=Ue(d),typeof k=="string"&&(k={string:k});const I=k.plural?d[0]:1;return function(N,J){return N.replace(/%(\d+)/g,(ce,pe)=>pe<J.length?J[pe]:ce)}(Be(this.uiLanguage,k,I),d)}}class Xe extends j(){constructor(k={},d={}){super();const I=Pt(k);if(I||(d=k),this._items=[],this._itemMap=new Map,this._idProperty=d.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],I)for(const N of k)this._items.push(N),this._itemMap.set(this._getItemIdBeforeAdding(N),N)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(k,d){return this.addMany([k],d)}addMany(k,d){if(d===void 0)d=this._items.length;else if(d>this._items.length||d<0)throw new S.ZP("collection-add-item-invalid-index",this);let I=0;for(const N of k){const J=this._getItemIdBeforeAdding(N),ce=d+I;this._items.splice(ce,0,N),this._itemMap.set(J,N),this.fire("add",N,ce),I++}return this.fire("change",{added:k,removed:[],index:d}),this}get(k){let d;if(typeof k=="string")d=this._itemMap.get(k);else{if(typeof k!="number")throw new S.ZP("collection-get-invalid-arg",this);d=this._items[k]}return d||null}has(k){if(typeof k=="string")return this._itemMap.has(k);{const d=k[this._idProperty];return d&&this._itemMap.has(d)}}getIndex(k){let d;return d=typeof k=="string"?this._itemMap.get(k):k,d?this._items.indexOf(d):-1}remove(k){const[d,I]=this._remove(k);return this.fire("change",{added:[],removed:[d],index:I}),d}map(k,d){return this._items.map(k,d)}forEach(k,d){this._items.forEach(k,d)}find(k,d){return this._items.find(k,d)}filter(k,d){return this._items.filter(k,d)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const k=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:k,index:0})}bindTo(k){if(this._bindToCollection)throw new S.ZP("collection-bind-to-rebind",this);return this._bindToCollection=k,{as:d=>{this._setUpBindToBinding(I=>new d(I))},using:d=>{typeof d=="function"?this._setUpBindToBinding(d):this._setUpBindToBinding(I=>I[d])}}}_setUpBindToBinding(k){const d=this._bindToCollection,I=(N,J,ce)=>{const pe=d._bindToCollection==this,he=d._bindToInternalToExternalMap.get(J);if(pe&&he)this._bindToExternalToInternalMap.set(J,he),this._bindToInternalToExternalMap.set(he,J);else{const ve=k(J);if(!ve)return void this._skippedIndexesFromExternal.push(ce);let Re=ce;for(const We of this._skippedIndexesFromExternal)ce>We&&Re--;for(const We of d._skippedIndexesFromExternal)Re>=We&&Re++;this._bindToExternalToInternalMap.set(J,ve),this._bindToInternalToExternalMap.set(ve,J),this.add(ve,Re);for(let We=0;We<d._skippedIndexesFromExternal.length;We++)Re<=d._skippedIndexesFromExternal[We]&&d._skippedIndexesFromExternal[We]++}};for(const N of d)I(0,N,d.getIndex(N));this.listenTo(d,"add",I),this.listenTo(d,"remove",(N,J,ce)=>{const pe=this._bindToExternalToInternalMap.get(J);pe&&this.remove(pe),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((he,ve)=>(ce<ve&&he.push(ve-1),ce>ve&&he.push(ve),he),[])})}_getItemIdBeforeAdding(k){const d=this._idProperty;let I;if(d in k){if(I=k[d],typeof I!="string")throw new S.ZP("collection-add-invalid-id",this);if(this.get(I))throw new S.ZP("collection-add-item-already-exists",this)}else k[d]=I=p();return I}_remove(k){let d,I,N,J=!1;const ce=this._idProperty;if(typeof k=="string"?(I=k,N=this._itemMap.get(I),J=!N,N&&(d=this._items.indexOf(N))):typeof k=="number"?(d=k,N=this._items[d],J=!N,N&&(I=N[ce])):(N=k,I=N[ce],d=this._items.indexOf(N),J=d==-1||!this._itemMap.get(I)),J)throw new S.ZP("collection-remove-404",this);this._items.splice(d,1),this._itemMap.delete(I);const pe=this._bindToInternalToExternalMap.get(N);return this._bindToInternalToExternalMap.delete(N),this._bindToExternalToInternalMap.delete(pe),this.fire("remove",N,d),[N,d]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Et(_e){const k=_e.next();return k.done?null:k.value}class kt extends ye(ft()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(k){if(this._elements.has(k))throw new S.ZP("focustracker-add-element-already-exist",this);this.listenTo(k,"focus",()=>this._focus(k),{useCapture:!0}),this.listenTo(k,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(k)}remove(k){k===this.focusedElement&&this._blur(),this._elements.has(k)&&(this.stopListening(k),this._elements.delete(k))}destroy(){this.stopListening()}_focus(k){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=k,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class At{constructor(){this._listener=new(ye())}listenTo(k){this._listener.listenTo(k,"keydown",(d,I)=>{this._listener.fire("_keydown:"+In(I),I)})}set(k,d,I={}){const N=Yn(k),J=I.priority;this._listener.listenTo(this._listener,"_keydown:"+N,(ce,pe)=>{d(pe,()=>{pe.preventDefault(),pe.stopPropagation(),ce.stop()}),ce.return=!0},{priority:J})}press(k){return!!this._listener.fire("_keydown:"+In(k),k)}stopListening(k){this._listener.stopListening(k)}destroy(){this.stopListening()}}function Dt(_e){return Pt(_e)?new Map(_e):function(k){const d=new Map;for(const I in k)d.set(I,k[I]);return d}(_e)}function Wt(_e,k={}){return new Promise((d,I)=>{const N=k.signal||new AbortController().signal;N.throwIfAborted();const J=setTimeout(function(){N.removeEventListener("abort",ce),d()},_e);function ce(){clearTimeout(J),I(N.reason)}N.addEventListener("abort",ce,{once:!0})})}var mi=Math.pow,ai=(_e,k,d)=>new Promise((I,N)=>{var J=he=>{try{pe(d.next(he))}catch(ve){N(ve)}},ce=he=>{try{pe(d.throw(he))}catch(ve){N(ve)}},pe=he=>he.done?I(he.value):Promise.resolve(he.value).then(J,ce);pe((d=d.apply(_e,k)).next())});function gi(_e){return ai(this,arguments,function*(k,d={}){const{maxAttempts:I=4,retryDelay:N=Ri(),signal:J=new AbortController().signal}=d;J.throwIfAborted();for(let ce=0;;ce++){try{return yield k()}catch(pe){if(ce+1>=I)throw pe}yield Wt(N(ce),{signal:J})}})}function Ri(_e={}){const{delay:k=1e3,factor:d=2,maxDelay:I=1e4}=_e;return N=>Math.min(mi(d,N)*k,I)}const Qi=1e4;function Pn(_e,k,d,I){if(Math.max(k.length,_e.length)>Qi)return _e.slice(0,d).concat(k).concat(_e.slice(d+I,_e.length));{const N=Array.from(_e);return N.splice(d,I,...k),N}}function Mn(_e,k){let d;function I(...N){I.cancel(),d=setTimeout(()=>_e(...N),k)}return I.cancel=()=>{clearTimeout(d)},I}function Qn(_e){function k(We){return We.length>=40&&We.length<=255?"VALID":"INVALID"}if(!_e)return"INVALID";let d="";try{d=atob(_e)}catch{return"INVALID"}const I=d.split("-"),N=I[0],J=I[1];if(!J)return k(_e);try{atob(J)}catch{try{if(atob(N),!atob(N).length)return k(_e)}catch{return k(_e)}}if(N.length<40||N.length>255)return"INVALID";let ce="";try{atob(N),ce=atob(J)}catch{return"INVALID"}if(ce.length!==8)return"INVALID";const pe=Number(ce.substring(0,4)),he=Number(ce.substring(4,6))-1,ve=Number(ce.substring(6,8)),Re=new Date(pe,he,ve);return Re<T.D||isNaN(Number(Re))?"INVALID":"VALID"}function Kn(_e){return!!_e&&_e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(_e)}function Rn(_e){return!!_e&&_e.length==1&&/[\ud800-\udbff]/.test(_e)}function hr(_e){return!!_e&&_e.length==1&&/[\udc00-\udfff]/.test(_e)}function yr(_e,k){return Rn(_e.charAt(k-1))&&hr(_e.charAt(k))}function Nn(_e,k){return Kn(_e.charAt(k))}const sr=function(){const _e=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],k=new RegExp("\\p{Regional_Indicator}{2}","u").source,d="(?:"+_e.map(I=>I.source).join("|")+")";return new RegExp(`${k}|${d}(?:\u200D${d})*`,"ug")}();function zn(_e,k){const d=String(_e).matchAll(sr);return Array.from(d).some(I=>I.index<k&&k<I.index+I[0].length)}},"./packages/ckeditor5-utils/src/version.ts":(w,C,l)=>{"use strict";l.d(C,{D:()=>y,Z:()=>B});var c=l("./packages/ckeditor5-utils/src/ckeditorerror.ts");const L="40.2.0",B=L,y=new Date(2023,11,12);if(globalThis.CKEDITOR_VERSION)throw new c.ZP("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=L},"./packages/ckeditor5-widget/src/index.ts":(w,C,l)=>{"use strict";l.d(C,{s4:()=>u,Uo:()=>_,$L:()=>Q,WR:()=>Zi,e8:()=>Oe,Ww:()=>vt,KT:()=>f,id:()=>$,Qd:()=>p,em:()=>S,l6:()=>ae,XC:()=>v,sC:()=>z,$n:()=>j});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-engine/src/index.ts"),B=l("./packages/ckeditor5-typing/src/index.ts"),y=l("./packages/ckeditor5-utils/src/index.ts"),h=l("./packages/ckeditor5-ui/src/index.ts"),V=l("./packages/ckeditor5-enter/src/index.ts");class q extends(0,y.ln)(){constructor(){super(...arguments),this._stack=[]}add(ue,ye){const Le=this._stack,Ge=Le[0];this._insertDescriptor(ue);const ot=Le[0];Ge===ot||Y(Ge,ot)||this.fire("change:top",{oldDescriptor:Ge,newDescriptor:ot,writer:ye})}remove(ue,ye){const Le=this._stack,Ge=Le[0];this._removeDescriptor(ue);const ot=Le[0];Ge===ot||Y(Ge,ot)||this.fire("change:top",{oldDescriptor:Ge,newDescriptor:ot,writer:ye})}_insertDescriptor(ue){const ye=this._stack,Le=ye.findIndex(ot=>ot.id===ue.id);if(Y(ue,ye[Le]))return;Le>-1&&ye.splice(Le,1);let Ge=0;for(;ye[Ge]&&ee(ye[Ge],ue);)Ge++;ye.splice(Ge,0,ue)}_removeDescriptor(ue){const ye=this._stack,Le=ye.findIndex(Ge=>Ge.id===ue);Le>-1&&ye.splice(Le,1)}}function Y(at,ue){return at&&ue&&at.priority==ue.priority&&re(at.classes)==re(ue.classes)}function ee(at,ue){return at.priority>ue.priority||!(at.priority<ue.priority)&&re(at.classes)>re(ue.classes)}function re(at){return Array.isArray(at)?at.sort().join(","):at}const ie='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',u="ck-widget",_="ck-widget_selected";function p(at){return!!at.is("element")&&!!at.getCustomProperty("widget")}function v(at,ue,ye={}){if(!at.is("containerElement"))throw new y.Bb("widget-to-widget-wrong-element-type",null,{element:at});return ue.setAttribute("contenteditable","false",at),ue.addClass(u,at),ue.setCustomProperty("widget",!0,at),at.getFillerOffset=Z,ue.setCustomProperty("widgetLabel",[],at),ye.label&&ae(at,ye.label),ye.hasSelectionHandle&&function(Le,Ge){const ot=Ge.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(gt){const Lt=this.toDomElement(gt),Ot=new h.mO;return Ot.set("content",ie),Ot.render(),Lt.appendChild(Ot.element),Lt});Ge.insert(Ge.createPositionAt(Le,0),ot),Ge.addClass(["ck-widget_with-selection-handle"],Le)}(at,ue),S(at,ue),at}function A(at,ue,ye){if(ue.classes&&ye.addClass((0,y.qo)(ue.classes),at),ue.attributes)for(const Le in ue.attributes)ye.setAttribute(Le,ue.attributes[Le],at)}function T(at,ue,ye){if(ue.classes&&ye.removeClass((0,y.qo)(ue.classes),at),ue.attributes)for(const Le in ue.attributes)ye.removeAttribute(Le,at)}function S(at,ue,ye=A,Le=T){const Ge=new q;Ge.on("change:top",(ot,gt)=>{gt.oldDescriptor&&Le(at,gt.oldDescriptor,gt.writer),gt.newDescriptor&&ye(at,gt.newDescriptor,gt.writer)}),ue.setCustomProperty("addHighlight",(ot,gt,Lt)=>Ge.add(gt,Lt),at),ue.setCustomProperty("removeHighlight",(ot,gt,Lt)=>Ge.remove(gt,Lt),at)}function ae(at,ue){at.getCustomProperty("widgetLabel").push(ue)}function $(at){return at.getCustomProperty("widgetLabel").reduce((ue,ye)=>typeof ye=="function"?ue?ue+". "+ye():ye():ue?ue+". "+ye:ye,"")}function z(at,ue,ye={}){return ue.addClass(["ck-editor__editable","ck-editor__nested-editable"],at),ue.setAttribute("role","textbox",at),ye.label&&ue.setAttribute("aria-label",ye.label,at),ue.setAttribute("contenteditable",at.isReadOnly?"false":"true",at),at.on("change:isReadOnly",(Le,Ge,ot)=>{ue.setAttribute("contenteditable",ot?"false":"true",at)}),at.on("change:isFocused",(Le,Ge,ot)=>{ot?ue.addClass("ck-editor__nested-editable_focused",at):ue.removeClass("ck-editor__nested-editable_focused",at)}),S(at,ue),at}function f(at,ue){const ye=at.getSelectedElement();if(ye){const Le=Se(at);if(Le)return ue.createRange(ue.createPositionAt(ye,Le))}return(0,L.KT)(at,ue)}function j(at,ue){return(ye,Le)=>{const{mapper:Ge,viewPosition:ot}=Le,gt=Ge.findMappedViewAncestor(ot);if(!ue(gt))return;const Lt=Ge.toModelElement(gt);Le.modelPosition=at.createPositionAt(Lt,ot.isAtStart?"before":"after")}}function Z(){return null}const D="widget-type-around";function oe(at,ue,ye){return!!at&&p(at)&&!ye.isInline(ue)}function Se(at){return at.getAttribute(D)}var je=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ie=l.n(je),De=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgettypearound.css"),mt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ie()(De.Z,mt),De.Z.locals;const lt=["before","after"],ut=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,dt="ck-widget__type-around_disabled";class vt extends c.Sy{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[V.C,B.HG]}init(){const ue=this.editor,ye=ue.editing.view;this.on("change:isEnabled",(Le,Ge,ot)=>{ye.change(gt=>{for(const Lt of ye.document.roots)ot?gt.removeClass(dt,Lt):gt.addClass(dt,Lt)}),ot||ue.model.change(gt=>{gt.removeSelectionAttribute(D)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(ue,ye){const Le=this.editor,Ge=Le.editing.view,ot=Le.model.schema.getAttributesWithProperty(ue,"copyOnReplace",!0);Le.execute("insertParagraph",{position:Le.model.createPositionAt(ue,ye),attributes:ot}),Ge.focus(),Ge.scrollToTheSelection()}_listenToIfEnabled(ue,ye,Le,Ge){this.listenTo(ue,ye,(...ot)=>{this.isEnabled&&Le(...ot)},Ge)}_insertParagraphAccordingToFakeCaretPosition(){const ue=this.editor.model.document.selection,ye=Se(ue);if(!ye)return!1;const Le=ue.getSelectedElement();return this._insertParagraph(Le,ye),!0}_enableTypeAroundUIInjection(){const ue=this.editor,ye=ue.model.schema,Le=ue.locale.t,Ge={before:Le("Insert paragraph before block"),after:Le("Insert paragraph after block")};ue.editing.downcastDispatcher.on("insert",(ot,gt,Lt)=>{const Ot=Lt.mapper.toViewElement(gt.item);Ot&&oe(Ot,gt.item,ye)&&(function(Ut,oi,ri){const wi=Ut.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Ii){const Li=this.toDomElement(Ii);return function(yi,ji){for(const Ki of lt){const Mi=new h.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Ki}`],title:ji[Ki],"aria-hidden":"true"},children:[yi.ownerDocument.importNode(ut,!0)]});yi.appendChild(Mi.render())}}(Li,oi),function(yi){const ji=new h.YS({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});yi.appendChild(ji.render())}(Li),Li});Ut.insert(Ut.createPositionAt(ri,"end"),wi)}(Lt.writer,Ge,Ot),Ot.getCustomProperty("widgetLabel").push(()=>this.isEnabled?Le("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const ue=this.editor,ye=ue.model,Le=ye.document.selection,Ge=ye.schema,ot=ue.editing.view;function gt(Lt){return`ck-widget_type-around_show-fake-caret_${Lt}`}this._listenToIfEnabled(ot.document,"arrowKey",(Lt,Ot)=>{this._handleArrowKeyPress(Lt,Ot)},{context:[p,"$text"],priority:"high"}),this._listenToIfEnabled(Le,"change:range",(Lt,Ot)=>{Ot.directChange&&ue.model.change(Ut=>{Ut.removeSelectionAttribute(D)})}),this._listenToIfEnabled(ye.document,"change:data",()=>{const Lt=Le.getSelectedElement();Lt&&oe(ue.editing.mapper.toViewElement(Lt),Lt,Ge)||ue.model.change(Ot=>{Ot.removeSelectionAttribute(D)})}),this._listenToIfEnabled(ue.editing.downcastDispatcher,"selection",(Lt,Ot,Ut)=>{const oi=Ut.writer;if(this._currentFakeCaretModelElement){const Li=Ut.mapper.toViewElement(this._currentFakeCaretModelElement);Li&&(oi.removeClass(lt.map(gt),Li),this._currentFakeCaretModelElement=null)}const ri=Ot.selection.getSelectedElement();if(!ri)return;const wi=Ut.mapper.toViewElement(ri);if(!oe(wi,ri,Ge))return;const Ii=Se(Ot.selection);Ii&&(oi.addClass(gt(Ii),wi),this._currentFakeCaretModelElement=ri)}),this._listenToIfEnabled(ue.ui.focusTracker,"change:isFocused",(Lt,Ot,Ut)=>{Ut||ue.model.change(oi=>{oi.removeSelectionAttribute(D)})})}_handleArrowKeyPress(ue,ye){const Le=this.editor,Ge=Le.model,ot=Ge.document.selection,gt=Ge.schema,Lt=Le.editing.view,Ot=ye.keyCode,Ut=(0,y.Zt)(Ot,Le.locale.contentLanguageDirection),oi=Lt.document.selection.getSelectedElement();let ri;oe(oi,Le.editing.mapper.toModelElement(oi),gt)?ri=this._handleArrowKeyPressOnSelectedWidget(Ut):ot.isCollapsed?ri=this._handleArrowKeyPressWhenSelectionNextToAWidget(Ut):ye.shiftKey||(ri=this._handleArrowKeyPressWhenNonCollapsedSelection(Ut)),ri&&(ye.preventDefault(),ue.stop())}_handleArrowKeyPressOnSelectedWidget(ue){const ye=this.editor.model,Le=Se(ye.document.selection);return ye.change(Ge=>Le?Le!==(ue?"after":"before")?(Ge.removeSelectionAttribute(D),!0):!1:(Ge.setSelectionAttribute(D,ue?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(ue){const ye=this.editor,Le=ye.model,Ge=Le.schema,ot=ye.plugins.get("Widget"),gt=ot._getObjectElementNextToSelection(ue);return!!oe(ye.editing.mapper.toViewElement(gt),gt,Ge)&&(Le.change(Lt=>{ot._setSelectionOverElement(gt),Lt.setSelectionAttribute(D,ue?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(ue){const ye=this.editor,Le=ye.model,Ge=Le.schema,ot=ye.editing.mapper,gt=Le.document.selection,Lt=ue?gt.getLastPosition().nodeBefore:gt.getFirstPosition().nodeAfter;return!!oe(ot.toViewElement(Lt),Lt,Ge)&&(Le.change(Ot=>{Ot.setSelection(Lt,"on"),Ot.setSelectionAttribute(D,ue?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const ue=this.editor,ye=ue.editing.view;this._listenToIfEnabled(ye.document,"mousedown",(Le,Ge)=>{const ot=Ge.domTarget.closest(".ck-widget__type-around__button");if(!ot)return;const gt=function(Ut){return Ut.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(ot),Lt=function(Ut,oi){const ri=Ut.closest(".ck-widget");return oi.mapDomToView(ri)}(ot,ye.domConverter),Ot=ue.editing.mapper.toModelElement(Lt);this._insertParagraph(Ot,gt),Ge.preventDefault(),Le.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const ue=this.editor,ye=ue.model.document.selection,Le=ue.editing.view;this._listenToIfEnabled(Le.document,"enter",(Ge,ot)=>{if(Ge.eventPhase!="atTarget")return;const gt=ye.getSelectedElement(),Lt=ue.editing.mapper.toViewElement(gt),Ot=ue.model.schema;let Ut;this._insertParagraphAccordingToFakeCaretPosition()?Ut=!0:oe(Lt,gt,Ot)&&(this._insertParagraph(gt,ot.isSoft?"before":"after"),Ut=!0),Ut&&(ot.preventDefault(),Ge.stop())},{context:p})}_enableInsertingParagraphsOnTypingKeystroke(){const ue=this.editor.editing.view.document;this._listenToIfEnabled(ue,"insertText",(ye,Le)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(Le.selection=ue.selection)},{priority:"high"}),y.OB.isAndroid?this._listenToIfEnabled(ue,"keydown",(ye,Le)=>{Le.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(ue,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const ue=this.editor,ye=ue.editing.view,Le=ue.model,Ge=Le.schema;this._listenToIfEnabled(ye.document,"delete",(ot,gt)=>{if(ot.eventPhase!="atTarget")return;const Lt=Se(Le.document.selection);if(!Lt)return;const Ot=gt.direction,Ut=Le.document.selection.getSelectedElement(),oi=Ot=="forward";if(Lt==="before"===oi)ue.execute("delete",{selection:Le.createSelection(Ut,"on")});else{const ri=Ge.getNearestSelectionRange(Le.createPositionAt(Ut,Lt),Ot);if(ri)if(ri.isCollapsed){const wi=Le.createSelection(ri.start);if(Le.modifySelection(wi,{direction:Ot}),wi.focus.isEqual(ri.start)){const Ii=function(Li,yi){let ji=yi;for(const Ki of yi.getAncestors({parentFirst:!0})){if(Ki.childCount>1||Li.isLimit(Ki))break;ji=Ki}return ji}(Ge,ri.start.parent);Le.deleteContent(Le.createSelection(Ii,"on"),{doNotAutoparagraph:!0})}else Le.change(Ii=>{Ii.setSelection(ri),ue.execute(oi?"deleteForward":"delete")})}else Le.change(wi=>{wi.setSelection(ri),ue.execute(oi?"deleteForward":"delete")})}gt.preventDefault(),ot.stop()},{context:p})}_enableInsertContentIntegration(){const ue=this.editor,ye=this.editor.model,Le=ye.document.selection;this._listenToIfEnabled(ue.model,"insertContent",(Ge,[ot,gt])=>{if(gt&&!gt.is("documentSelection"))return;const Lt=Se(Le);return Lt?(Ge.stop(),ye.change(Ot=>{const Ut=Le.getSelectedElement(),oi=ye.createPositionAt(Ut,Lt),ri=Ot.createSelection(oi),wi=ye.insertContent(ot,ri);return Ot.setSelection(ri),wi})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const ue=this.editor,ye=this.editor.model.document.selection;this._listenToIfEnabled(ue.model,"insertObject",(Le,Ge)=>{const[,ot,gt={}]=Ge;if(ot&&!ot.is("documentSelection"))return;const Lt=Se(ye);Lt&&(gt.findOptimalPosition=Lt,Ge[3]=gt)},{priority:"high"})}_enableDeleteContentIntegration(){const ue=this.editor,ye=this.editor.model.document.selection;this._listenToIfEnabled(ue.model,"deleteContent",(Le,[Ge])=>{Ge&&!Ge.is("documentSelection")||Se(ye)&&Le.stop()},{priority:"high"})}}function bt(at){const ue=at.model;return(ye,Le)=>{const Ge=Le.keyCode==y.Do.arrowup,ot=Le.keyCode==y.Do.arrowdown,gt=Le.shiftKey,Lt=ue.document.selection;if(!Ge&&!ot)return;const Ot=ot;if(gt&&function(oi,ri){return!oi.isCollapsed&&oi.isBackward==ri}(Lt,Ot))return;const Ut=function(oi,ri,wi){const Ii=oi.model;if(wi){const Li=ri.isCollapsed?ri.focus:ri.getLastPosition(),yi=Qe(Ii,Li,"forward");if(!yi)return null;const ji=Ii.createRange(Li,yi),Ki=ft(Ii.schema,ji,"backward");return Ki?Ii.createRange(Li,Ki):null}{const Li=ri.isCollapsed?ri.focus:ri.getFirstPosition(),yi=Qe(Ii,Li,"backward");if(!yi)return null;const ji=Ii.createRange(yi,Li),Ki=ft(Ii.schema,ji,"forward");return Ki?Ii.createRange(Ki,Li):null}}(at,Lt,Ot);if(Ut){if(Ut.isCollapsed&&(Lt.isCollapsed||gt))return;(Ut.isCollapsed||function(oi,ri,wi){const Ii=oi.model,Li=oi.view.domConverter;if(wi){const tn=Ii.createSelection(ri.start);Ii.modifySelection(tn),tn.focus.isAtEnd||ri.start.isEqual(tn.focus)||(ri=Ii.createRange(tn.focus,ri.end))}const yi=oi.mapper.toViewRange(ri),ji=Li.viewRangeToDom(yi),Ki=y.UL.getDomRangeRects(ji);let Mi;for(const tn of Ki)if(Mi!==void 0){if(Math.round(tn.top)>=Mi)return!1;Mi=Math.max(Mi,Math.round(tn.bottom))}else Mi=Math.round(tn.bottom);return!0}(at,Ut,Ot))&&(ue.change(oi=>{const ri=Ot?Ut.end:Ut.start;if(gt){const wi=ue.createSelection(Lt.anchor);wi.setFocus(ri),oi.setSelection(wi)}else oi.setSelection(ri)}),ye.stop(),Le.preventDefault(),Le.stopPropagation())}}}function Qe(at,ue,ye){const Le=at.schema,Ge=at.createRangeIn(ue.root),ot=ye=="forward"?"elementStart":"elementEnd";for(const{previousPosition:gt,item:Lt,type:Ot}of Ge.getWalker({startPosition:ue,direction:ye})){if(Le.isLimit(Lt)&&!Le.isInline(Lt))return gt;if(Ot==ot&&Le.isBlock(Lt))return null}return null}function ft(at,ue,ye){const Le=ye=="backward"?ue.end:ue.start;if(at.checkChild(Le,"$text"))return Le;for(const{nextPosition:Ge}of ue.getWalker({direction:ye}))if(at.checkChild(Ge,"$text"))return Ge;return null}var Ve=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widget.css"),Te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ie()(Ve.Z,Te),Ve.Z.locals;class Q extends c.Sy{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[vt,B.HG]}init(){const ue=this.editor,ye=ue.editing.view,Le=ye.document;this.editor.editing.downcastDispatcher.on("selection",(Ge,ot,gt)=>{const Lt=gt.writer,Ot=ot.selection;if(Ot.isCollapsed)return;const Ut=Ot.getSelectedElement();if(!Ut)return;const oi=ue.editing.mapper.toViewElement(Ut);p(oi)&&gt.consumable.consume(Ot,"selection")&&Lt.setSelection(Lt.createRangeOn(oi),{fake:!0,label:$(oi)})}),this.editor.editing.downcastDispatcher.on("selection",(Ge,ot,gt)=>{this._clearPreviouslySelectedWidgets(gt.writer);const Lt=gt.writer,Ot=Lt.document.selection;let Ut=null;for(const oi of Ot.getRanges())for(const ri of oi){const wi=ri.item;p(wi)&&!xe(wi,Ut)&&(Lt.addClass(_,wi),this._previouslySelected.add(wi),Ut=wi)}},{priority:"low"}),ye.addObserver(L.dM),this.listenTo(Le,"mousedown",(...Ge)=>this._onMousedown(...Ge)),this.listenTo(Le,"arrowKey",(...Ge)=>{this._handleSelectionChangeOnArrowKeyPress(...Ge)},{context:[p,"$text"]}),this.listenTo(Le,"arrowKey",(...Ge)=>{this._preventDefaultOnArrowKeyPress(...Ge)},{context:"$root"}),this.listenTo(Le,"arrowKey",bt(this.editor.editing),{context:"$text"}),this.listenTo(Le,"delete",(Ge,ot)=>{this._handleDelete(ot.direction=="forward")&&(ot.preventDefault(),Ge.stop())},{context:"$root"})}_onMousedown(ue,ye){const Le=this.editor,Ge=Le.editing.view,ot=Ge.document;let gt=ye.target;if(ye.domEvent.detail>=3)return void(this._selectBlockContent(gt)&&ye.preventDefault());if(function(Ot){let Ut=Ot;for(;Ut;){if(Ut.is("editableElement")&&!Ut.is("rootElement"))return!0;if(p(Ut))return!1;Ut=Ut.parent}return!1}(gt)||!p(gt)&&(gt=gt.findAncestor(p),!gt))return;y.OB.isAndroid&&ye.preventDefault(),ot.isFocused||Ge.focus();const Lt=Le.editing.mapper.toModelElement(gt);this._setSelectionOverElement(Lt)}_selectBlockContent(ue){const ye=this.editor,Le=ye.model,Ge=ye.editing.mapper,ot=Le.schema,gt=Ge.findMappedViewAncestor(this.editor.editing.view.createPositionAt(ue,0)),Lt=function(Ot,Ut){for(const oi of Ot.getAncestors({includeSelf:!0,parentFirst:!0})){if(Ut.checkChild(oi,"$text"))return oi;if(Ut.isLimit(oi)&&!Ut.isObject(oi))break}return null}(Ge.toModelElement(gt),Le.schema);return!!Lt&&(Le.change(Ot=>{const Ut=ot.isLimit(Lt)?null:function(wi,Ii){const Li=new L.Po({startPosition:wi});for(const{item:yi}of Li){if(Ii.isLimit(yi)||!yi.is("element"))return null;if(Ii.checkChild(yi,"$text"))return yi}return null}(Ot.createPositionAfter(Lt),ot),oi=Ot.createPositionAt(Lt,0),ri=Ut?Ot.createPositionAt(Ut,0):Ot.createPositionAt(Lt,"end");Ot.setSelection(Ot.createRange(oi,ri))}),!0)}_handleSelectionChangeOnArrowKeyPress(ue,ye){const Le=ye.keyCode,Ge=this.editor.model,ot=Ge.schema,gt=Ge.document.selection,Lt=gt.getSelectedElement(),Ot=(0,y.mA)(Le,this.editor.locale.contentLanguageDirection),Ut=Ot=="down"||Ot=="right",oi=Ot=="up"||Ot=="down";if(Lt&&ot.isObject(Lt)){const wi=Ut?gt.getLastPosition():gt.getFirstPosition(),Ii=ot.getNearestSelectionRange(wi,Ut?"forward":"backward");return void(Ii&&(Ge.change(Li=>{Li.setSelection(Ii)}),ye.preventDefault(),ue.stop()))}if(!gt.isCollapsed&&!ye.shiftKey){const wi=gt.getFirstPosition(),Ii=gt.getLastPosition(),Li=wi.nodeAfter,yi=Ii.nodeBefore;return void((Li&&ot.isObject(Li)||yi&&ot.isObject(yi))&&(Ge.change(ji=>{ji.setSelection(Ut?Ii:wi)}),ye.preventDefault(),ue.stop()))}if(!gt.isCollapsed)return;const ri=this._getObjectElementNextToSelection(Ut);if(ri&&ot.isObject(ri)){if(ot.isInline(ri)&&oi)return;this._setSelectionOverElement(ri),ye.preventDefault(),ue.stop()}}_preventDefaultOnArrowKeyPress(ue,ye){const Le=this.editor.model,Ge=Le.schema,ot=Le.document.selection.getSelectedElement();ot&&Ge.isObject(ot)&&(ye.preventDefault(),ue.stop())}_handleDelete(ue){const ye=this.editor.model.document.selection;if(!this.editor.model.canEditAt(ye)||!ye.isCollapsed)return;const Le=this._getObjectElementNextToSelection(ue);return Le?(this.editor.model.change(Ge=>{let ot=ye.anchor.parent;for(;ot.isEmpty;){const gt=ot;ot=gt.parent,Ge.remove(gt)}this._setSelectionOverElement(Le)}),!0):void 0}_setSelectionOverElement(ue){this.editor.model.change(ye=>{ye.setSelection(ye.createRangeOn(ue))})}_getObjectElementNextToSelection(ue){const ye=this.editor.model,Le=ye.schema,Ge=ye.document.selection,ot=ye.createSelection(Ge);if(ye.modifySelection(ot,{direction:ue?"forward":"backward"}),ot.isEqual(Ge))return null;const gt=ue?ot.focus.nodeBefore:ot.focus.nodeAfter;return gt&&Le.isObject(gt)?gt:null}_clearPreviouslySelectedWidgets(ue){for(const ye of this._previouslySelected)ue.removeClass(_,ye);this._previouslySelected.clear()}}function xe(at,ue){return!!ue&&Array.from(at.getAncestors()).includes(ue)}class Oe extends c.Sy{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[h.WB]}static get pluginName(){return"WidgetToolbarRepository"}init(){const ue=this.editor;if(ue.plugins.has("BalloonToolbar")){const ye=ue.plugins.get("BalloonToolbar");this.listenTo(ye,"show",Le=>{(function(Ge){const ot=Ge.getSelectedElement();return!(!ot||!p(ot))})(ue.editing.view.document.selection)&&Le.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(ue.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(ue.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const ue of this._toolbarDefinitions.values())ue.view.destroy()}register(ue,{ariaLabel:ye,items:Le,getRelatedElement:Ge,balloonClassName:ot="ck-toolbar-container"}){if(!Le.length)return void(0,y.KE)("widget-toolbar-no-items",{toolbarId:ue});const gt=this.editor,Lt=gt.t,Ot=new h.jB(gt.locale);if(Ot.ariaLabel=ye||Lt("Widget toolbar"),this._toolbarDefinitions.has(ue))throw new y.Bb("widget-toolbar-duplicated",this,{toolbarId:ue});const Ut={view:Ot,getRelatedElement:Ge,balloonClassName:ot,itemsConfig:Le,initialized:!1};gt.ui.addToolbar(Ot,{isContextual:!0,beforeFocus:()=>{const oi=Ge(gt.editing.view.document.selection);oi&&this._showToolbar(Ut,oi)},afterBlur:()=>{this._hideToolbar(Ut)}}),this._toolbarDefinitions.set(ue,Ut)}_updateToolbarsVisibility(){let ue=0,ye=null,Le=null;for(const Ge of this._toolbarDefinitions.values()){const ot=Ge.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&ot)if(this.editor.ui.focusTracker.isFocused){const gt=ot.getAncestors().length;gt>ue&&(ue=gt,ye=ot,Le=Ge)}else this._isToolbarVisible(Ge)&&this._hideToolbar(Ge);else this._isToolbarInBalloon(Ge)&&this._hideToolbar(Ge)}Le&&this._showToolbar(Le,ye)}_hideToolbar(ue){this._balloon.remove(ue.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(ue,ye){this._isToolbarVisible(ue)?Je(this.editor,ye):this._isToolbarInBalloon(ue)||(ue.initialized||(ue.initialized=!0,ue.view.fillFromConfig(ue.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:ue.view,position:$e(this.editor,ye),balloonClassName:ue.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const Le of this._toolbarDefinitions.values())if(this._isToolbarVisible(Le)){const Ge=Le.getRelatedElement(this.editor.editing.view.document.selection);Je(this.editor,Ge)}}))}_isToolbarVisible(ue){return this._balloon.visibleView===ue.view}_isToolbarInBalloon(ue){return this._balloon.hasView(ue.view)}}function Je(at,ue){const ye=at.plugins.get("ContextualBalloon"),Le=$e(at,ue);ye.updatePosition(Le)}function $e(at,ue){const ye=at.editing.view,Le=h.no.defaultPositions;return{target:ye.domConverter.mapViewToDom(ue),positions:[Le.northArrowSouth,Le.northArrowSouthWest,Le.northArrowSouthEast,Le.southArrowNorth,Le.southArrowNorthWest,Le.southArrowNorthEast,Le.viewportStickyNorth]}}class tt extends(0,y.Re)(){constructor(ue){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=ue,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(ue,ye,Le){const Ge=new y.UL(ye);this.activeHandlePosition=function(gt){const Lt=["top-left","top-right","bottom-right","bottom-left"];for(const Ot of Lt)if(gt.classList.contains(st(Ot)))return Ot}(ue),this._referenceCoordinates=function(gt,Lt){const Ot=new y.UL(gt),Ut=Lt.split("-"),oi={x:Ut[1]=="right"?Ot.right:Ot.left,y:Ut[0]=="bottom"?Ot.bottom:Ot.top};return oi.x+=gt.ownerDocument.defaultView.scrollX,oi.y+=gt.ownerDocument.defaultView.scrollY,oi}(ye,function(gt){const Lt=gt.split("-"),Ot={top:"bottom",bottom:"top",left:"right",right:"left"};return`${Ot[Lt[0]]}-${Ot[Lt[1]]}`}(this.activeHandlePosition)),this._originalWidth=Ge.width,this._originalHeight=Ge.height,this._aspectRatio=Ge.width/Ge.height;const ot=Le.style.width;ot&&ot.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(ot):this._originalWidthPercents=function(gt,Lt){const Ot=gt.parentElement;let Ut=parseFloat(Ot.ownerDocument.defaultView.getComputedStyle(Ot).width);const oi=5;let ri=0,wi=Ot;for(;isNaN(Ut);){if(wi=wi.parentElement,++ri>oi)return 0;Ut=parseFloat(Ot.ownerDocument.defaultView.getComputedStyle(wi).width)}return Lt.width/Ut*100}(Le,Ge)}update(ue){this.proposedWidth=ue.width,this.proposedHeight=ue.height,this.proposedWidthPercents=ue.widthPercents,this.proposedHandleHostWidth=ue.handleHostWidth,this.proposedHandleHostHeight=ue.handleHostHeight}}function st(at){return`ck-widget__resizer__handle-${at}`}class Pt extends h.G7{constructor(){super();const ue=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",ue.to("_viewPosition",ye=>ye?`ck-orientation-${ye}`:"")],style:{display:ue.if("_isVisible","none",ye=>!ye)}},children:[{text:ue.to("_label")}]})}_bindToState(ue,ye){this.bind("_isVisible").to(ye,"proposedWidth",ye,"proposedHeight",(Le,Ge)=>Le!==null&&Ge!==null),this.bind("_label").to(ye,"proposedHandleHostWidth",ye,"proposedHandleHostHeight",ye,"proposedWidthPercents",(Le,Ge,ot)=>ue.unit==="px"?`${Le}\xD7${Ge}`:`${ot}%`),this.bind("_viewPosition").to(ye,"activeHandlePosition",ye,"proposedHandleHostWidth",ye,"proposedHandleHostHeight",(Le,Ge,ot)=>Ge<50||ot<50?"above-center":Le)}_dismiss(){this.unbind(),this._isVisible=!1}}var Ft=Object.defineProperty,Gt=Object.defineProperties,ui=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,ti=Object.prototype.hasOwnProperty,hi=Object.prototype.propertyIsEnumerable,Ci=(at,ue,ye)=>ue in at?Ft(at,ue,{enumerable:!0,configurable:!0,writable:!0,value:ye}):at[ue]=ye;class Oi extends(0,y.Re)(){constructor(ue){super(),this._viewResizerWrapper=null,this._options=ue,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(ye,Le)=>ye&&Le),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",ye=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),ye.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(ue=>{ue.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(ue=>{ue.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const ue=this,ye=this._options.viewElement;this._options.editor.editing.view.change(Le=>{const Ge=Le.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(ot){const gt=this.toDomElement(ot);return ue._appendHandles(gt),ue._appendSizeUI(gt),gt});Le.insert(Le.createPositionAt(ye,"end"),Ge),Le.addClass("ck-widget_with-resizer",ye),this._viewResizerWrapper=Ge,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(ue){this._state=new tt(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(ue,this._getHandleHost(),this._getResizeHost())}updateSize(ue){const ye=this._proposeNewSize(ue);this._options.editor.editing.view.change(Ut=>{const oi=this._options.unit||"%",ri=(oi==="%"?ye.widthPercents:ye.width)+oi;Ut.setStyle("width",ri,this._options.viewElement)});const Le=this._getHandleHost(),Ge=new y.UL(Le),ot=Math.round(Ge.width),gt=Math.round(Ge.height),Lt=new y.UL(Le);var Ot;ye.width=Math.round(Lt.width),ye.height=Math.round(Lt.height),this.redraw(Ge),this.state.update((Ot=((Ut,oi)=>{for(var ri in oi||(oi={}))ti.call(oi,ri)&&Ci(Ut,ri,oi[ri]);if(Vt)for(var ri of Vt(oi))hi.call(oi,ri)&&Ci(Ut,ri,oi[ri]);return Ut})({},ye),Gt(Ot,ui({handleHostWidth:ot,handleHostHeight:gt}))))}commit(){const ue=this._options.unit||"%",ye=(ue==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+ue;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(ye)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(ue){const ye=this._domResizerWrapper;if(!((Le=ye)&&Le.ownerDocument&&Le.ownerDocument.contains(Le)))return;var Le;const Ge=ye.parentElement,ot=this._getHandleHost(),gt=this._viewResizerWrapper,Lt=[gt.getStyle("width"),gt.getStyle("height"),gt.getStyle("left"),gt.getStyle("top")];let Ot;if(Ge.isSameNode(ot)){const Ut=ue||new y.UL(ot);Ot=[Ut.width+"px",Ut.height+"px",void 0,void 0]}else Ot=[ot.offsetWidth+"px",ot.offsetHeight+"px",ot.offsetLeft+"px",ot.offsetTop+"px"];(0,y.Rt)(Lt,Ot)!=="same"&&this._options.editor.editing.view.change(Ut=>{Ut.setStyle({width:Ot[0],height:Ot[1],left:Ot[2],top:Ot[3]},gt)})}containsHandle(ue){return this._domResizerWrapper.contains(ue)}static isResizeHandle(ue){return ue.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(ue=>{ue.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(ue){const ye=this.state,Le={x:(Ge=ue).pageX,y:Ge.pageY};var Ge;const ot=!this._options.isCentered||this._options.isCentered(this),gt={x:ye._referenceCoordinates.x-(Le.x+ye.originalWidth),y:Le.y-ye.originalHeight-ye._referenceCoordinates.y};ot&&ye.activeHandlePosition.endsWith("-right")&&(gt.x=Le.x-(ye._referenceCoordinates.x+ye.originalWidth)),ot&&(gt.x*=2);let Lt=Math.abs(ye.originalWidth+gt.x),Ot=Math.abs(ye.originalHeight+gt.y);return(Lt/ye.aspectRatio>Ot?"width":"height")=="width"?Ot=Lt/ye.aspectRatio:Lt=Ot*ye.aspectRatio,{width:Math.round(Lt),height:Math.round(Ot),widthPercents:Math.min(Math.round(ye.originalWidthPercents/ye.originalWidth*Lt*100)/100,100)}}_getResizeHost(){const ue=this._domResizerWrapper.parentElement;return this._options.getResizeHost(ue)}_getHandleHost(){const ue=this._domResizerWrapper.parentElement;return this._options.getHandleHost(ue)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(ue){const ye=["top-left","top-right","bottom-right","bottom-left"];for(const Ge of ye)ue.appendChild(new h.YS({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(Le=Ge,`ck-widget__resizer__handle-${Le}`)}}).render());var Le}_appendSizeUI(ue){this._sizeView=new Pt,this._sizeView.render(),ue.appendChild(this._sizeView.element)}}var Di=l("./node_modules/lodash-es/throttle.js"),Vi=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-widget/theme/widgetresize.css"),Pi={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ie()(Vi.Z,Pi),Vi.Z.locals;class Zi extends c.Sy{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const ue=this.editor.editing,ye=y.global.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),ue.view.addObserver(L.dM),this._observer=new((0,y.Xu)()),this.listenTo(ue.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(ye,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(ye,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=(0,Di.Z)(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[Ge,ot]of this._resizers)Ge.isAttached()||(this._resizers.delete(Ge),ot.destroy())},{priority:"lowest"}),this._observer.listenTo(y.global.window,"resize",this._redrawSelectedResizerThrottled);const Le=this.editor.editing.view.document.selection;Le.on("change",()=>{const Ge=Le.getSelectedElement(),ot=this.getResizerByViewElement(Ge)||null;ot?this.select(ot):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const ue of this._resizers.values())ue.destroy();this._redrawSelectedResizerThrottled.cancel()}select(ue){this.deselect(),this.selectedResizer=ue,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(ue){const ye=new Oi(ue),Le=this.editor.plugins;if(ye.attach(),Le.has("WidgetToolbarRepository")){const ot=Le.get("WidgetToolbarRepository");ye.on("begin",()=>{ot.forceDisabled("resize")},{priority:"lowest"}),ye.on("cancel",()=>{ot.clearForceDisabled("resize")},{priority:"highest"}),ye.on("commit",()=>{ot.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(ue.viewElement,ye);const Ge=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(Ge)==ye&&this.select(ye),ye}getResizerByViewElement(ue){return this._resizers.get(ue)}_getResizerByHandle(ue){for(const ye of this._resizers.values())if(ye.containsHandle(ue))return ye}_mouseDownListener(ue,ye){const Le=ye.domTarget;Oi.isResizeHandle(Le)&&(this._activeResizer=this._getResizerByHandle(Le)||null,this._activeResizer&&(this._activeResizer.begin(Le),ue.stop(),ye.preventDefault()))}_mouseMoveListener(ue,ye){this._activeResizer&&this._activeResizer.updateSize(ye)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}},"./packages/ckeditor5-core/theme/icons/cancel.svg":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'},"./packages/ckeditor5-core/theme/icons/check.svg":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'},"./packages/ckeditor5-core/theme/icons/eraser.svg":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(w,C,l)=>{"use strict";var c,L=function(){return c===void 0&&(c=Boolean(window&&document&&document.all&&!window.atob)),c},B=function(){var v={};return function(A){if(v[A]===void 0){var T=document.querySelector(A);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch{T=null}v[A]=T}return v[A]}}(),y=[];function h(v){for(var A=-1,T=0;T<y.length;T++)if(y[T].identifier===v){A=T;break}return A}function V(v,A){for(var T={},S=[],ae=0;ae<v.length;ae++){var $=v[ae],z=A.base?$[0]+A.base:$[0],f=T[z]||0,j="".concat(z," ").concat(f);T[z]=f+1;var Z=h(j),D={css:$[1],media:$[2],sourceMap:$[3]};Z!==-1?(y[Z].references++,y[Z].updater(D)):y.push({identifier:j,updater:p(D,A),references:1}),S.push(j)}return S}function q(v){var A=document.createElement("style"),T=v.attributes||{};if(T.nonce===void 0){var S=l.nc;S&&(T.nonce=S)}if(Object.keys(T).forEach(function($){A.setAttribute($,T[$])}),typeof v.insert=="function")v.insert(A);else{var ae=B(v.insert||"head");if(!ae)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ae.appendChild(A)}return A}var Y,ee=(Y=[],function(v,A){return Y[v]=A,Y.filter(Boolean).join(`
`)});function re(v,A,T,S){var ae=T?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(v.styleSheet)v.styleSheet.cssText=ee(A,ae);else{var $=document.createTextNode(ae),z=v.childNodes;z[A]&&v.removeChild(z[A]),z.length?v.insertBefore($,z[A]):v.appendChild($)}}function ie(v,A,T){var S=T.css,ae=T.media,$=T.sourceMap;if(ae?v.setAttribute("media",ae):v.removeAttribute("media"),$&&typeof btoa<"u"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify($))))," */")),v.styleSheet)v.styleSheet.cssText=S;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(S))}}var u=null,_=0;function p(v,A){var T,S,ae;if(A.singleton){var $=_++;T=u||(u=q(A)),S=re.bind(null,T,$,!1),ae=re.bind(null,T,$,!0)}else T=q(A),S=ie.bind(null,T,A),ae=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(T)};return S(v),function(z){if(z){if(z.css===v.css&&z.media===v.media&&z.sourceMap===v.sourceMap)return;S(v=z)}else ae()}}w.exports=function(v,A){(A=A||{}).singleton||typeof A.singleton=="boolean"||(A.singleton=L());var T=V(v=v||[],A);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var ae=0;ae<T.length;ae++){var $=h(T[ae]);y[$].references--}for(var z=V(S,A),f=0;f<T.length;f++){var j=h(T[f]);y[j].references===0&&(y[j].updater(),y.splice(j,1))}T=z}}}},"./src/clipboard.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{Clipboard:()=>ft,ClipboardPipeline:()=>ee,DragDrop:()=>ut,DragDropBlockToolbar:()=>je,DragDropTarget:()=>v,PastePlainText:()=>Qe});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts"),B=l("./packages/ckeditor5-engine/src/index.ts");class y extends B.qZ{constructor(Te){super(Te),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const Q=this.document;function xe(Oe){return(Je,$e)=>{$e.preventDefault();const tt=$e.dropRange?[$e.dropRange]:null,st=new L.M3(Q,Oe);Q.fire(st,{dataTransfer:$e.dataTransfer,method:Je.name,targetRanges:tt,target:$e.target,domEvent:$e.domEvent}),st.stop.called&&$e.stopPropagation()}}this.listenTo(Q,"paste",xe("clipboardInput"),{priority:"low"}),this.listenTo(Q,"drop",xe("clipboardInput"),{priority:"low"}),this.listenTo(Q,"dragover",xe("dragging"),{priority:"low"})}onDomEvent(Te){const Q="clipboardData"in Te?Te.clipboardData:Te.dataTransfer,xe=Te.type=="drop"||Te.type=="paste",Oe={dataTransfer:new B.tn(Q,{cacheFiles:xe})};Te.type!="drop"&&Te.type!="dragover"||(Oe.dropRange=function(Je,$e){const tt=$e.target.ownerDocument,st=$e.clientX,Pt=$e.clientY;let Ft;return tt.caretRangeFromPoint&&tt.caretRangeFromPoint(st,Pt)?Ft=tt.caretRangeFromPoint(st,Pt):$e.rangeParent&&(Ft=tt.createRange(),Ft.setStart($e.rangeParent,$e.rangeOffset),Ft.collapse(!0)),Ft?Je.domConverter.domRangeToView(Ft):null}(this.view,Te)),this.fire(Te.type,Te,Oe)}}const h=["figcaption","li"],V=["ol","ul"];function q(Ve){if(Ve.is("$text")||Ve.is("$textProxy"))return Ve.data;if(Ve.is("element","img")&&Ve.hasAttribute("alt"))return Ve.getAttribute("alt");if(Ve.is("element","br"))return`
`;let Te="",Q=null;for(const xe of Ve.getChildren())Te+=Y(xe,Q)+q(xe),Q=xe;return Te}function Y(Ve,Te){return Te?Ve.is("element","li")&&!Ve.isEmpty&&Ve.getChild(0).is("containerElement")||V.includes(Ve.name)&&V.includes(Te.name)?`

`:Ve.is("containerElement")||Te.is("containerElement")?h.includes(Ve.name)||h.includes(Te.name)?`
`:`

`:"":""}class ee extends c.Sy{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(y),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(Te,Q,xe){const Oe=this.editor.model.getSelectedContent(Q);this.fire("outputTransformation",{dataTransfer:Te,content:Oe,method:xe})}_setupPasteDrop(){const Te=this.editor,Q=Te.model,xe=Te.editing.view,Oe=xe.document;this.listenTo(Oe,"clipboardInput",(Je,$e)=>{$e.method!="paste"||Te.model.canEditAt(Te.model.document.selection)||Je.stop()},{priority:"highest"}),this.listenTo(Oe,"clipboardInput",(Je,$e)=>{const tt=$e.dataTransfer;let st;if($e.content)st=$e.content;else{let Gt="";tt.getData("text/html")?Gt=function(ui){return ui.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Vt,ti)=>ti.length==1?" ":ti).replace(/<!--[\s\S]*?-->/g,"")}(tt.getData("text/html")):tt.getData("text/plain")&&(((Pt=(Pt=tt.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||Pt.includes("<br>"))&&(Pt=`<p>${Pt}</p>`),Gt=Pt),st=this.editor.data.htmlProcessor.toView(Gt)}var Pt;const Ft=new L.M3(this,"inputTransformation");this.fire(Ft,{content:st,dataTransfer:tt,targetRanges:$e.targetRanges,method:$e.method}),Ft.stop.called&&Je.stop(),xe.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(Je,$e)=>{if($e.content.isEmpty)return;const tt=this.editor.data.toModel($e.content,"$clipboardHolder");tt.childCount!=0&&(Je.stop(),Q.change(()=>{this.fire("contentInsertion",{content:tt,method:$e.method,dataTransfer:$e.dataTransfer,targetRanges:$e.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(Je,$e)=>{$e.resultRange=Q.insertContent($e.content)},{priority:"low"})}_setupCopyCut(){const Te=this.editor,Q=Te.model.document,xe=Te.editing.view.document,Oe=(Je,$e)=>{const tt=$e.dataTransfer;$e.preventDefault(),this._fireOutputTransformationEvent(tt,Q.selection,Je.name)};this.listenTo(xe,"copy",Oe,{priority:"low"}),this.listenTo(xe,"cut",(Je,$e)=>{Te.model.canEditAt(Te.model.document.selection)?Oe(Je,$e):$e.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(Je,$e)=>{const tt=Te.data.toView($e.content);xe.fire("clipboardOutput",{dataTransfer:$e.dataTransfer,content:tt,method:$e.method})},{priority:"low"}),this.listenTo(xe,"clipboardOutput",(Je,$e)=>{$e.content.isEmpty||($e.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData($e.content)),$e.dataTransfer.setData("text/plain",q($e.content))),$e.method=="cut"&&Te.model.deleteContent(Q.selection)},{priority:"low"})}}var re=l("./packages/ckeditor5-widget/src/index.ts"),ie=l("./packages/ckeditor5-ui/src/index.ts");const u=(0,L.nn)("px");class _ extends ie.G7{constructor(){super();const Te=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",Te.if("isVisible","ck-hidden",Q=>!Q)],style:{left:Te.to("left",Q=>u(Q)),top:Te.to("top",Q=>u(Q)),width:Te.to("width",Q=>u(Q))}}})}}var p=l("./node_modules/lodash-es/throttle.js");class v extends c.Sy{constructor(){super(...arguments),this.removeDropMarkerDelayed=(0,L.gw)(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=(0,p.Z)(Te=>this._updateDropMarker(Te),40),this._reconvertMarkerThrottled=(0,p.Z)(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new _,this._domEmitter=new((0,L.Xu)()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:Te}of this._scrollables.values())Te.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(Te,Q,xe,Oe,Je,$e){this.removeDropMarkerDelayed.cancel();const tt=A(this.editor,Te,Q,xe,Oe,Je,$e);if(tt)return $e&&$e.containsRange(tt)?this.removeDropMarker():void this._updateDropMarkerThrottled(tt)}getFinalDropRange(Te,Q,xe,Oe,Je,$e){const tt=A(this.editor,Te,Q,xe,Oe,Je,$e);return this.removeDropMarker(),tt}removeDropMarker(){const Te=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,Te.markers.has("drop-target")&&Te.change(Q=>{Q.removeMarker("drop-target")})}_setupDropMarker(){const Te=this.editor;Te.ui.view.body.add(this._dropTargetLineView),Te.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),Te.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(Q,{writer:xe})=>{if(Te.model.schema.checkChild(Q.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(xe);Q.markerRange.isCollapsed?this._updateDropTargetLine(Q.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(Te){const Q=this.editor,xe=Q.model.markers;Q.model.change(Oe=>{xe.has("drop-target")?xe.get("drop-target").getRange().isEqual(Te)||Oe.updateMarker("drop-target",{range:Te}):Oe.addMarker("drop-target",{range:Te,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(Te){return Te.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(Q){const xe=this.toDomElement(Q);return xe.append("\u2060",Q.createElement("span"),"\u2060"),xe})}_updateDropTargetLine(Te){const Q=this.editor.editing,xe=Te.start.nodeBefore,Oe=Te.start.nodeAfter,Je=Te.start.parent,$e=xe?Q.mapper.toViewElement(xe):null,tt=$e?Q.view.domConverter.mapViewToDom($e):null,st=Oe?Q.mapper.toViewElement(Oe):null,Pt=st?Q.view.domConverter.mapViewToDom(st):null,Ft=Q.mapper.toViewElement(Je),Gt=Q.view.domConverter.mapViewToDom(Ft),ui=this._getScrollableRect(Ft),{scrollX:Vt,scrollY:ti}=L.global.window,hi=tt?new L.UL(tt):null,Ci=Pt?new L.UL(Pt):null,Oi=new L.UL(Gt).excludeScrollbarsAndBorders(),Di=hi?hi.bottom:Oi.top,Vi=Ci?Ci.top:Oi.bottom,Pi=L.global.window.getComputedStyle(Gt),Zi=Di<=Vi?(Di+Vi)/2:Vi;if(ui.top<Zi&&Zi<ui.bottom){const at=Oi.left+parseFloat(Pi.paddingLeft),ue=Oi.right-parseFloat(Pi.paddingRight),ye=Math.max(at+Vt,ui.left),Le=Math.min(ue+Vt,ui.right);this._dropTargetLineView.set({isVisible:!0,left:ye,top:Zi+ti,width:Le-ye})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(Te){const Q=Te.root.rootName;let xe;if(this._scrollables.has(Q))xe=this._scrollables.get(Q).domElement;else{xe=function(Je){let $e=Je;do{$e=$e.parentElement;const tt=L.global.window.getComputedStyle($e).overflowY;if(tt=="auto"||tt=="scroll")break}while($e.tagName!="BODY");return $e}(this.editor.editing.view.domConverter.mapViewToDom(Te)),this._domEmitter.listenTo(xe,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const Oe=new L.do(xe,this._reconvertMarkerThrottled);this._scrollables.set(Q,{domElement:xe,resizeObserver:Oe})}return new L.UL(xe).excludeScrollbarsAndBorders()}}function A(Ve,Te,Q,xe,Oe,Je,$e){const tt=Ve.model,st=Ve.editing.mapper;let Pt=$(Ve,Te);for(;Pt;){if(!Je){if(tt.schema.checkChild(Pt,"$text")){if(Q){const Ft=Q[0].start,Gt=st.toModelPosition(Ft);if(!$e||Array.from($e.getItems()).every(ui=>tt.schema.checkChild(Gt,ui))){if(tt.schema.checkChild(Gt,"$text"))return tt.createRange(Gt);if(Ft)return S(Ve,$(Ve,Ft.parent),xe,Oe)}}}else if(tt.schema.isInline(Pt))return S(Ve,Pt,xe,Oe)}if(tt.schema.isBlock(Pt))return S(Ve,Pt,xe,Oe);if(tt.schema.checkChild(Pt,"$block")){const Ft=Array.from(Pt.getChildren()).filter(Vt=>Vt.is("element")&&!T(Ve,Vt));let Gt=0,ui=Ft.length;if(ui==0)return tt.createRange(tt.createPositionAt(Pt,"end"));for(;Gt<ui-1;){const Vt=Math.floor((Gt+ui)/2);ae(Ve,Ft[Vt],xe,Oe)=="before"?ui=Vt:Gt=Vt}return S(Ve,Ft[Gt],xe,Oe)}Pt=Pt.parent}return null}function T(Ve,Te){const Q=Ve.editing.mapper,xe=Ve.editing.view.domConverter,Oe=Q.toViewElement(Te),Je=xe.mapViewToDom(Oe);return L.global.window.getComputedStyle(Je).float!="none"}function S(Ve,Te,Q,xe){const Oe=Ve.model;return Oe.createRange(Oe.createPositionAt(Te,ae(Ve,Te,Q,xe)))}function ae(Ve,Te,Q,xe){const Oe=Ve.editing.mapper,Je=Ve.editing.view.domConverter,$e=Oe.toViewElement(Te),tt=Je.mapViewToDom($e),st=new L.UL(tt);return Ve.model.schema.isInline(Te)?Q<(st.left+st.right)/2?"before":"after":xe<(st.top+st.bottom)/2?"before":"after"}function $(Ve,Te){const Q=Ve.editing.mapper,xe=Ve.editing.view,Oe=Q.toModelElement(Te);if(Oe)return Oe;const Je=xe.createPositionBefore(Te),$e=Q.findMappedViewAncestor(Je);return Q.toModelElement($e)}var z=Object.defineProperty,f=Object.defineProperties,j=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,Se=(Ve,Te,Q)=>Te in Ve?z(Ve,Te,{enumerable:!0,configurable:!0,writable:!0,value:Q}):Ve[Te]=Q;class je extends c.Sy{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new((0,L.Xu)())}static get pluginName(){return"DragDropBlockToolbar"}init(){const Te=this.editor;if(this.listenTo(Te,"change:isReadOnly",(Q,xe,Oe)=>{Oe?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),L.OB.isAndroid&&this.forceDisabled("noAndroidSupport"),Te.plugins.has("BlockToolbar")){const Q=Te.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(Q,"dragstart",(xe,Oe)=>this._handleBlockDragStart(Oe)),this._domEmitter.listenTo(L.global.document,"dragover",(xe,Oe)=>this._handleBlockDragging(Oe)),this._domEmitter.listenTo(L.global.document,"drop",(xe,Oe)=>this._handleBlockDragging(Oe)),this._domEmitter.listenTo(L.global.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&Q.setAttribute("draggable","true"),this.on("change:isEnabled",(xe,Oe,Je)=>{Q.setAttribute("draggable",Je?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(Te){if(!this.isEnabled)return;const Q=this.editor.model,xe=Q.document.selection,Oe=this.editor.editing.view,Je=Array.from(xe.getSelectedBlocks()),$e=Q.createRange(Q.createPositionBefore(Je[0]),Q.createPositionAfter(Je[Je.length-1]));Q.change(tt=>tt.setSelection($e)),this._isBlockDragging=!0,Oe.focus(),Oe.getObserver(y).onDomEvent(Te)}_handleBlockDragging(Te){if(!this.isEnabled||!this._isBlockDragging)return;const Q=Te.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),xe=Te.clientY,Oe=document.elementFromPoint(Q,xe),Je=this.editor.editing.view;var $e,tt;Oe&&Oe.closest(".ck-editor__editable")&&Je.getObserver(y).onDomEvent(($e=((st,Pt)=>{for(var Ft in Pt||(Pt={}))D.call(Pt,Ft)&&Se(st,Ft,Pt[Ft]);if(Z)for(var Ft of Z(Pt))oe.call(Pt,Ft)&&Se(st,Ft,Pt[Ft]);return st})({},Te),tt={type:Te.type,dataTransfer:Te.dataTransfer,target:Oe,clientX:Q,clientY:xe,preventDefault:()=>Te.preventDefault(),stopPropagation:()=>Te.stopPropagation()},f($e,j(tt))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var Ie=l("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),De=l.n(Ie),mt=l("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].use[2]!./packages/ckeditor5-clipboard/theme/clipboard.css"),lt={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};De()(mt.Z,lt),mt.Z.locals;class ut extends c.Sy{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=(0,L.gw)(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new((0,L.Xu)())}static get pluginName(){return"DragDrop"}static get requires(){return[ee,re.$L,v,je]}init(){const Te=this.editor,Q=Te.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,Q.addObserver(y),Q.addObserver(B.dM),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(Te,"change:isReadOnly",(xe,Oe,Je)=>{Je?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(xe,Oe,Je)=>{Je||this._finalizeDragging(!1)}),L.OB.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const Te=this.editor,Q=Te.model,xe=Te.editing.view,Oe=xe.document,Je=Te.plugins.get(v);this.listenTo(Oe,"dragstart",($e,tt)=>{if(tt.target&&tt.target.is("editableElement")||(this._prepareDraggedRange(tt.target),!this._draggedRange))return void tt.preventDefault();this._draggingUid=(0,L.hQ)(),tt.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",tt.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const st=Q.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(tt.dataTransfer,st,"dragstart");const{dataTransfer:Pt,domTarget:Ft,domEvent:Gt}=tt,{clientX:ui}=Gt;this._updatePreview({dataTransfer:Pt,domTarget:Ft,clientX:ui}),tt.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(Oe,"dragend",($e,tt)=>{this._finalizeDragging(!tt.dataTransfer.isCanceled&&tt.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(L.global.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(Oe,"dragenter",()=>{this.isEnabled&&xe.focus()}),this.listenTo(Oe,"dragleave",()=>{Je.removeDropMarkerDelayed()}),this.listenTo(Oe,"dragging",($e,tt)=>{if(!this.isEnabled)return void(tt.dataTransfer.dropEffect="none");const{clientX:st,clientY:Pt}=tt.domEvent;Je.updateDropMarker(tt.target,tt.targetRanges,st,Pt,this._blockMode,this._draggedRange),this._draggedRange||(tt.dataTransfer.dropEffect="copy"),L.OB.isGecko||(tt.dataTransfer.effectAllowed=="copy"?tt.dataTransfer.dropEffect="copy":["all","copyMove"].includes(tt.dataTransfer.effectAllowed)&&(tt.dataTransfer.dropEffect="move")),$e.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const Te=this.editor,Q=Te.editing.view.document,xe=Te.plugins.get(v);this.listenTo(Q,"clipboardInput",(Oe,Je)=>{if(Je.method!="drop")return;const{clientX:$e,clientY:tt}=Je.domEvent,st=xe.getFinalDropRange(Je.target,Je.targetRanges,$e,tt,this._blockMode,this._draggedRange);if(!st)return this._finalizeDragging(!1),void Oe.stop();if(this._draggedRange&&this._draggingUid!=Je.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),dt(Je.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(st,!0))return this._finalizeDragging(!1),void Oe.stop();Je.targetRanges=[Te.editing.mapper.toViewRange(st)]},{priority:"high"})}_setupContentInsertionIntegration(){const Te=this.editor.plugins.get(ee);Te.on("contentInsertion",(Q,xe)=>{if(!this.isEnabled||xe.method!=="drop")return;const Oe=xe.targetRanges.map(Je=>this.editor.editing.mapper.toModelRange(Je));this.editor.model.change(Je=>Je.setSelection(Oe))},{priority:"high"}),Te.on("contentInsertion",(Q,xe)=>{if(!this.isEnabled||xe.method!=="drop")return;const Oe=dt(xe.dataTransfer)=="move",Je=!xe.resultRange||!xe.resultRange.isCollapsed;this._finalizeDragging(Je&&Oe)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const Te=this.editor,Q=Te.editing.view,xe=Q.document;this.listenTo(xe,"mousedown",(Oe,Je)=>{if(L.OB.isAndroid||!Je)return;this._clearDraggableAttributesDelayed.cancel();let $e=vt(Je.target);if(L.OB.isBlink&&!Te.isReadOnly&&!$e&&!xe.selection.isCollapsed){const tt=xe.selection.getSelectedElement();tt&&(0,re.Qd)(tt)||($e=xe.selection.editableElement)}$e&&(Q.change(tt=>{tt.setAttribute("draggable","true",$e)}),this._draggableElement=Te.editing.mapper.toModelElement($e))}),this.listenTo(xe,"mouseup",()=>{L.OB.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const Te=this.editor.editing;Te.view.change(Q=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&Q.removeAttribute("draggable",Te.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(Te){const Q=this.editor,xe=Q.model;Q.plugins.get(v).removeDropMarker(),this._clearDraggableAttributes(),Q.plugins.has("WidgetToolbarRepository")&&Q.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(Te&&this.isEnabled&&xe.change(Oe=>{const Je=xe.createSelection(this._draggedRange);xe.deleteContent(Je,{doNotAutoparagraph:!0});const $e=Je.getFirstPosition().parent;$e.isEmpty&&!xe.schema.checkChild($e,"$text")&&xe.schema.checkChild($e,"paragraph")&&Oe.insertElement("paragraph",$e,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(Te){const Q=this.editor,xe=Q.model,Oe=xe.document.selection,Je=Te?vt(Te):null;if(Je){const Pt=Q.editing.mapper.toModelElement(Je);this._draggedRange=B.iE.fromRange(xe.createRangeOn(Pt)),this._blockMode=xe.schema.isBlock(Pt),Q.plugins.has("WidgetToolbarRepository")&&Q.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(Oe.isCollapsed&&!Oe.getFirstPosition().parent.isEmpty)return;const $e=Array.from(Oe.getSelectedBlocks()),tt=Oe.getFirstRange();if($e.length==0)return void(this._draggedRange=B.iE.fromRange(tt));const st=bt(xe,$e);if($e.length>1)this._draggedRange=B.iE.fromRange(st),this._blockMode=!0;else if($e.length==1){const Pt=tt.start.isTouching(st.start)&&tt.end.isTouching(st.end);this._draggedRange=B.iE.fromRange(Pt?st:tt),this._blockMode=Pt}xe.change(Pt=>Pt.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:Te,domTarget:Q,clientX:xe}){const Oe=this.editor.editing.view,Je=Oe.document.selection.editableElement,$e=Oe.domConverter.mapViewToDom(Je),tt=L.global.window.getComputedStyle($e);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=(0,L.az)(L.global.document,"div",{style:"position: fixed; left: -999999px;"}),L.global.document.body.appendChild(this._previewContainer));const st=new L.UL($e);if($e.contains(Q))return;const Pt=parseFloat(tt.paddingLeft),Ft=(0,L.az)(L.global.document,"div");Ft.className="ck ck-content",Ft.style.width=tt.width,Ft.style.paddingLeft=`${st.left-xe+Pt}px`,L.OB.isiOS&&(Ft.style.backgroundColor="white"),Ft.innerHTML=Te.getData("text/html"),Te.setDragImage(Ft,0,0),this._previewContainer.appendChild(Ft)}}function dt(Ve){return L.OB.isGecko?Ve.dropEffect:["all","copyMove"].includes(Ve.effectAllowed)?"move":"copy"}function vt(Ve){if(Ve.is("editableElement"))return null;if(Ve.hasClass("ck-widget__selection-handle"))return Ve.findAncestor(re.Qd);if((0,re.Qd)(Ve))return Ve;const Te=Ve.findAncestor(Q=>(0,re.Qd)(Q)||Q.is("editableElement"));return(0,re.Qd)(Te)?Te:null}function bt(Ve,Te){const Q=Te[0],xe=Te[Te.length-1],Oe=Q.getCommonAncestor(xe),Je=Ve.createPositionBefore(Q),$e=Ve.createPositionAfter(xe);if(Oe&&Oe.is("element")&&!Ve.schema.isLimit(Oe)){const tt=Ve.createRangeOn(Oe),st=Je.isTouching(tt.start),Pt=$e.isTouching(tt.end);if(st&&Pt)return bt(Ve,[Oe])}return Ve.createRange(Je,$e)}class Qe extends c.Sy{static get pluginName(){return"PastePlainText"}static get requires(){return[ee]}init(){const Te=this.editor,Q=Te.model,xe=Te.editing.view,Oe=xe.document,Je=Q.document.selection;let $e=!1;xe.addObserver(y),this.listenTo(Oe,"keydown",(tt,st)=>{$e=st.shiftKey}),Te.plugins.get(ee).on("contentInsertion",(tt,st)=>{($e||function(Pt,Ft){if(Pt.childCount>1)return!1;const Gt=Pt.getChild(0);return Ft.isObject(Gt)?!1:Array.from(Gt.getAttributeKeys()).length==0}(st.content,Q.schema))&&Q.change(Pt=>{const Ft=Array.from(Je.getAttributes()).filter(([ui])=>Q.schema.getAttributeProperties(ui).isFormatting);Je.isCollapsed||Q.deleteContent(Je,{doNotAutoparagraph:!0}),Ft.push(...Je.getAttributes());const Gt=Pt.createRangeIn(st.content);for(const ui of Gt.getItems())ui.is("$textProxy")&&Pt.setAttributes(Ft,ui)})})}}class ft extends c.Sy{static get pluginName(){return"Clipboard"}static get requires(){return[ee,ut,Qe]}}},"./src/core.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{Command:()=>c.mY,Context:()=>c._y,ContextPlugin:()=>c.eO,DataApiMixin:()=>c.W9,Editor:()=>c.ML,ElementApiMixin:()=>c.xK,MultiCommand:()=>c.AJ,PendingActions:()=>c.lR,Plugin:()=>c.Sy,attachToForm:()=>c.P$,icons:()=>c.icons,secureSourceElement:()=>c.Nu});var c=l("./packages/ckeditor5-core/src/index.ts")},"./src/engine.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{AttributeElement:()=>c.kW,AttributeOperation:()=>c.Yy,BubblingEventInfo:()=>c.r7,ClickObserver:()=>c.KU,Conversion:()=>c.uz,DataController:()=>c.Yc,DataTransfer:()=>c.tn,DocumentFragment:()=>c.f4,DocumentSelection:()=>c.uj,DomConverter:()=>c.pG,DomEventData:()=>c.dK,DomEventObserver:()=>c.qZ,DowncastWriter:()=>c.qD,EditingController:()=>c.jH,Element:()=>c.W_,FocusObserver:()=>c.DX,History:()=>c.Ay,HtmlDataProcessor:()=>c.X5,InsertOperation:()=>c.IZ,LivePosition:()=>c.jP,LiveRange:()=>c.iE,MarkerOperation:()=>c.zj,Matcher:()=>c.xO,MergeOperation:()=>c.lB,Model:()=>c.Hn,MouseObserver:()=>c.dM,MoveOperation:()=>c.$z,NoOperation:()=>c.Pk,Observer:()=>c.Qj,OperationFactory:()=>c.Bz,Position:()=>c.Ly,Range:()=>c.e6,RenameOperation:()=>c.sN,Renderer:()=>c.Th,RootAttributeOperation:()=>c._o,RootOperation:()=>c.tF,SplitOperation:()=>c.qh,StylesProcessor:()=>c.A_,TabObserver:()=>c.aY,Text:()=>c.xv,TextProxy:()=>c.R,TreeWalker:()=>c.Po,UpcastWriter:()=>c.yj,View:()=>c.G7,ViewAttributeElement:()=>c.m1,ViewContainerElement:()=>c.By,ViewDocument:()=>c.Ux,ViewDocumentFragment:()=>c.y_,ViewEditableElement:()=>c.W2,ViewElement:()=>c.y9,ViewEmptyElement:()=>c.pc,ViewRawElement:()=>c.wx,ViewRootEditableElement:()=>c.FY,ViewText:()=>c.Xj,ViewTreeWalker:()=>c.rh,ViewUIElement:()=>c.dq,addBackgroundRules:()=>c.QR,addBorderRules:()=>c.sI,addMarginRules:()=>c.vt,addPaddingRules:()=>c.J8,disablePlaceholder:()=>c.DA,enablePlaceholder:()=>c.ID,findOptimalInsertionRange:()=>c.KT,getBoxSidesShorthandValue:()=>c.I8,getBoxSidesValueReducer:()=>c.mq,getBoxSidesValues:()=>c.oz,getFillerOffset:()=>c.YG,getPositionShorthandNormalizer:()=>c.m0,getShorthandValues:()=>c.uT,hidePlaceholder:()=>c.$_,isAttachment:()=>c.SB,isColor:()=>c.D5,isLength:()=>c.G9,isLineStyle:()=>c.IT,isPercentage:()=>c.zz,isPosition:()=>c.WK,isRepeat:()=>c.Zb,isURL:()=>c.PX,needsPlaceholder:()=>c.Q7,showPlaceholder:()=>c.NJ,transformSets:()=>c.Rf});var c=l("./packages/ckeditor5-engine/src/index.ts")},"./src/enter.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{Enter:()=>c.C,ShiftEnter:()=>c.G});var c=l("./packages/ckeditor5-enter/src/index.ts")},"./src/paragraph.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{Paragraph:()=>q,ParagraphButtonUI:()=>re});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class B extends c.mY{constructor(u){super(u),this._isEnabledBasedOnSelection=!1}refresh(){const u=this.editor.model,_=u.document,p=(0,L.Ps)(_.selection.getSelectedBlocks());this.value=!!p&&p.is("element","paragraph"),this.isEnabled=!!p&&y(p,u.schema)}execute(u={}){const _=this.editor.model,p=_.document,v=u.selection||p.selection;_.canEditAt(v)&&_.change(A=>{const T=v.getSelectedBlocks();for(const S of T)!S.is("element","paragraph")&&y(S,_.schema)&&A.rename(S,"paragraph")})}}function y(ie,u){return u.checkChild(ie.parent,"paragraph")&&!u.isObject(ie)}class h extends c.mY{constructor(u){super(u),this._isEnabledBasedOnSelection=!1}execute(u){const _=this.editor.model,p=u.attributes;let v=u.position;_.canEditAt(v)&&_.change(A=>{if(v=this._findPositionToInsertParagraph(v,A),!v)return;const T=A.createElement("paragraph");p&&_.schema.setAllowedAttributes(T,p,A),_.insertContent(T,v),A.setSelection(T,"in")})}_findPositionToInsertParagraph(u,_){const p=this.editor.model;if(p.schema.checkChild(u,"paragraph"))return u;const v=p.schema.findAllowedParent(u,"paragraph");if(!v)return null;const A=u.parent,T=p.schema.checkChild(A,"$text");return A.isEmpty||T&&u.isAtEnd?p.createPositionAfter(A):!A.isEmpty&&T&&u.isAtStart?p.createPositionBefore(A):_.split(u,v).position}}const V=class extends c.Sy{static get pluginName(){return"Paragraph"}init(){const ie=this.editor,u=ie.model;ie.commands.add("paragraph",new B(ie)),ie.commands.add("insertParagraph",new h(ie)),u.schema.register("paragraph",{inheritAllFrom:"$block"}),ie.conversion.elementToElement({model:"paragraph",view:"p"}),ie.conversion.for("upcast").elementToElement({model:(_,{writer:p})=>V.paragraphLikeElements.has(_.name)?_.isEmpty?null:p.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let q=V;q.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var Y=l("./packages/ckeditor5-ui/src/index.ts");const ee=c.icons.paragraph;class re extends c.Sy{static get requires(){return[q]}init(){const u=this.editor,_=u.t;u.ui.componentFactory.add("paragraph",p=>{const v=new Y.r5(p),A=u.commands.get("paragraph");return v.label=_("Paragraph"),v.icon=ee,v.tooltip=!0,v.isToggleable=!0,v.bind("isEnabled").to(A),v.bind("isOn").to(A,"value"),v.on("execute",()=>{u.execute("paragraph")}),v})}}},"./src/select-all.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{SelectAll:()=>ee,SelectAllEditing:()=>V,SelectAllUI:()=>Y});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class B extends c.mY{constructor(ie){super(ie),this.affectsData=!1}execute(){const ie=this.editor.model,u=ie.document.selection;let _=ie.schema.getLimitElement(u);if(u.containsEntireContent(_)||!y(ie.schema,_))do if(_=_.parent,!_)return;while(!y(ie.schema,_));ie.change(p=>{p.setSelection(_,"in")})}}function y(re,ie){return re.isLimit(ie)&&(re.checkChild(ie,"$text")||re.checkChild(ie,"paragraph"))}const h=(0,L.Zz)("Ctrl+A");class V extends c.Sy{static get pluginName(){return"SelectAllEditing"}init(){const ie=this.editor,u=ie.editing.view.document;ie.commands.add("selectAll",new B(ie)),this.listenTo(u,"keydown",(_,p)=>{(0,L.Cq)(p)===h&&(ie.execute("selectAll"),p.preventDefault())})}}var q=l("./packages/ckeditor5-ui/src/index.ts");class Y extends c.Sy{static get pluginName(){return"SelectAllUI"}init(){const ie=this.editor;ie.ui.componentFactory.add("selectAll",u=>{const _=ie.commands.get("selectAll"),p=new q.r5(u),v=u.t;return p.set({label:v("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),p.bind("isEnabled").to(_,"isEnabled"),this.listenTo(p,"execute",()=>{ie.execute("selectAll"),ie.editing.view.focus()}),p})}}class ee extends c.Sy{static get requires(){return[V,Y]}static get pluginName(){return"SelectAll"}}},"./src/typing.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{Delete:()=>c.HG,Input:()=>c.II,InsertTextCommand:()=>c.BT,TextTransformation:()=>c.cL,TextWatcher:()=>c.uL,TwoStepCaretMovement:()=>c.mh,Typing:()=>c.Mq,findAttributeRange:()=>c.VD,findAttributeRangeBound:()=>c.r9,getLastTextLine:()=>c.Up,inlineHighlight:()=>c.Im});var c=l("./packages/ckeditor5-typing/src/index.ts")},"./src/ui.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{AutocompleteView:()=>c.cH,BalloonPanelView:()=>c.no,BalloonToolbar:()=>c.Jf,BlockToolbar:()=>c.ee,BodyCollection:()=>c.BK,BoxedEditorUIView:()=>c.py,ButtonLabelView:()=>c.UR,ButtonView:()=>c.r5,CollapsibleView:()=>c.p2,ColorGridView:()=>c.J6,ColorPickerView:()=>c.J2,ColorSelectorView:()=>c.MI,ColorTileView:()=>c._9,ComponentFactory:()=>c._Y,ContextualBalloon:()=>c.WB,CssTransitionDisablerMixin:()=>c.RX,DropdownButtonView:()=>c.J0,DropdownPanelView:()=>c.G2,DropdownView:()=>c._n,EditorUI:()=>c.S8,EditorUIView:()=>c.fF,FilteredView:()=>c.LR,FocusCycler:()=>c.I0,FormHeaderView:()=>c.Gp,HighlightedTextView:()=>c.yd,IconView:()=>c.mO,IframeView:()=>c.VY,InlineEditableUIView:()=>c.r1,InputNumberView:()=>c.Xs,InputTextView:()=>c.pq,InputView:()=>c.Em,LabelView:()=>c.Dn,LabeledFieldView:()=>c.KP,ListItemGroupView:()=>c.YK,ListItemView:()=>c.dn,ListView:()=>c.Bv,Model:()=>c.Hn,Notification:()=>c.P_,SearchInfoView:()=>c.$W,SearchTextView:()=>c.ZU,SpinnerView:()=>c.RO,SplitButtonView:()=>c.Rm,StickyPanelView:()=>c.lp,SwitchButtonView:()=>c.BM,Template:()=>c.YS,TextareaView:()=>c.nC,ToolbarLineBreakView:()=>c.qR,ToolbarSeparatorView:()=>c.$y,ToolbarView:()=>c.jB,TooltipManager:()=>c.gE,View:()=>c.G7,ViewCollection:()=>c.vX,addKeyboardHandlingForGrid:()=>c.IJ,addListToDropdown:()=>c.Pm,addToolbarToDropdown:()=>c.up,clickOutsideHandler:()=>c.eC,createDropdown:()=>c.t9,createLabeledDropdown:()=>c.FH,createLabeledInputNumber:()=>c.sh,createLabeledInputText:()=>c.R,createLabeledTextarea:()=>c.s$,focusChildOnDropdownOpen:()=>c.Mh,getLocalizedColorOptions:()=>c.k6,icons:()=>c.ci,injectCssTransitionDisabler:()=>c.fe,normalizeColorOptions:()=>c.S1,normalizeSingleColorDefinition:()=>c.jY,normalizeToolbarConfig:()=>c.iw,submitHandler:()=>c.GI});var c=l("./packages/ckeditor5-ui/src/index.ts")},"./src/undo.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{Undo:()=>S,UndoEditing:()=>_,UndoUI:()=>T});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-engine/src/index.ts"),B=Object.defineProperty,y=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,q=(ae,$,z)=>$ in ae?B(ae,$,{enumerable:!0,configurable:!0,writable:!0,value:z}):ae[$]=z;class Y extends c.mY{constructor($){super($),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo($.data,"set",(z,f)=>{f[1]=((Z,D)=>{for(var oe in D||(D={}))h.call(D,oe)&&q(Z,oe,D[oe]);if(y)for(var oe of y(D))V.call(D,oe)&&q(Z,oe,D[oe]);return Z})({},f[1]);const j=f[1];j.batchType||(j.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo($.data,"set",(z,f)=>{f[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch($){const z=this.editor.model.document.selection,f={ranges:z.hasOwnRange?Array.from(z.getRanges()):[],isBackward:z.isBackward};this._stack.push({batch:$,selection:f}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection($,z,f){const j=this.editor.model,Z=j.document,D=[],oe=$.map(je=>je.getTransformedByOperations(f)),Se=oe.flat();for(const je of oe){const Ie=je.filter(De=>De.root!=Z.graveyard).filter(De=>!re(De,Se));Ie.length&&(ee(Ie),D.push(Ie[0]))}D.length&&j.change(je=>{je.setSelection(D,{backward:z})})}_undo($,z){const f=this.editor.model,j=f.document;this._createdBatches.add(z);const Z=$.operations.slice().filter(D=>D.isDocumentOperation);Z.reverse();for(const D of Z){const oe=D.baseVersion+1,Se=Array.from(j.history.getOperations(oe)),je=(0,L.Rf)([D.getReversed()],Se,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let Ie of je){const De=Ie.affectedSelectable;De&&!f.canEditAt(De)&&(Ie=new L.Pk(Ie.baseVersion)),z.addOperation(Ie),f.applyOperation(Ie),j.history.setOperationAsUndone(D,Ie)}}}}function ee(ae){ae.sort(($,z)=>$.start.isBefore(z.start)?-1:1);for(let $=1;$<ae.length;$++){const z=ae[$-1].getJoined(ae[$],!0);z&&($--,ae.splice($,2,z))}}function re(ae,$){return $.some(z=>z!==ae&&z.containsRange(ae,!0))}class ie extends Y{execute($=null){const z=$?this._stack.findIndex(Z=>Z.batch==$):this._stack.length-1,f=this._stack.splice(z,1)[0],j=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(j,()=>{this._undo(f.batch,j);const Z=this.editor.model.document.history.getOperations(f.batch.baseVersion);this._restoreSelection(f.selection.ranges,f.selection.isBackward,Z)}),this.fire("revert",f.batch,j),this.refresh()}}class u extends Y{execute(){const $=this._stack.pop(),z=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(z,()=>{const f=$.batch.operations[$.batch.operations.length-1].baseVersion+1,j=this.editor.model.document.history.getOperations(f);this._restoreSelection($.selection.ranges,$.selection.isBackward,j),this._undo($.batch,z)}),this.refresh()}}class _ extends c.Sy{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const $=this.editor;this._undoCommand=new ie($),this._redoCommand=new u($),$.commands.add("undo",this._undoCommand),$.commands.add("redo",this._redoCommand),this.listenTo($.model,"applyOperation",(z,f)=>{const j=f[0];if(!j.isDocumentOperation)return;const Z=j.batch,D=this._redoCommand.createdBatches.has(Z),oe=this._undoCommand.createdBatches.has(Z);this._batchRegistry.has(Z)||(this._batchRegistry.add(Z),Z.isUndoable&&(D?this._undoCommand.addBatch(Z):oe||(this._undoCommand.addBatch(Z),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(z,f,j)=>{this._redoCommand.addBatch(j)}),$.keystrokes.set("CTRL+Z","undo"),$.keystrokes.set("CTRL+Y","redo"),$.keystrokes.set("CTRL+SHIFT+Z","redo")}}var p=l("./packages/ckeditor5-ui/src/index.ts");const v='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',A='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class T extends c.Sy{static get pluginName(){return"UndoUI"}init(){const $=this.editor,z=$.locale,f=$.t,j=z.uiLanguageDirection=="ltr"?v:A,Z=z.uiLanguageDirection=="ltr"?A:v;this._addButton("undo",f("Undo"),"CTRL+Z",j),this._addButton("redo",f("Redo"),"CTRL+Y",Z)}_addButton($,z,f,j){const Z=this.editor;Z.ui.componentFactory.add($,D=>{const oe=Z.commands.get($),Se=new p.r5(D);return Se.set({label:z,icon:j,keystroke:f,tooltip:!0}),Se.bind("isEnabled").to(oe,"isEnabled"),this.listenTo(Se,"execute",()=>{Z.execute($),Z.editing.view.focus()}),Se})}}class S extends c.Sy{static get requires(){return[_,T]}static get pluginName(){return"Undo"}}},"./src/upload.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{Base64UploadAdapter:()=>ee,FileDialogButtonView:()=>q,FileRepository:()=>y,SimpleUploadAdapter:()=>S});var c=l("./packages/ckeditor5-core/src/index.ts"),L=l("./packages/ckeditor5-utils/src/index.ts");class B extends(0,L.Re)(){constructor(){super();const z=new window.FileReader;this._reader=z,this._data=void 0,this.set("loaded",0),z.onprogress=f=>{this.loaded=f.loaded}}get error(){return this._reader.error}get data(){return this._data}read(z){const f=this._reader;return this.total=z.size,new Promise((j,Z)=>{f.onload=()=>{const D=f.result;this._data=D,j(D)},f.onerror=()=>{Z("error")},f.onabort=()=>{Z("aborted")},this._reader.readAsDataURL(z)})}abort(){this._reader.abort()}}class y extends c.Sy{constructor(){super(...arguments),this.loaders=new L.FE,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[c.lR]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(z,f)=>f?z/f*100:0)}getLoader(z){return this._loadersMap.get(z)||null}createLoader(z){if(!this.createUploadAdapter)return(0,L.KE)("filerepository-no-upload-adapter"),null;const f=new h(Promise.resolve(z),this.createUploadAdapter);return this.loaders.add(f),this._loadersMap.set(z,f),z instanceof Promise&&f.file.then(j=>{this._loadersMap.set(j,f)}).catch(()=>{}),f.on("change:uploaded",()=>{let j=0;for(const Z of this.loaders)j+=Z.uploaded;this.uploaded=j}),f.on("change:uploadTotal",()=>{let j=0;for(const Z of this.loaders)Z.uploadTotal&&(j+=Z.uploadTotal);this.uploadTotal=j}),f}destroyLoader(z){const f=z instanceof h?z:this.getLoader(z);f._destroy(),this.loaders.remove(f),this._loadersMap.forEach((j,Z)=>{j===f&&this._loadersMap.delete(Z)})}_updatePendingAction(){const z=this.editor.plugins.get(c.lR);if(this.loaders.length){if(!this._pendingAction){const f=this.editor.t,j=Z=>`${f("Upload in progress")} ${parseInt(Z)}%.`;this._pendingAction=z.add(j(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",j)}}else z.remove(this._pendingAction),this._pendingAction=null}}class h extends(0,L.Re)(){constructor(z,f){super(),this.id=(0,L.hQ)(),this._filePromiseWrapper=this._createFilePromiseWrapper(z),this._adapter=f(this),this._reader=new B,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(j,Z)=>Z?j/Z*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(z=>this._filePromiseWrapper?z:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new L.Bb("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(z=>this._reader.read(z)).then(z=>{if(this.status!=="reading")throw this.status;return this.status="idle",z}).catch(z=>{throw z==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:z)})}upload(){if(this.status!="idle")throw new L.Bb("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(z=>(this.uploadResponse=z,this.status="idle",z)).catch(z=>{throw this.status==="aborted"?"aborted":(this.status="error",z)})}abort(){const z=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?z=="reading"?this._reader.abort():z=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(z){const f={};return f.promise=new Promise((j,Z)=>{f.rejecter=Z,f.isFulfilled=!1,z.then(D=>{f.isFulfilled=!0,j(D)}).catch(D=>{f.isFulfilled=!0,Z(D)})}),f}}var V=l("./packages/ckeditor5-ui/src/index.ts");class q extends V.r5{constructor(z){super(z),this.buttonView=this,this._fileInputView=new Y(z),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class Y extends V.G7{constructor(z){super(z),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const f=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:f.to("acceptedType"),multiple:f.to("allowMultipleFiles")},on:{change:f.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class ee extends c.Sy{static get requires(){return[y]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(y).createUploadAdapter=z=>new re(z)}}class re{constructor(z){this.loader=z}upload(){return new Promise((z,f)=>{const j=this.reader=new window.FileReader;j.addEventListener("load",()=>{z({default:j.result})}),j.addEventListener("error",Z=>{f(Z)}),j.addEventListener("abort",()=>{f()}),this.loader.file.then(Z=>{j.readAsDataURL(Z)})})}abort(){this.reader.abort()}}var ie=Object.defineProperty,u=Object.defineProperties,_=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,T=($,z,f)=>z in $?ie($,z,{enumerable:!0,configurable:!0,writable:!0,value:f}):$[z]=f;class S extends c.Sy{static get requires(){return[y]}static get pluginName(){return"SimpleUploadAdapter"}init(){const z=this.editor.config.get("simpleUpload");z&&(z.uploadUrl?this.editor.plugins.get(y).createUploadAdapter=f=>new ae(f,z):(0,L.KE)("simple-upload-adapter-missing-uploadurl"))}}class ae{constructor(z,f){this.loader=z,this.options=f}upload(){return this.loader.file.then(z=>new Promise((f,j)=>{this._initRequest(),this._initListeners(f,j,z),this._sendRequest(z)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const z=this.xhr=new XMLHttpRequest;z.open("POST",this.options.uploadUrl,!0),z.responseType="json"}_initListeners(z,f,j){const Z=this.xhr,D=this.loader,oe=`Couldn't upload file: ${j.name}.`;Z.addEventListener("error",()=>f(oe)),Z.addEventListener("abort",()=>f()),Z.addEventListener("load",()=>{const Se=Z.response;if(!Se||Se.error)return f(Se&&Se.error&&Se.error.message?Se.error.message:oe);const je=Se.url?{default:Se.url}:Se.urls;var Ie;z((Ie=((De,mt)=>{for(var lt in mt||(mt={}))v.call(mt,lt)&&T(De,lt,mt[lt]);if(p)for(var lt of p(mt))A.call(mt,lt)&&T(De,lt,mt[lt]);return De})({},Se),u(Ie,_({urls:je}))))}),Z.upload&&Z.upload.addEventListener("progress",Se=>{Se.lengthComputable&&(D.uploadTotal=Se.total,D.uploaded=Se.loaded)})}_sendRequest(z){const f=this.options.headers||{},j=this.options.withCredentials||!1;for(const D of Object.keys(f))this.xhr.setRequestHeader(D,f[D]);this.xhr.withCredentials=j;const Z=new FormData;Z.append("upload",z),this.xhr.send(Z)}}},"./src/utils.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{CKEditorError:()=>c.Bb,Collection:()=>c.FE,Config:()=>c.De,DomEmitterMixin:()=>c.Xu,ElementReplacer:()=>c.a6,EmitterMixin:()=>c.ln,EventInfo:()=>c.M3,FocusTracker:()=>c.Rh,KeystrokeHandler:()=>c.VD,Locale:()=>c.go,ObservableMixin:()=>c.Re,Rect:()=>c.UL,ResizeObserver:()=>c.do,abortableDebounce:()=>c.fZ,compareArrays:()=>c.Rt,count:()=>c.QX,createElement:()=>c.az,delay:()=>c.gw,diff:()=>c.Hg,diffToChanges:()=>c.Pk,env:()=>c.OB,exponentialDelay:()=>c.$J,fastDiff:()=>c.HZ,findClosestScrollableAncestor:()=>c.wm,first:()=>c.Ps,getAncestors:()=>c.dk,getBorderWidths:()=>c.lo,getCode:()=>c.Cq,getDataFromElement:()=>c.yy,getEnvKeystrokeText:()=>c.XU,getLanguageDirection:()=>c.j9,getLocalizedArrowKeyCodeDirection:()=>c.mA,getOptimalPosition:()=>c.xZ,global:()=>c.global,indexOf:()=>c.cq,insertAt:()=>c.ZQ,insertToPriorityArray:()=>c.VG,isArrowKeyCode:()=>c.dj,isCombiningMark:()=>c.tO,isComment:()=>c.C3,isForwardArrowKeyCode:()=>c.Zt,isHighSurrogateHalf:()=>c.Cb,isInsideCombinedSymbol:()=>c.pp,isInsideEmojiSequence:()=>c.YK,isInsideSurrogatePair:()=>c.to,isIterable:()=>c.TW,isLowSurrogateHalf:()=>c.nA,isNode:()=>c.UG,isRange:()=>c.bR,isText:()=>c.Gs,isValidAttributeName:()=>c.$b,isVisible:()=>c.pn,keyCodes:()=>c.Do,logError:()=>c.H,logWarning:()=>c.KE,mix:()=>c.CD,parseKeystroke:()=>c.Zz,priorities:()=>c.tA,releaseDate:()=>c.Dm,remove:()=>c.Od,retry:()=>c.XD,scrollAncestorsToShowTarget:()=>c.F0,scrollViewportToShowTarget:()=>c.mR,setDataInElement:()=>c.jS,spliceArray:()=>c.x,toArray:()=>c.qo,toMap:()=>c.qL,toUnit:()=>c.nn,uid:()=>c.hQ,verifyLicense:()=>c.Tx,version:()=>c.i8,wait:()=>c.Dc});var c=l("./packages/ckeditor5-utils/src/index.ts")},"./src/watchdog.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{ContextWatchdog:()=>ae,EditorWatchdog:()=>A,Watchdog:()=>c});class c{constructor(j){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof j.crashNumberLimit=="number"?j.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof j.minimumNonErrorTimePeriod=="number"?j.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Z=>{const D="error"in Z?Z.error:Z.reason;D instanceof Error&&this._handleError(D,Z)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(j,Z){this._listeners[j]||(this._listeners[j]=[]),this._listeners[j].push(Z)}off(j,Z){this._listeners[j]=this._listeners[j].filter(D=>D!==Z)}_fire(j,...Z){const D=this._listeners[j]||[];for(const oe of D)oe.apply(this,[null,...Z])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(j,Z){if(this._shouldReactToError(j)){this.crashes.push({message:j.message,stack:j.stack,filename:Z instanceof ErrorEvent?Z.filename:void 0,lineno:Z instanceof ErrorEvent?Z.lineno:void 0,colno:Z instanceof ErrorEvent?Z.colno:void 0,date:this._now()});const D=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:j,causesRestart:D}),D?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(j){return j.is&&j.is("CKEditorError")&&j.context!==void 0&&j.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(j)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function L(f,j=new Set){const Z=[f],D=new Set;let oe=0;for(;Z.length>oe;){const Se=Z[oe++];if(!D.has(Se)&&B(Se)&&!j.has(Se))if(D.add(Se),Symbol.iterator in Se)try{for(const je of Se)Z.push(je)}catch{}else for(const je in Se)je!=="defaultValue"&&Z.push(Se[je])}return D}function B(f){const j=Object.prototype.toString.call(f),Z=typeof f;return!(Z==="number"||Z==="boolean"||Z==="string"||Z==="symbol"||Z==="function"||j==="[object Date]"||j==="[object RegExp]"||j==="[object Module]"||f==null||f._watchdogExcluded||f instanceof EventTarget||f instanceof Event)}function y(f,j,Z=new Set){if(f===j&&typeof(D=f)=="object"&&D!==null)return!0;var D;const oe=L(f,Z),Se=L(j,Z);for(const je of oe)if(Se.has(je))return!0;return!1}var h=l("./node_modules/lodash-es/throttle.js"),V=l("./node_modules/lodash-es/isElement.js"),q=l("./node_modules/lodash-es/cloneDeepWith.js"),Y=Object.defineProperty,ee=Object.defineProperties,re=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,p=(f,j,Z)=>j in f?Y(f,j,{enumerable:!0,configurable:!0,writable:!0,value:Z}):f[j]=Z,v=(f,j)=>{for(var Z in j||(j={}))u.call(j,Z)&&p(f,Z,j[Z]);if(ie)for(var Z of ie(j))_.call(j,Z)&&p(f,Z,j[Z]);return f};class A extends c{constructor(j,Z={}){super(Z),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=(0,h.Z)(this._save.bind(this),typeof Z.saveInterval=="number"?Z.saveInterval:5e3),j&&(this._creator=(D,oe)=>j.create(D,oe)),this._destructor=D=>D.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(j){this._creator=j}setDestructor(j){this._destructor=j}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(j=>{console.error("An error happened during the editor destroying.",j)}).then(()=>{const j={},Z=[],D=this._config.rootsAttributes||{},oe={};for(const[De,mt]of Object.entries(this._data.roots))mt.isLoaded?(j[De]="",oe[De]=D[De]||{}):Z.push(De);const Se=(je=v({},this._config),Ie={extraPlugins:this._config.extraPlugins||[],lazyRoots:Z,rootsAttributes:oe,_watchdogInitialData:this._data},ee(je,re(Ie)));var je,Ie;return delete Se.initialData,Se.extraPlugins.push(T),this._initUsingData?this.create(j,Se,Se.context):(0,V.Z)(this._elementOrData)?this.create(this._elementOrData,Se,Se.context):this.create(this._editables,Se,Se.context)}).then(()=>{this._fire("restart")})}create(j=this._elementOrData,Z=this._config,D){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=j,this._initUsingData=typeof j=="string"||Object.keys(j).length>0&&typeof Object.values(j)[0]=="string",this._config=this._cloneEditorConfiguration(Z)||{},this._config.context=D,this._creator(j,this._config))).then(oe=>{this._editor=oe,oe.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=oe.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const j=this._editor;return this._editor=null,j.model.document.off("change:data",this._throttledSave),this._destructor(j)})}_save(){const j=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=j}catch(Z){console.error(Z,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(j){this._excludedProps=j}_getData(){const j=this._editor,Z=j.model.document.roots.filter(Ie=>Ie.isAttached()&&Ie.rootName!="$graveyard"),{plugins:D}=j,oe=D.has("CommentsRepository")&&D.get("CommentsRepository"),Se=D.has("TrackChanges")&&D.get("TrackChanges"),je={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};Z.forEach(Ie=>{je.roots[Ie.rootName]={content:JSON.stringify(Array.from(Ie.getChildren())),attributes:JSON.stringify(Array.from(Ie.getAttributes())),isLoaded:Ie._isLoaded}});for(const Ie of j.model.markers)Ie._affectsData&&(je.markers[Ie.name]={rangeJSON:Ie.getRange().toJSON(),usingOperation:Ie._managedUsingOperations,affectsData:Ie._affectsData});return oe&&(je.commentThreads=JSON.stringify(oe.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),Se&&(je.suggestions=JSON.stringify(Se.getSuggestions({toJSON:!0,skipNotAttached:!0}))),je}_getEditables(){const j={};for(const Z of this.editor.model.document.getRootNames()){const D=this.editor.ui.getEditableElement(Z);D&&(j[Z]=D)}return j}_isErrorComingFromThisItem(j){return y(this._editor,j.context,this._excludedProps)}_cloneEditorConfiguration(j){return(0,q.Z)(j,(Z,D)=>(0,V.Z)(Z)||D==="context"?Z:void 0)}}class T{constructor(j){this.editor=j,this._data=j.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",j=>{j.stop(),this.editor.model.enqueueChange({isUndoable:!1},Z=>{this._restoreCollaborationData(),this._restoreEditorData(Z)}),this.editor.data.fire("ready")},{priority:999})}_createNode(j,Z){if("name"in Z){const D=j.createElement(Z.name,Z.attributes);if(Z.children)for(const oe of Z.children)D._appendChild(this._createNode(j,oe));return D}return j.createText(Z.data,Z.attributes)}_restoreEditorData(j){const Z=this.editor;Object.entries(this._data.roots).forEach(([D,{content:oe,attributes:Se}])=>{const je=JSON.parse(oe),Ie=JSON.parse(Se),De=Z.model.document.getRoot(D);for(const[mt,lt]of Ie)j.setAttribute(mt,lt,De);for(const mt of je){const lt=this._createNode(j,mt);j.insert(lt,De,"end")}}),Object.entries(this._data.markers).forEach(([D,oe])=>{const{document:Se}=Z.model,je=oe,{rangeJSON:{start:Ie,end:De}}=je,mt=((bt,Qe)=>{var ft={};for(var Ve in bt)u.call(bt,Ve)&&Qe.indexOf(Ve)<0&&(ft[Ve]=bt[Ve]);if(bt!=null&&ie)for(var Ve of ie(bt))Qe.indexOf(Ve)<0&&_.call(bt,Ve)&&(ft[Ve]=bt[Ve]);return ft})(je,["rangeJSON"]),lt=Se.getRoot(Ie.root),ut=j.createPositionFromPath(lt,Ie.path,Ie.stickiness),dt=j.createPositionFromPath(lt,De.path,De.stickiness),vt=j.createRange(ut,dt);j.addMarker(D,v({range:vt},mt))})}_restoreCollaborationData(){const j=JSON.parse(this._data.commentThreads),Z=JSON.parse(this._data.suggestions);j.forEach(D=>{const oe=this.editor.config.get("collaboration.channelId"),Se=this.editor.plugins.get("CommentsRepository");Se.hasCommentThread(D.threadId)&&Se.getCommentThread(D.threadId).remove(),Se.addCommentThread(v({channelId:oe},D))}),Z.forEach(D=>{const oe=this.editor.plugins.get("TrackChangesEditing");oe.hasSuggestion(D.id)?oe.getSuggestion(D.id).attributes=D.attributes:oe.addSuggestionData(D)})}}const S=Symbol("MainQueueId");class ae extends c{constructor(j,Z={}){super(Z),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new $,this._watchdogConfig=Z,this._creator=D=>j.create(D),this._destructor=D=>D.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(j){this._creator=j}setDestructor(j){this._destructor=j}get context(){return this._context}create(j={}){return this._actionQueues.enqueue(S,()=>(this._contextConfig=j,this._create()))}getItem(j){return this._getWatchdog(j)._item}getItemState(j){return this._getWatchdog(j).state}add(j){const Z=z(j);return Promise.all(Z.map(D=>this._actionQueues.enqueue(D.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let oe;if(this._watchdogs.has(D.id))throw new Error(`Item with the given id is already added: '${D.id}'.`);if(D.type==="editor")return oe=new A(null,this._watchdogConfig),oe.setCreator(D.creator),oe._setExcludedProperties(this._contextProps),D.destructor&&oe.setDestructor(D.destructor),this._watchdogs.set(D.id,oe),oe.on("error",(Se,{error:je,causesRestart:Ie})=>{this._fire("itemError",{itemId:D.id,error:je}),Ie&&this._actionQueues.enqueue(D.id,()=>new Promise(De=>{const mt=()=>{oe.off("restart",mt),this._fire("itemRestart",{itemId:D.id}),De()};oe.on("restart",mt)}))}),oe.create(D.sourceElementOrData,D.config,this._context);throw new Error(`Not supported item type: '${D.type}'.`)})))}remove(j){const Z=z(j);return Promise.all(Z.map(D=>this._actionQueues.enqueue(D,()=>{const oe=this._getWatchdog(D);return this._watchdogs.delete(D),oe.destroy()})))}destroy(){return this._actionQueues.enqueue(S,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(S,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(j=>{console.error("An error happened during destroying the context or items.",j)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(j=>(this._context=j,this._contextProps=L(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Z=>(Z._setExcludedProperties(this._contextProps),Z.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const j=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Z=>Z.destroy())).then(()=>this._destructor(j))})}_getWatchdog(j){const Z=this._watchdogs.get(j);if(!Z)throw new Error(`Item with the given id was not registered: ${j}.`);return Z}_isErrorComingFromThisItem(j){for(const Z of this._watchdogs.values())if(Z._isErrorComingFromThisItem(j))return!1;return y(this._context,j.context)}}class ${constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(j){this._onEmptyCallbacks.push(j)}enqueue(j,Z){const D=j===S;this._activeActions++,this._queues.get(j)||this._queues.set(j,Promise.resolve());const oe=(D?Promise.all(this._queues.values()):Promise.all([this._queues.get(S),this._queues.get(j)])).then(Z),Se=oe.catch(()=>{});return this._queues.set(j,Se),oe.finally(()=>{this._activeActions--,this._queues.get(j)===Se&&this._activeActions===0&&this._onEmptyCallbacks.forEach(je=>je())})}}function z(f){return Array.isArray(f)?f:[f]}},"./src/widget.js":(w,C,l)=>{"use strict";l.r(C),l.d(C,{WIDGET_CLASS_NAME:()=>c.s4,WIDGET_SELECTED_CLASS_NAME:()=>c.Uo,Widget:()=>c.$L,WidgetResize:()=>c.WR,WidgetToolbarRepository:()=>c.e8,WidgetTypeAround:()=>c.Ww,findOptimalInsertionRange:()=>c.KT,getLabel:()=>c.id,isWidget:()=>c.Qd,setHighlightHandling:()=>c.em,setLabel:()=>c.l6,toWidget:()=>c.XC,toWidgetEditable:()=>c.sC,viewToModelPositionOutsideModelElement:()=>c.$n});var c=l("./packages/ckeditor5-widget/src/index.ts")},"?7cdd":(w,C,l)=>{w.exports=l},"./node_modules/lodash-es/_ListCache.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>re});const c=function(){this.__data__=[],this.size=0};var L=l("./node_modules/lodash-es/eq.js");const B=function(ie,u){for(var _=ie.length;_--;)if((0,L.Z)(ie[_][0],u))return _;return-1};var y=Array.prototype.splice;const h=function(ie){var u=this.__data__,_=B(u,ie);return!(_<0)&&(_==u.length-1?u.pop():y.call(u,_,1),--this.size,!0)},V=function(ie){var u=this.__data__,_=B(u,ie);return _<0?void 0:u[_][1]},q=function(ie){return B(this.__data__,ie)>-1},Y=function(ie,u){var _=this.__data__,p=B(_,ie);return p<0?(++this.size,_.push([ie,u])):_[p][1]=u,this};function ee(ie){var u=-1,_=ie==null?0:ie.length;for(this.clear();++u<_;){var p=ie[u];this.set(p[0],p[1])}}ee.prototype.clear=c,ee.prototype.delete=h,ee.prototype.get=V,ee.prototype.has=q,ee.prototype.set=Y;const re=ee},"./node_modules/lodash-es/_Map.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/_getNative.js"),L=l("./node_modules/lodash-es/_root.js");const B=(0,c.Z)(L.Z,"Map")},"./node_modules/lodash-es/_MapCache.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>z});const c=(0,l("./node_modules/lodash-es/_getNative.js").Z)(Object,"create"),L=function(){this.__data__=c?c(null):{},this.size=0},B=function(f){var j=this.has(f)&&delete this.__data__[f];return this.size-=j?1:0,j};var y=Object.prototype.hasOwnProperty;const h=function(f){var j=this.__data__;if(c){var Z=j[f];return Z==="__lodash_hash_undefined__"?void 0:Z}return y.call(j,f)?j[f]:void 0};var V=Object.prototype.hasOwnProperty;const q=function(f){var j=this.__data__;return c?j[f]!==void 0:V.call(j,f)},Y=function(f,j){var Z=this.__data__;return this.size+=this.has(f)?0:1,Z[f]=c&&j===void 0?"__lodash_hash_undefined__":j,this};function ee(f){var j=-1,Z=f==null?0:f.length;for(this.clear();++j<Z;){var D=f[j];this.set(D[0],D[1])}}ee.prototype.clear=L,ee.prototype.delete=B,ee.prototype.get=h,ee.prototype.has=q,ee.prototype.set=Y;const re=ee;var ie=l("./node_modules/lodash-es/_ListCache.js"),u=l("./node_modules/lodash-es/_Map.js");const _=function(){this.size=0,this.__data__={hash:new re,map:new(u.Z||ie.Z),string:new re}},p=function(f){var j=typeof f;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?f!=="__proto__":f===null},v=function(f,j){var Z=f.__data__;return p(j)?Z[typeof j=="string"?"string":"hash"]:Z.map},A=function(f){var j=v(this,f).delete(f);return this.size-=j?1:0,j},T=function(f){return v(this,f).get(f)},S=function(f){return v(this,f).has(f)},ae=function(f,j){var Z=v(this,f),D=Z.size;return Z.set(f,j),this.size+=Z.size==D?0:1,this};function $(f){var j=-1,Z=f==null?0:f.length;for(this.clear();++j<Z;){var D=f[j];this.set(D[0],D[1])}}$.prototype.clear=_,$.prototype.delete=A,$.prototype.get=T,$.prototype.has=S,$.prototype.set=ae;const z=$},"./node_modules/lodash-es/_Stack.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>re});var c=l("./node_modules/lodash-es/_ListCache.js");const L=function(){this.__data__=new c.Z,this.size=0},B=function(ie){var u=this.__data__,_=u.delete(ie);return this.size=u.size,_},y=function(ie){return this.__data__.get(ie)},h=function(ie){return this.__data__.has(ie)};var V=l("./node_modules/lodash-es/_Map.js"),q=l("./node_modules/lodash-es/_MapCache.js");const Y=function(ie,u){var _=this.__data__;if(_ instanceof c.Z){var p=_.__data__;if(!V.Z||p.length<199)return p.push([ie,u]),this.size=++_.size,this;_=this.__data__=new q.Z(p)}return _.set(ie,u),this.size=_.size,this};function ee(ie){var u=this.__data__=new c.Z(ie);this.size=u.size}ee.prototype.clear=L,ee.prototype.delete=B,ee.prototype.get=y,ee.prototype.has=h,ee.prototype.set=Y;const re=ee},"./node_modules/lodash-es/_Symbol.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=l("./node_modules/lodash-es/_root.js").Z.Symbol},"./node_modules/lodash-es/_Uint8Array.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=l("./node_modules/lodash-es/_root.js").Z.Uint8Array},"./node_modules/lodash-es/_arrayLikeKeys.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>Y});const c=function(ee,re){for(var ie=-1,u=Array(ee);++ie<ee;)u[ie]=re(ie);return u};var L=l("./node_modules/lodash-es/isArguments.js"),B=l("./node_modules/lodash-es/isArray.js"),y=l("./node_modules/lodash-es/isBuffer.js"),h=l("./node_modules/lodash-es/_isIndex.js"),V=l("./node_modules/lodash-es/isTypedArray.js"),q=Object.prototype.hasOwnProperty;const Y=function(ee,re){var ie=(0,B.Z)(ee),u=!ie&&(0,L.Z)(ee),_=!ie&&!u&&(0,y.Z)(ee),p=!ie&&!u&&!_&&(0,V.Z)(ee),v=ie||u||_||p,A=v?c(ee.length,String):[],T=A.length;for(var S in ee)!re&&!q.call(ee,S)||v&&(S=="length"||_&&(S=="offset"||S=="parent")||p&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||(0,h.Z)(S,T))||A.push(S);return A}},"./node_modules/lodash-es/_arrayPush.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L,B){for(var y=-1,h=B.length,V=L.length;++y<h;)L[V+y]=B[y];return L}},"./node_modules/lodash-es/_assignValue.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>y});var c=l("./node_modules/lodash-es/_baseAssignValue.js"),L=l("./node_modules/lodash-es/eq.js"),B=Object.prototype.hasOwnProperty;const y=function(h,V,q){var Y=h[V];B.call(h,V)&&(0,L.Z)(Y,q)&&(q!==void 0||V in h)||(0,c.Z)(h,V,q)}},"./node_modules/lodash-es/_baseAssignValue.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=l("./node_modules/lodash-es/_defineProperty.js");const L=function(B,y,h){y=="__proto__"&&c.Z?(0,c.Z)(B,y,{configurable:!0,enumerable:!0,value:h,writable:!0}):B[y]=h}},"./node_modules/lodash-es/_baseClone.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>ui});var c=l("./node_modules/lodash-es/_Stack.js");const L=function(Vt,ti){for(var hi=-1,Ci=Vt==null?0:Vt.length;++hi<Ci&&ti(Vt[hi],hi,Vt)!==!1;);return Vt};var B=l("./node_modules/lodash-es/_assignValue.js"),y=l("./node_modules/lodash-es/_copyObject.js"),h=l("./node_modules/lodash-es/keys.js");const V=function(Vt,ti){return Vt&&(0,y.Z)(ti,(0,h.Z)(ti),Vt)};var q=l("./node_modules/lodash-es/keysIn.js");const Y=function(Vt,ti){return Vt&&(0,y.Z)(ti,(0,q.Z)(ti),Vt)};var ee=l("./node_modules/lodash-es/_cloneBuffer.js"),re=l("./node_modules/lodash-es/_copyArray.js"),ie=l("./node_modules/lodash-es/_getSymbols.js");const u=function(Vt,ti){return(0,y.Z)(Vt,(0,ie.Z)(Vt),ti)};var _=l("./node_modules/lodash-es/_arrayPush.js"),p=l("./node_modules/lodash-es/_getPrototype.js"),v=l("./node_modules/lodash-es/stubArray.js");const A=Object.getOwnPropertySymbols?function(Vt){for(var ti=[];Vt;)(0,_.Z)(ti,(0,ie.Z)(Vt)),Vt=(0,p.Z)(Vt);return ti}:v.Z,T=function(Vt,ti){return(0,y.Z)(Vt,A(Vt),ti)};var S=l("./node_modules/lodash-es/_getAllKeys.js"),ae=l("./node_modules/lodash-es/_baseGetAllKeys.js");const $=function(Vt){return(0,ae.Z)(Vt,q.Z,A)};var z=l("./node_modules/lodash-es/_getTag.js"),f=Object.prototype.hasOwnProperty;const j=function(Vt){var ti=Vt.length,hi=new Vt.constructor(ti);return ti&&typeof Vt[0]=="string"&&f.call(Vt,"index")&&(hi.index=Vt.index,hi.input=Vt.input),hi};var Z=l("./node_modules/lodash-es/_cloneArrayBuffer.js");const D=function(Vt,ti){var hi=ti?(0,Z.Z)(Vt.buffer):Vt.buffer;return new Vt.constructor(hi,Vt.byteOffset,Vt.byteLength)};var oe=/\w*$/;const Se=function(Vt){var ti=new Vt.constructor(Vt.source,oe.exec(Vt));return ti.lastIndex=Vt.lastIndex,ti};var je=l("./node_modules/lodash-es/_Symbol.js"),Ie=je.Z?je.Z.prototype:void 0,De=Ie?Ie.valueOf:void 0;const mt=function(Vt){return De?Object(De.call(Vt)):{}};var lt=l("./node_modules/lodash-es/_cloneTypedArray.js");const ut=function(Vt,ti,hi){var Ci=Vt.constructor;switch(ti){case"[object ArrayBuffer]":return(0,Z.Z)(Vt);case"[object Boolean]":case"[object Date]":return new Ci(+Vt);case"[object DataView]":return D(Vt,hi);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,lt.Z)(Vt,hi);case"[object Map]":case"[object Set]":return new Ci;case"[object Number]":case"[object String]":return new Ci(Vt);case"[object RegExp]":return Se(Vt);case"[object Symbol]":return mt(Vt)}};var dt=l("./node_modules/lodash-es/_initCloneObject.js"),vt=l("./node_modules/lodash-es/isArray.js"),bt=l("./node_modules/lodash-es/isBuffer.js"),Qe=l("./node_modules/lodash-es/isObjectLike.js");const ft=function(Vt){return(0,Qe.Z)(Vt)&&(0,z.Z)(Vt)=="[object Map]"};var Ve=l("./node_modules/lodash-es/_baseUnary.js"),Te=l("./node_modules/lodash-es/_nodeUtil.js"),Q=Te.Z&&Te.Z.isMap;const xe=Q?(0,Ve.Z)(Q):ft;var Oe=l("./node_modules/lodash-es/isObject.js");const Je=function(Vt){return(0,Qe.Z)(Vt)&&(0,z.Z)(Vt)=="[object Set]"};var $e=Te.Z&&Te.Z.isSet;const tt=$e?(0,Ve.Z)($e):Je;var st="[object Arguments]",Pt="[object Function]",Ft="[object Object]",Gt={};Gt[st]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object DataView]"]=Gt["[object Boolean]"]=Gt["[object Date]"]=Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt[Ft]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object Symbol]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Error]"]=Gt[Pt]=Gt["[object WeakMap]"]=!1;const ui=function Vt(ti,hi,Ci,Oi,Di,Vi){var Pi,Zi=1&hi,at=2&hi,ue=4&hi;if(Ci&&(Pi=Di?Ci(ti,Oi,Di,Vi):Ci(ti)),Pi!==void 0)return Pi;if(!(0,Oe.Z)(ti))return ti;var ye=(0,vt.Z)(ti);if(ye){if(Pi=j(ti),!Zi)return(0,re.Z)(ti,Pi)}else{var Le=(0,z.Z)(ti),Ge=Le==Pt||Le=="[object GeneratorFunction]";if((0,bt.Z)(ti))return(0,ee.Z)(ti,Zi);if(Le==Ft||Le==st||Ge&&!Di){if(Pi=at||Ge?{}:(0,dt.Z)(ti),!Zi)return at?T(ti,Y(Pi,ti)):u(ti,V(Pi,ti))}else{if(!Gt[Le])return Di?ti:{};Pi=ut(ti,Le,Zi)}}Vi||(Vi=new c.Z);var ot=Vi.get(ti);if(ot)return ot;Vi.set(ti,Pi),tt(ti)?ti.forEach(function(Ot){Pi.add(Vt(Ot,hi,Ci,Ot,ti,Vi))}):xe(ti)&&ti.forEach(function(Ot,Ut){Pi.set(Ut,Vt(Ot,hi,Ci,Ut,ti,Vi))});var gt=ue?at?$:S.Z:at?q.Z:h.Z,Lt=ye?void 0:gt(ti);return L(Lt||ti,function(Ot,Ut){Lt&&(Ot=ti[Ut=Ot]),(0,B.Z)(Pi,Ut,Vt(Ot,hi,Ci,Ut,ti,Vi))}),Pi}},"./node_modules/lodash-es/_baseGetAllKeys.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/_arrayPush.js"),L=l("./node_modules/lodash-es/isArray.js");const B=function(y,h,V){var q=h(y);return(0,L.Z)(y)?q:(0,c.Z)(q,V(y))}},"./node_modules/lodash-es/_baseGetTag.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>re});var c=l("./node_modules/lodash-es/_Symbol.js"),L=Object.prototype,B=L.hasOwnProperty,y=L.toString,h=c.Z?c.Z.toStringTag:void 0;const V=function(ie){var u=B.call(ie,h),_=ie[h];try{ie[h]=void 0;var p=!0}catch{}var v=y.call(ie);return p&&(u?ie[h]=_:delete ie[h]),v};var q=Object.prototype.toString;const Y=function(ie){return q.call(ie)};var ee=c.Z?c.Z.toStringTag:void 0;const re=function(ie){return ie==null?ie===void 0?"[object Undefined]":"[object Null]":ee&&ee in Object(ie)?V(ie):Y(ie)}},"./node_modules/lodash-es/_baseUnary.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L){return function(B){return L(B)}}},"./node_modules/lodash-es/_cloneArrayBuffer.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=l("./node_modules/lodash-es/_Uint8Array.js");const L=function(B){var y=new B.constructor(B.byteLength);return new c.Z(y).set(new c.Z(B)),y}},"./node_modules/lodash-es/_cloneBuffer.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>V});var c=l("./node_modules/lodash-es/_root.js"),L=It&&!It.nodeType&&It,B=L&&!0&&Qt&&!Qt.nodeType&&Qt,y=B&&B.exports===L?c.Z.Buffer:void 0,h=y?y.allocUnsafe:void 0;const V=function(q,Y){if(Y)return q.slice();var ee=q.length,re=h?h(ee):new q.constructor(ee);return q.copy(re),re}},"./node_modules/lodash-es/_cloneTypedArray.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=l("./node_modules/lodash-es/_cloneArrayBuffer.js");const L=function(B,y){var h=y?(0,c.Z)(B.buffer):B.buffer;return new B.constructor(h,B.byteOffset,B.length)}},"./node_modules/lodash-es/_copyArray.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L,B){var y=-1,h=L.length;for(B||(B=Array(h));++y<h;)B[y]=L[y];return B}},"./node_modules/lodash-es/_copyObject.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/_assignValue.js"),L=l("./node_modules/lodash-es/_baseAssignValue.js");const B=function(y,h,V,q){var Y=!V;V||(V={});for(var ee=-1,re=h.length;++ee<re;){var ie=h[ee],u=q?q(V[ie],y[ie],ie,V,y):void 0;u===void 0&&(u=y[ie]),Y?(0,L.Z)(V,ie,u):(0,c.Z)(V,ie,u)}return V}},"./node_modules/lodash-es/_createAssigner.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>A});const c=function(T){return T},L=function(T,S,ae){switch(ae.length){case 0:return T.call(S);case 1:return T.call(S,ae[0]);case 2:return T.call(S,ae[0],ae[1]);case 3:return T.call(S,ae[0],ae[1],ae[2])}return T.apply(S,ae)};var B=Math.max;const y=function(T,S,ae){return S=B(S===void 0?T.length-1:S,0),function(){for(var $=arguments,z=-1,f=B($.length-S,0),j=Array(f);++z<f;)j[z]=$[S+z];z=-1;for(var Z=Array(S+1);++z<S;)Z[z]=$[z];return Z[S]=ae(j),L(T,this,Z)}},h=function(T){return function(){return T}};var V=l("./node_modules/lodash-es/_defineProperty.js");const q=V.Z?function(T,S){return(0,V.Z)(T,"toString",{configurable:!0,enumerable:!1,value:h(S),writable:!0})}:c;var Y=Date.now;const ee=function(T){var S=0,ae=0;return function(){var $=Y(),z=16-($-ae);if(ae=$,z>0){if(++S>=800)return arguments[0]}else S=0;return T.apply(void 0,arguments)}}(q),re=function(T,S){return ee(y(T,S,c),T+"")};var ie=l("./node_modules/lodash-es/eq.js"),u=l("./node_modules/lodash-es/isArrayLike.js"),_=l("./node_modules/lodash-es/_isIndex.js"),p=l("./node_modules/lodash-es/isObject.js");const v=function(T,S,ae){if(!(0,p.Z)(ae))return!1;var $=typeof S;return!!($=="number"?(0,u.Z)(ae)&&(0,_.Z)(S,ae.length):$=="string"&&S in ae)&&(0,ie.Z)(ae[S],T)},A=function(T){return re(function(S,ae){var $=-1,z=ae.length,f=z>1?ae[z-1]:void 0,j=z>2?ae[2]:void 0;for(f=T.length>3&&typeof f=="function"?(z--,f):void 0,j&&v(ae[0],ae[1],j)&&(f=z<3?void 0:f,z=1),S=Object(S);++$<z;){var Z=ae[$];Z&&T(S,Z,$,f)}return S})}},"./node_modules/lodash-es/_defineProperty.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=l("./node_modules/lodash-es/_getNative.js");const L=function(){try{var B=(0,c.Z)(Object,"defineProperty");return B({},"",{}),B}catch{}}()},"./node_modules/lodash-es/_freeGlobal.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=typeof te.g=="object"&&te.g&&te.g.Object===Object&&te.g},"./node_modules/lodash-es/_getAllKeys.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>y});var c=l("./node_modules/lodash-es/_baseGetAllKeys.js"),L=l("./node_modules/lodash-es/_getSymbols.js"),B=l("./node_modules/lodash-es/keys.js");const y=function(h){return(0,c.Z)(h,B.Z,L.Z)}},"./node_modules/lodash-es/_getNative.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>A});var c=l("./node_modules/lodash-es/isFunction.js");const L=l("./node_modules/lodash-es/_root.js").Z["__core-js_shared__"];var B,y=(B=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"";const h=function(T){return!!y&&y in T};var V=l("./node_modules/lodash-es/isObject.js"),q=l("./node_modules/lodash-es/_toSource.js"),Y=/^\[object .+?Constructor\]$/,ee=Function.prototype,re=Object.prototype,ie=ee.toString,u=re.hasOwnProperty,_=RegExp("^"+ie.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const p=function(T){return!(!(0,V.Z)(T)||h(T))&&((0,c.Z)(T)?_:Y).test((0,q.Z)(T))},v=function(T,S){return T?.[S]},A=function(T,S){var ae=v(T,S);return p(ae)?ae:void 0}},"./node_modules/lodash-es/_getPrototype.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=(0,l("./node_modules/lodash-es/_overArg.js").Z)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_getSymbols.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>h});const c=function(V,q){for(var Y=-1,ee=V==null?0:V.length,re=0,ie=[];++Y<ee;){var u=V[Y];q(u,Y,V)&&(ie[re++]=u)}return ie};var L=l("./node_modules/lodash-es/stubArray.js"),B=Object.prototype.propertyIsEnumerable,y=Object.getOwnPropertySymbols;const h=y?function(V){return V==null?[]:(V=Object(V),c(y(V),function(q){return B.call(V,q)}))}:L.Z},"./node_modules/lodash-es/_getTag.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>z});var c=l("./node_modules/lodash-es/_getNative.js"),L=l("./node_modules/lodash-es/_root.js");const B=(0,c.Z)(L.Z,"DataView");var y=l("./node_modules/lodash-es/_Map.js");const h=(0,c.Z)(L.Z,"Promise"),V=(0,c.Z)(L.Z,"Set"),q=(0,c.Z)(L.Z,"WeakMap");var Y=l("./node_modules/lodash-es/_baseGetTag.js"),ee=l("./node_modules/lodash-es/_toSource.js"),re="[object Map]",ie="[object Promise]",u="[object Set]",_="[object WeakMap]",p="[object DataView]",v=(0,ee.Z)(B),A=(0,ee.Z)(y.Z),T=(0,ee.Z)(h),S=(0,ee.Z)(V),ae=(0,ee.Z)(q),$=Y.Z;(B&&$(new B(new ArrayBuffer(1)))!=p||y.Z&&$(new y.Z)!=re||h&&$(h.resolve())!=ie||V&&$(new V)!=u||q&&$(new q)!=_)&&($=function(f){var j=(0,Y.Z)(f),Z=j=="[object Object]"?f.constructor:void 0,D=Z?(0,ee.Z)(Z):"";if(D)switch(D){case v:return p;case A:return re;case T:return ie;case S:return u;case ae:return _}return j});const z=$},"./node_modules/lodash-es/_initCloneObject.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>V});var c=l("./node_modules/lodash-es/isObject.js"),L=Object.create;const B=function(){function q(){}return function(Y){if(!(0,c.Z)(Y))return{};if(L)return L(Y);q.prototype=Y;var ee=new q;return q.prototype=void 0,ee}}();var y=l("./node_modules/lodash-es/_getPrototype.js"),h=l("./node_modules/lodash-es/_isPrototype.js");const V=function(q){return typeof q.constructor!="function"||(0,h.Z)(q)?{}:B((0,y.Z)(q))}},"./node_modules/lodash-es/_isIndex.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=/^(?:0|[1-9]\d*)$/;const L=function(B,y){var h=typeof B;return!!(y=y??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(B))&&B>-1&&B%1==0&&B<y}},"./node_modules/lodash-es/_isPrototype.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=Object.prototype;const L=function(B){var y=B&&B.constructor;return B===(typeof y=="function"&&y.prototype||c)}},"./node_modules/lodash-es/_nodeUtil.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>h});var c=l("./node_modules/lodash-es/_freeGlobal.js"),L=It&&!It.nodeType&&It,B=L&&!0&&Qt&&!Qt.nodeType&&Qt,y=B&&B.exports===L&&c.Z.process;const h=function(){try{var V=B&&B.require&&B.require("util").types;return V||y&&y.binding&&y.binding("util")}catch{}}()},"./node_modules/lodash-es/_overArg.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L,B){return function(y){return L(B(y))}}},"./node_modules/lodash-es/_root.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/_freeGlobal.js"),L=typeof self=="object"&&self&&self.Object===Object&&self;const B=c.Z||L||Function("return this")()},"./node_modules/lodash-es/_toSource.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=Function.prototype.toString;const L=function(B){if(B!=null){try{return c.call(B)}catch{}try{return B+""}catch{}}return""}},"./node_modules/lodash-es/assignIn.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>y});var c=l("./node_modules/lodash-es/_copyObject.js"),L=l("./node_modules/lodash-es/_createAssigner.js"),B=l("./node_modules/lodash-es/keysIn.js");const y=(0,L.Z)(function(h,V){(0,c.Z)(V,(0,B.Z)(V),h)})},"./node_modules/lodash-es/cloneDeepWith.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>L});var c=l("./node_modules/lodash-es/_baseClone.js");const L=function(B,y){return y=typeof y=="function"?y:void 0,(0,c.Z)(B,5,y)}},"./node_modules/lodash-es/debounce.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>A});var c=l("./node_modules/lodash-es/isObject.js"),L=l("./node_modules/lodash-es/_root.js");const B=function(){return L.Z.Date.now()};var y=/\s/;const h=function(T){for(var S=T.length;S--&&y.test(T.charAt(S)););return S};var V=/^\s+/;const q=function(T){return T&&T.slice(0,h(T)+1).replace(V,"")};var Y=l("./node_modules/lodash-es/isSymbol.js"),ee=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ie=/^0o[0-7]+$/i,u=parseInt;const _=function(T){if(typeof T=="number")return T;if((0,Y.Z)(T))return NaN;if((0,c.Z)(T)){var S=typeof T.valueOf=="function"?T.valueOf():T;T=(0,c.Z)(S)?S+"":S}if(typeof T!="string")return T===0?T:+T;T=q(T);var ae=re.test(T);return ae||ie.test(T)?u(T.slice(2),ae?2:8):ee.test(T)?NaN:+T};var p=Math.max,v=Math.min;const A=function(T,S,ae){var $,z,f,j,Z,D,oe=0,Se=!1,je=!1,Ie=!0;if(typeof T!="function")throw new TypeError("Expected a function");function De(vt){var bt=$,Qe=z;return $=z=void 0,oe=vt,j=T.apply(Qe,bt)}function mt(vt){var bt=vt-D;return D===void 0||bt>=S||bt<0||je&&vt-oe>=f}function lt(){var vt=B();if(mt(vt))return ut(vt);Z=setTimeout(lt,function(bt){var Qe=S-(bt-D);return je?v(Qe,f-(bt-oe)):Qe}(vt))}function ut(vt){return Z=void 0,Ie&&$?De(vt):($=z=void 0,j)}function dt(){var vt=B(),bt=mt(vt);if($=arguments,z=this,D=vt,bt){if(Z===void 0)return function(Qe){return oe=Qe,Z=setTimeout(lt,S),Se?De(Qe):j}(D);if(je)return clearTimeout(Z),Z=setTimeout(lt,S),De(D)}return Z===void 0&&(Z=setTimeout(lt,S)),j}return S=_(S)||0,(0,c.Z)(ae)&&(Se=!!ae.leading,f=(je="maxWait"in ae)?p(_(ae.maxWait)||0,S):f,Ie="trailing"in ae?!!ae.trailing:Ie),dt.cancel=function(){Z!==void 0&&clearTimeout(Z),oe=0,$=D=z=Z=void 0},dt.flush=function(){return Z===void 0?j:ut(B())},dt}},"./node_modules/lodash-es/eq.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L,B){return L===B||L!=L&&B!=B}},"./node_modules/lodash-es/escapeRegExp.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>y});var c=l("./node_modules/lodash-es/toString.js"),L=/[\\^$.*+?()[\]{}|]/g,B=RegExp(L.source);const y=function(h){return(h=(0,c.Z)(h))&&B.test(h)?h.replace(L,"\\$&"):h}},"./node_modules/lodash-es/isArguments.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>q});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isObjectLike.js");const B=function(Y){return(0,L.Z)(Y)&&(0,c.Z)(Y)=="[object Arguments]"};var y=Object.prototype,h=y.hasOwnProperty,V=y.propertyIsEnumerable;const q=B(function(){return arguments}())?B:function(Y){return(0,L.Z)(Y)&&h.call(Y,"callee")&&!V.call(Y,"callee")}},"./node_modules/lodash-es/isArray.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=Array.isArray},"./node_modules/lodash-es/isArrayLike.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/isFunction.js"),L=l("./node_modules/lodash-es/isLength.js");const B=function(y){return y!=null&&(0,L.Z)(y.length)&&!(0,c.Z)(y)}},"./node_modules/lodash-es/isBuffer.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>V});var c=l("./node_modules/lodash-es/_root.js");const L=function(){return!1};var B=It&&!It.nodeType&&It,y=B&&!0&&Qt&&!Qt.nodeType&&Qt,h=y&&y.exports===B?c.Z.Buffer:void 0;const V=(h?h.isBuffer:void 0)||L},"./node_modules/lodash-es/isElement.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/isObjectLike.js"),L=l("./node_modules/lodash-es/isPlainObject.js");const B=function(y){return(0,c.Z)(y)&&y.nodeType===1&&!(0,L.Z)(y)}},"./node_modules/lodash-es/isFunction.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isObject.js");const B=function(y){if(!(0,L.Z)(y))return!1;var h=(0,c.Z)(y);return h=="[object Function]"||h=="[object GeneratorFunction]"||h=="[object AsyncFunction]"||h=="[object Proxy]"}},"./node_modules/lodash-es/isLength.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=9007199254740991}},"./node_modules/lodash-es/isObject.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L){var B=typeof L;return L!=null&&(B=="object"||B=="function")}},"./node_modules/lodash-es/isObjectLike.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(L){return L!=null&&typeof L=="object"}},"./node_modules/lodash-es/isPlainObject.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>ee});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/_getPrototype.js"),B=l("./node_modules/lodash-es/isObjectLike.js"),y=Function.prototype,h=Object.prototype,V=y.toString,q=h.hasOwnProperty,Y=V.call(Object);const ee=function(re){if(!(0,B.Z)(re)||(0,c.Z)(re)!="[object Object]")return!1;var ie=(0,L.Z)(re);if(ie===null)return!0;var u=q.call(ie,"constructor")&&ie.constructor;return typeof u=="function"&&u instanceof u&&V.call(u)==Y}},"./node_modules/lodash-es/isSymbol.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isObjectLike.js");const B=function(y){return typeof y=="symbol"||(0,L.Z)(y)&&(0,c.Z)(y)=="[object Symbol]"}},"./node_modules/lodash-es/isTypedArray.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>ee});var c=l("./node_modules/lodash-es/_baseGetTag.js"),L=l("./node_modules/lodash-es/isLength.js"),B=l("./node_modules/lodash-es/isObjectLike.js"),y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y["[object Arguments]"]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y["[object Map]"]=y["[object Number]"]=y["[object Object]"]=y["[object RegExp]"]=y["[object Set]"]=y["[object String]"]=y["[object WeakMap]"]=!1;const h=function(re){return(0,B.Z)(re)&&(0,L.Z)(re.length)&&!!y[(0,c.Z)(re)]};var V=l("./node_modules/lodash-es/_baseUnary.js"),q=l("./node_modules/lodash-es/_nodeUtil.js"),Y=q.Z&&q.Z.isTypedArray;const ee=Y?(0,V.Z)(Y):h},"./node_modules/lodash-es/keys.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>q});var c=l("./node_modules/lodash-es/_arrayLikeKeys.js"),L=l("./node_modules/lodash-es/_isPrototype.js");const B=(0,l("./node_modules/lodash-es/_overArg.js").Z)(Object.keys,Object);var y=Object.prototype.hasOwnProperty;const h=function(Y){if(!(0,L.Z)(Y))return B(Y);var ee=[];for(var re in Object(Y))y.call(Y,re)&&re!="constructor"&&ee.push(re);return ee};var V=l("./node_modules/lodash-es/isArrayLike.js");const q=function(Y){return(0,V.Z)(Y)?(0,c.Z)(Y):h(Y)}},"./node_modules/lodash-es/keysIn.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>Y});var c=l("./node_modules/lodash-es/_arrayLikeKeys.js"),L=l("./node_modules/lodash-es/isObject.js"),B=l("./node_modules/lodash-es/_isPrototype.js");const y=function(ee){var re=[];if(ee!=null)for(var ie in Object(ee))re.push(ie);return re};var h=Object.prototype.hasOwnProperty;const V=function(ee){if(!(0,L.Z)(ee))return y(ee);var re=(0,B.Z)(ee),ie=[];for(var u in ee)(u!="constructor"||!re&&h.call(ee,u))&&ie.push(u);return ie};var q=l("./node_modules/lodash-es/isArrayLike.js");const Y=function(ee){return(0,q.Z)(ee)?(0,c.Z)(ee,!0):V(ee)}},"./node_modules/lodash-es/stubArray.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>c});const c=function(){return[]}},"./node_modules/lodash-es/throttle.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>B});var c=l("./node_modules/lodash-es/debounce.js"),L=l("./node_modules/lodash-es/isObject.js");const B=function(y,h,V){var q=!0,Y=!0;if(typeof y!="function")throw new TypeError("Expected a function");return(0,L.Z)(V)&&(q="leading"in V?!!V.leading:q,Y="trailing"in V?!!V.trailing:Y),(0,c.Z)(y,h,{leading:q,maxWait:h,trailing:Y})}},"./node_modules/lodash-es/toString.js":(w,C,l)=>{"use strict";l.d(C,{Z:()=>Y});var c=l("./node_modules/lodash-es/_Symbol.js");const L=function(ee,re){for(var ie=-1,u=ee==null?0:ee.length,_=Array(u);++ie<u;)_[ie]=re(ee[ie],ie,ee);return _};var B=l("./node_modules/lodash-es/isArray.js"),y=l("./node_modules/lodash-es/isSymbol.js"),h=c.Z?c.Z.prototype:void 0,V=h?h.toString:void 0;const q=function ee(re){if(typeof re=="string")return re;if((0,B.Z)(re))return L(re,ee)+"";if((0,y.Z)(re))return V?V.call(re):"";var ie=re+"";return ie=="0"&&1/re==-1/0?"-0":ie},Y=function(ee){return ee==null?"":q(ee)}}},g={};function R(w){var C=g[w];if(C!==void 0)return C.exports;var l=g[w]={id:w,exports:{}};return zt[w](l,l.exports,R),l.exports}R.n=w=>{var C=w&&w.__esModule?()=>w.default:()=>w;return R.d(C,{a:C}),C},R.d=(w,C)=>{for(var l in C)R.o(C,l)&&!R.o(w,l)&&Object.defineProperty(w,l,{enumerable:!0,get:C[l]})},R.o=(w,C)=>Object.prototype.hasOwnProperty.call(w,C),R.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},R.nc=void 0;var E=R("?7cdd");(window.CKEditor5=window.CKEditor5||{}).dll=E})(),function(zt){zt.CKEditor5=zt.CKEditor5||{};const g=["utils","core","engine","ui","clipboard","enter","paragraph","select-all","typing","undo","upload","widget","watchdog"];for(const R of g){const E=R.replace(/-([a-z])/g,(w,C)=>C.toUpperCase());zt.CKEditor5[E]=zt.CKEditor5.dll(`./src/${R}.js`)}}(window)}}]);
